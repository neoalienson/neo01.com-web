<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    



    
    <title>Single Responsibility Principle: The Foundation of SOLID Design | Decoding Digital Anomalies</title>
    
    <meta name="keywords" content="Architecture,Best Practices,Software Design">
    
    
    <meta name="description" content="A class should have only one reason to change. This simple statement forms the foundation of SOLID design, yet developers struggle with what constitutes a 'single responsibility' and when to split cla">
<meta property="og:type" content="article">
<meta property="og:title" content="Single Responsibility Principle: The Foundation of SOLID Design">
<meta property="og:url" content="https://neo01.com/2021/09/Single-Responsibility-Principle-SOLID/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="A class should have only one reason to change. This simple statement forms the foundation of SOLID design, yet developers struggle with what constitutes a 'single responsibility' and when to split cla">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://neo01.com/assets/solid/thumbnail.png">
<meta property="article:published_time" content="2021-09-08T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-25T16:48:25.630Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="Architecture">
<meta property="article:tag" content="Best Practices">
<meta property="article:tag" content="Software Design">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/assets/solid/thumbnail.png">
    
    <!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.0">  <link rel="canonical" href="https://neo01.com/2021/09/Single-Responsibility-Principle-SOLID/">
  <link rel="alternate" hreflang="en" data-canonical="true" href="https://neo01.com/2021/09/Single-Responsibility-Principle-SOLID/">
  <link rel="alternate" hreflang="zh-TW" href="https://neo01.com/zh-TW/2021/09/Single-Responsibility-Principle-SOLID/">
  <link rel="alternate" hreflang="zh-CN" href="https://neo01.com/zh-CN/2021/09/Single-Responsibility-Principle-SOLID/">
  <link rel="alternate" hreflang="ja" href="https://neo01.com/ja/2021/09/Single-Responsibility-Principle-SOLID/">
<style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* 内容区域 margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE 类型 */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO 类型 */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* 警告类 */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* 错误类 */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP 类型 */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS 类型 */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION 类型 */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE 类型 */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE 类型 */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*黑暗模式*/
/* 夜间模式基础样式 */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style></head>

<body>
    <div id="wrap">
        
        
<header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <div class="logo"></div>
                    </h1>

                        <h2 class="subtitle-wrap">
                            <p class="title">Decoding Digital Anomalies</p>
                          <p class="subtitle">Sometimes the feature is the bug in the digital rabbit hole, and vice versa</p>
                        </h2>




                    <div id="lang-selector">
                        <span class="lang-icon">🌐</span>
                        
                            <a href="#" class="lang-link" data-lang="zh-TW">繁體中文</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-CN">简体中文</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="ja">日本語</a>
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            var currentLang = 'en';
                            var currentPath = window.location.pathname;
                            var basePath;
                            
                            if (currentLang === 'en') {
                                basePath = currentPath;
                            } else {
                                basePath = currentPath.replace(new RegExp('^/' + currentLang + '/'), '/');
                            }
                            
                            document.querySelectorAll('.lang-link').forEach(function(link) {
                                var targetLang = link.getAttribute('data-lang');
                                var targetPath;
                                if (targetLang === 'en') {
                                    targetPath = basePath;
                                } else {
                                    targetPath = '/' + targetLang + basePath;
                                }
                                link.href = targetPath;
                            });
                        });
                        </script>
                    </div>


                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/">AI</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/Art-Gallery/">Art Gallery</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Architecture/">Architecture</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Cybersecurity/">Cybersecurity</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Development/">Development</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Misc/">Misc</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about-me">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="Search">
        <button type="submit" title="Search" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'en',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Development/">Development</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2021/09/Single-Responsibility-Principle-SOLID" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Single Responsibility Principle: The Foundation of SOLID Design
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2021-09-08T16:00:00.000Z" itemprop="datePublished">2021-09-09</time>
          &nbsp;<i class="fa fa-calendar"></i>
          Updated <time datetime="2025-10-25T16:48:25.630Z" itemprop="datePublished">2025-10-26</time>
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Architecture/">Architecture</a> <a class="tag-link" href="/tags/Best-Practices/">Best Practices</a> <a class="tag-link" href="/tags/Software-Design/">Software Design</a>
    </div>

            </div>
        
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Understanding-Single-Responsibility"><span class="toc-text">Understanding Single Responsibility</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Obvious-Violations-The-God-Class"><span class="toc-text">Obvious Violations: The God Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Subtle-Violations-Mixed-Concerns"><span class="toc-text">Subtle Violations: Mixed Concerns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-Granularity-Trap-Too-Many-Classes"><span class="toc-text">The Granularity Trap: Too Many Classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Identifying-Responsibilities-The-Actor-Test"><span class="toc-text">Identifying Responsibilities: The Actor Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#When-to-Apply-SRP-Timing-Matters"><span class="toc-text">When to Apply SRP: Timing Matters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol>
            <p>The Single Responsibility Principle (SRP) stands as the first and arguably most fundamental principle in SOLID design. Coined by Robert C. Martin, it states: “A class should have only one reason to change.” This deceptively simple statement has sparked countless debates about what constitutes a “single responsibility,” when to split classes, and how granular is too granular. Developers oscillate between creating god classes that do everything and over-fragmenting code into dozens of tiny classes that obscure the overall design.</p>
<p>This exploration examines the Single Responsibility Principle through real-world scenarios, from obvious violations to subtle design decisions. We’ll dissect what “responsibility” actually means, when to split classes, and when consolidation makes more sense. Drawing from production codebases and refactoring experiences, we uncover why SRP is both essential and easily misunderstood.</p>
<h2 id="Understanding-Single-Responsibility">Understanding Single Responsibility</h2>
<p>Before diving into when and how to apply SRP, understanding what the principle actually means is essential. The term “single responsibility” is often misinterpreted as “does only one thing.”</p>
<h3 id="What-is-a-Responsibility">What is a Responsibility?</h3>
<p>A responsibility is not a method or a function—it’s a reason to change:</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📚 Responsibility Definition</p><div class="admonition-content"><p><strong>Not About Method Count</strong></p>
<ul>
<li>A class can have multiple methods</li>
<li>Multiple methods can serve one responsibility</li>
<li>Single method doesn't guarantee single responsibility</li>
</ul>
<p><strong>About Reasons to Change</strong></p>
<ul>
<li>Business logic changes</li>
<li>Data format changes</li>
<li>External system integration changes</li>
<li>Each represents a different responsibility</li>
</ul>
<p><strong>About Actors</strong></p>
<ul>
<li>Who requests changes to this code?</li>
<li>Different stakeholders = different responsibilities</li>
<li>CFO wants financial reports, CTO wants system metrics</li>
<li>Same class serving both = multiple responsibilities</li>
</ul>
</div></div>
<p>The principle emphasizes “reason to change” because that’s where maintenance pain emerges. When a class has multiple responsibilities, changes for one reason can break functionality for another reason.</p>
<h3 id="Why-SRP-Matters">Why SRP Matters</h3>
<p>Violating SRP creates maintenance burden and introduces bugs:</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ Costs of Multiple Responsibilities</p><div class="admonition-content"><p><strong>Coupling and Fragility</strong></p>
<ul>
<li>Changes for one responsibility affect others</li>
<li>Risk of breaking unrelated functionality</li>
<li>Difficult to modify without side effects</li>
</ul>
<p><strong>Testing Complexity</strong></p>
<ul>
<li>Must test all responsibilities together</li>
<li>Cannot test responsibilities in isolation</li>
<li>Test setup becomes complex</li>
<li>Mocking becomes difficult</li>
</ul>
<p><strong>Reusability Problems</strong></p>
<ul>
<li>Cannot reuse one responsibility without others</li>
<li>Forces unnecessary dependencies</li>
<li>Leads to code duplication</li>
</ul>
</div></div>
<p>These costs compound over time. A class with multiple responsibilities becomes increasingly difficult to maintain as the codebase evolves.</p>
<h2 id="Obvious-Violations-The-God-Class">Obvious Violations: The God Class</h2>
<p>The most blatant SRP violations come from god classes—classes that handle multiple unrelated responsibilities.</p>
<h3 id="The-Classic-God-Class">The Classic God Class</h3>
<p>Consider this common pattern in web applications:</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">UserManager</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> db_connection<span class="token punctuation">,</span> email_service<span class="token punctuation">,</span> logger<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>db <span class="token operator">=</span> db_connection
        self<span class="token punctuation">.</span>email <span class="token operator">=</span> email_service
        self<span class="token punctuation">.</span>logger <span class="token operator">=</span> logger
    
    <span class="token comment"># User CRUD operations</span>
    <span class="token keyword">def</span> <span class="token function">create_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        hashed_password <span class="token operator">=</span> self<span class="token punctuation">.</span>_hash_password<span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        user_id <span class="token operator">=</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
            <span class="token string">"INSERT INTO users (username, email, password) VALUES (?, ?, ?)"</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span>username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> hashed_password<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"User created: </span><span class="token interpolation"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> user_id
    
    <span class="token keyword">def</span> <span class="token function">get_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"SELECT * FROM users WHERE id = ?"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">update_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Update logic</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"User updated: </span><span class="token interpolation"><span class="token punctuation">{</span>user_id<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">delete_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"DELETE FROM users WHERE id = ?"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"User deleted: </span><span class="token interpolation"><span class="token punctuation">{</span>user_id<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># Password management</span>
    <span class="token keyword">def</span> <span class="token function">_hash_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> hashlib
        <span class="token keyword">return</span> hashlib<span class="token punctuation">.</span>sha256<span class="token punctuation">(</span>password<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">verify_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>get_user<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_hash_password<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">==</span> user<span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span>
    
    <span class="token keyword">def</span> <span class="token function">reset_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        new_password <span class="token operator">=</span> self<span class="token punctuation">.</span>_generate_random_password<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>update_user<span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> password<span class="token operator">=</span>self<span class="token punctuation">.</span>_hash_password<span class="token punctuation">(</span>new_password<span class="token punctuation">)</span><span class="token punctuation">)</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>get_user<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>send_password_reset_email<span class="token punctuation">(</span>user<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> new_password<span class="token punctuation">)</span>
    
    <span class="token comment"># Email operations</span>
    <span class="token keyword">def</span> <span class="token function">send_welcome_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>get_user<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>
            to<span class="token operator">=</span>user<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            subject<span class="token operator">=</span><span class="token string">"Welcome!"</span><span class="token punctuation">,</span>
            body<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Welcome </span><span class="token interpolation"><span class="token punctuation">{</span>user<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">!"</span></span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Welcome email sent to </span><span class="token interpolation"><span class="token punctuation">{</span>user<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">send_password_reset_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email<span class="token punctuation">,</span> new_password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>
            to<span class="token operator">=</span>email<span class="token punctuation">,</span>
            subject<span class="token operator">=</span><span class="token string">"Password Reset"</span><span class="token punctuation">,</span>
            body<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Your new password is: </span><span class="token interpolation"><span class="token punctuation">{</span>new_password<span class="token punctuation">}</span></span><span class="token string">"</span></span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Password reset email sent to </span><span class="token interpolation"><span class="token punctuation">{</span>email<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># Validation</span>
    <span class="token keyword">def</span> <span class="token function">validate_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> re
        pattern <span class="token operator">=</span> <span class="token string">r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'</span>
        <span class="token keyword">return</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> email<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">validate_username</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">3</span> <span class="token keyword">and</span> username<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># Utility methods</span>
    <span class="token keyword">def</span> <span class="token function">_generate_random_password</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> random
        <span class="token keyword">import</span> string
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choices<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>This class has at least five distinct responsibilities:</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 Multiple Responsibilities Identified</p><div class="admonition-content"><p><strong>Database Operations</strong></p>
<ul>
<li>CRUD operations for users</li>
<li>SQL query construction</li>
<li>Database connection management</li>
</ul>
<p><strong>Password Management</strong></p>
<ul>
<li>Password hashing</li>
<li>Password verification</li>
<li>Password generation</li>
</ul>
<p><strong>Email Operations</strong></p>
<ul>
<li>Welcome email composition and sending</li>
<li>Password reset email composition and sending</li>
</ul>
<p><strong>Validation</strong></p>
<ul>
<li>Email format validation</li>
<li>Username validation</li>
</ul>
<p><strong>Logging</strong></p>
<ul>
<li>Logging user operations</li>
<li>Logging email operations</li>
</ul>
</div></div>
<p>Each responsibility represents a different reason to change. If email templates change, you modify UserManager. If password hashing algorithm changes, you modify UserManager. If validation rules change, you modify UserManager. Every change risks breaking unrelated functionality.</p>
<p>This is a classic example of the <a href="/2022/04/Software-Development-Anti-Patterns/">God Object anti-pattern</a>—a class that accumulates too many responsibilities and becomes unmaintainable.</p>
<h3 id="Refactoring-to-Single-Responsibilities">Refactoring to Single Responsibilities</h3>
<p>Split the god class into focused classes, each with a single responsibility:</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># Responsibility: Password security</span>
<span class="token keyword">class</span> <span class="token class-name">PasswordService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hash_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> hashlib
        <span class="token keyword">return</span> hashlib<span class="token punctuation">.</span>sha256<span class="token punctuation">(</span>password<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">verify_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> password<span class="token punctuation">,</span> hashed_password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>hash_password<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">==</span> hashed_password
    
    <span class="token keyword">def</span> <span class="token function">generate_random_password</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> random
        <span class="token keyword">import</span> string
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choices<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Responsibility: User data validation</span>
<span class="token keyword">class</span> <span class="token class-name">UserValidator</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">validate_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> re
        pattern <span class="token operator">=</span> <span class="token string">r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Invalid email format"</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">validate_username</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token keyword">or</span> <span class="token keyword">not</span> username<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Username must be at least 3 alphanumeric characters"</span><span class="token punctuation">)</span>

<span class="token comment"># Responsibility: User-related email operations</span>
<span class="token keyword">class</span> <span class="token class-name">UserEmailService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email_service<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email <span class="token operator">=</span> email_service
    
    <span class="token keyword">def</span> <span class="token function">send_welcome_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>
            to<span class="token operator">=</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
            subject<span class="token operator">=</span><span class="token string">"Welcome!"</span><span class="token punctuation">,</span>
            body<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Welcome </span><span class="token interpolation"><span class="token punctuation">{</span>user<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span><span class="token string">!"</span></span>
        <span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">send_password_reset_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user<span class="token punctuation">,</span> new_password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>
            to<span class="token operator">=</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
            subject<span class="token operator">=</span><span class="token string">"Password Reset"</span><span class="token punctuation">,</span>
            body<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Your new password is: </span><span class="token interpolation"><span class="token punctuation">{</span>new_password<span class="token punctuation">}</span></span><span class="token string">"</span></span>
        <span class="token punctuation">)</span>

<span class="token comment"># Responsibility: User data persistence</span>
<span class="token keyword">class</span> <span class="token class-name">UserRepository</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> db_connection<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>db <span class="token operator">=</span> db_connection
    
    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> hashed_password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
            <span class="token string">"INSERT INTO users (username, email, password) VALUES (?, ?, ?)"</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span>username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> hashed_password<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">find_by_id</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"SELECT * FROM users WHERE id = ?"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Update logic</span>
        <span class="token keyword">pass</span>
    
    <span class="token keyword">def</span> <span class="token function">delete</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"DELETE FROM users WHERE id = ?"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Responsibility: User business operations (orchestration)</span>
<span class="token keyword">class</span> <span class="token class-name">UserService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> repository<span class="token punctuation">,</span> password_service<span class="token punctuation">,</span> validator<span class="token punctuation">,</span> email_service<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>repository <span class="token operator">=</span> repository
        self<span class="token punctuation">.</span>password_service <span class="token operator">=</span> password_service
        self<span class="token punctuation">.</span>validator <span class="token operator">=</span> validator
        self<span class="token punctuation">.</span>email_service <span class="token operator">=</span> email_service
    
    <span class="token keyword">def</span> <span class="token function">register_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>validator<span class="token punctuation">.</span>validate_username<span class="token punctuation">(</span>username<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>validator<span class="token punctuation">.</span>validate_email<span class="token punctuation">(</span>email<span class="token punctuation">)</span>
        
        hashed_password <span class="token operator">=</span> self<span class="token punctuation">.</span>password_service<span class="token punctuation">.</span>hash_password<span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        user_id <span class="token operator">=</span> self<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>create<span class="token punctuation">(</span>username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> hashed_password<span class="token punctuation">)</span>
        
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>find_by_id<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>email_service<span class="token punctuation">.</span>send_welcome_email<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> user_id
    
    <span class="token keyword">def</span> <span class="token function">reset_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        new_password <span class="token operator">=</span> self<span class="token punctuation">.</span>password_service<span class="token punctuation">.</span>generate_random_password<span class="token punctuation">(</span><span class="token punctuation">)</span>
        hashed_password <span class="token operator">=</span> self<span class="token punctuation">.</span>password_service<span class="token punctuation">.</span>hash_password<span class="token punctuation">(</span>new_password<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>update<span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> password<span class="token operator">=</span>hashed_password<span class="token punctuation">)</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>find_by_id<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>email_service<span class="token punctuation">.</span>send_password_reset_email<span class="token punctuation">(</span>user<span class="token punctuation">,</span> new_password<span class="token punctuation">)</span></code></pre>
<p>Now each class has a single, well-defined responsibility:</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ Single Responsibility Benefits</p><div class="admonition-content"><p><strong>Focused Classes</strong></p>
<ul>
<li>PasswordService: password security operations</li>
<li>UserValidator: user data validation rules</li>
<li>UserEmailService: user-related email operations</li>
<li>UserRepository: user data persistence</li>
<li>UserService: orchestrates user business operations</li>
</ul>
<p><strong>Clear Reasons to Change</strong></p>
<ul>
<li>Password algorithm changes → PasswordService</li>
<li>Validation rules change → UserValidator</li>
<li>Email templates change → UserEmailService</li>
<li>Database schema changes → UserRepository</li>
<li>Business workflow changes → UserService</li>
</ul>
<p><strong>Improved Testability</strong></p>
<ul>
<li>Test password hashing independently</li>
<li>Test validation rules in isolation</li>
<li>Mock email service for user operations</li>
<li>Test repository without business logic</li>
</ul>
</div></div>
<p>Each class can now evolve independently. Changes to password hashing don’t risk breaking email functionality. Changes to validation don’t affect database operations.</p>
<h2 id="Subtle-Violations-Mixed-Concerns">Subtle Violations: Mixed Concerns</h2>
<p>More insidious than god classes are classes that mix concerns in subtle ways—appearing focused but actually handling multiple responsibilities.</p>
<h3 id="The-Report-Generator-Problem">The Report Generator Problem</h3>
<p>Consider a class that generates sales reports:</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SalesReportGenerator</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">DatabaseConnection</span> db<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generateReport</span><span class="token punctuation">(</span><span class="token class-name">Date</span> startDate<span class="token punctuation">,</span> <span class="token class-name">Date</span> endDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Fetch data from database</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sale</span><span class="token punctuation">&gt;</span></span> sales <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>
            <span class="token string">"SELECT * FROM sales WHERE date BETWEEN ? AND ?"</span><span class="token punctuation">,</span>
            startDate<span class="token punctuation">,</span> endDate
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Calculate statistics</span>
        <span class="token keyword">double</span> totalRevenue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> revenueByProduct <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Sale</span> sale <span class="token operator">:</span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            totalRevenue <span class="token operator">+=</span> sale<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            revenueByProduct<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>
                sale<span class="token punctuation">.</span><span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                sale<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Double</span><span class="token operator">::</span><span class="token function">sum</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// Format as HTML</span>
        <span class="token class-name">StringBuilder</span> html <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;Sales Report&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;Period: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>startDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" to "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>endDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;Total Revenue: $"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>totalRevenue<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;h2&gt;Revenue by Product&lt;/h2&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;ul&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> revenueByProduct<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;li&gt;"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">": $"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/li&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> html<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>This class appears focused—it generates sales reports. But it actually has three distinct responsibilities:</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ Hidden Multiple Responsibilities</p><div class="admonition-content"><p><strong>Data Retrieval</strong></p>
<ul>
<li>Queries database for sales data</li>
<li>Constructs SQL queries</li>
<li>Handles database connection</li>
</ul>
<p><strong>Business Logic</strong></p>
<ul>
<li>Calculates total revenue</li>
<li>Aggregates revenue by product</li>
<li>Computes statistics</li>
</ul>
<p><strong>Presentation</strong></p>
<ul>
<li>Formats data as HTML</li>
<li>Defines report structure</li>
<li>Handles HTML escaping</li>
</ul>
</div></div>
<p>What happens when requirements change? If you need reports in PDF format, you modify this class. If the database schema changes, you modify this class. If calculation logic changes, you modify this class. Three different actors (UI team, DBA, business analysts) all have reasons to change this single class.</p>
<h3 id="Refactoring-to-Separate-Concerns">Refactoring to Separate Concerns</h3>
<p>Split the responsibilities into focused classes:</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// Responsibility: Retrieve sales data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SalesRepository</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">DatabaseConnection</span> db<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sale</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByDateRange</span><span class="token punctuation">(</span><span class="token class-name">Date</span> startDate<span class="token punctuation">,</span> <span class="token class-name">Date</span> endDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>
            <span class="token string">"SELECT * FROM sales WHERE date BETWEEN ? AND ?"</span><span class="token punctuation">,</span>
            startDate<span class="token punctuation">,</span> endDate
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Responsibility: Calculate sales statistics</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SalesAnalyzer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">SalesStatistics</span> <span class="token function">analyze</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sale</span><span class="token punctuation">&gt;</span></span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> totalRevenue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> revenueByProduct <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Sale</span> sale <span class="token operator">:</span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            totalRevenue <span class="token operator">+=</span> sale<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            revenueByProduct<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>
                sale<span class="token punctuation">.</span><span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                sale<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Double</span><span class="token operator">::</span><span class="token function">sum</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SalesStatistics</span><span class="token punctuation">(</span>totalRevenue<span class="token punctuation">,</span> revenueByProduct<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Responsibility: Format sales data as HTML</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HtmlSalesReportFormatter</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">Date</span> startDate<span class="token punctuation">,</span> <span class="token class-name">Date</span> endDate<span class="token punctuation">,</span> <span class="token class-name">SalesStatistics</span> stats<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> html <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;Sales Report&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;Period: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>startDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" to "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>endDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;Total Revenue: $"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">getTotalRevenue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;h2&gt;Revenue by Product&lt;/h2&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;ul&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token function">getRevenueByProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;li&gt;"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">": $"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/li&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        html<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> html<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Responsibility: Orchestrate report generation</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SalesReportService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SalesRepository</span> repository<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SalesAnalyzer</span> analyzer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SalesReportFormatter</span> formatter<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generateReport</span><span class="token punctuation">(</span><span class="token class-name">Date</span> startDate<span class="token punctuation">,</span> <span class="token class-name">Date</span> endDate<span class="token punctuation">,</span> <span class="token class-name">ReportFormat</span> format<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sale</span><span class="token punctuation">&gt;</span></span> sales <span class="token operator">=</span> repository<span class="token punctuation">.</span><span class="token function">findByDateRange</span><span class="token punctuation">(</span>startDate<span class="token punctuation">,</span> endDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SalesStatistics</span> stats <span class="token operator">=</span> analyzer<span class="token punctuation">.</span><span class="token function">analyze</span><span class="token punctuation">(</span>sales<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>startDate<span class="token punctuation">,</span> endDate<span class="token punctuation">,</span> stats<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Now each class has a single, focused responsibility:</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ Separation Benefits</p><div class="admonition-content"><p><strong>Independent Evolution</strong></p>
<ul>
<li>Add PDF formatter without touching data retrieval</li>
<li>Change database without affecting calculations</li>
<li>Modify calculations without affecting presentation</li>
</ul>
<p><strong>Reusability</strong></p>
<ul>
<li>Use SalesAnalyzer for different report types</li>
<li>Use SalesRepository for other sales operations</li>
<li>Create multiple formatters (PDF, Excel, JSON)</li>
</ul>
<p><strong>Testability</strong></p>
<ul>
<li>Test calculations with mock data</li>
<li>Test formatting without database</li>
<li>Test data retrieval independently</li>
</ul>
</div></div>
<p>The refactored design allows each responsibility to evolve independently. Adding PDF reports requires only a new formatter class. Changing calculation logic affects only SalesAnalyzer.</p>
<h2 id="The-Granularity-Trap-Too-Many-Classes">The Granularity Trap: Too Many Classes</h2>
<p>While SRP prevents god classes, overzealous application creates the opposite problem—excessive fragmentation into dozens of tiny classes.</p>
<h3 id="Over-Fragmentation-Example">Over-Fragmentation Example</h3>
<p>Consider this overly granular design:</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// Separate class for each validation rule</span>
<span class="token keyword">class</span> <span class="token class-name">EmailValidator</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[^\s@]+@[^\s@]+\.[^\s@]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PasswordLengthValidator</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> password<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">8</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PasswordComplexityValidator</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">UsernameValidator</span> <span class="token punctuation">{</span>
    <span class="token function">validate</span><span class="token punctuation">(</span>username<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> username<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Separate class for each field extraction</span>
<span class="token keyword">class</span> <span class="token class-name">EmailExtractor</span> <span class="token punctuation">{</span>
    <span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token operator">:</span> Request<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PasswordExtractor</span> <span class="token punctuation">{</span>
    <span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token operator">:</span> Request<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">UsernameExtractor</span> <span class="token punctuation">{</span>
    <span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token operator">:</span> Request<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Registration requires coordinating many tiny classes</span>
<span class="token keyword">class</span> <span class="token class-name">UserRegistrationService</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> emailValidator<span class="token operator">:</span> EmailValidator<span class="token punctuation">,</span>
        <span class="token keyword">private</span> passwordLengthValidator<span class="token operator">:</span> PasswordLengthValidator<span class="token punctuation">,</span>
        <span class="token keyword">private</span> passwordComplexityValidator<span class="token operator">:</span> PasswordComplexityValidator<span class="token punctuation">,</span>
        <span class="token keyword">private</span> usernameValidator<span class="token operator">:</span> UsernameValidator<span class="token punctuation">,</span>
        <span class="token keyword">private</span> emailExtractor<span class="token operator">:</span> EmailExtractor<span class="token punctuation">,</span>
        <span class="token keyword">private</span> passwordExtractor<span class="token operator">:</span> PasswordExtractor<span class="token punctuation">,</span>
        <span class="token keyword">private</span> usernameExtractor<span class="token operator">:</span> UsernameExtractor
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    <span class="token function">register</span><span class="token punctuation">(</span>request<span class="token operator">:</span> Request<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> email <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>emailExtractor<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> password <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>passwordExtractor<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>usernameExtractor<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>emailValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Invalid email"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>passwordLengthValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Password too short"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>passwordComplexityValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Password not complex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>usernameValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Invalid username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Actually register user...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>This design has gone too far:</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 Over-Fragmentation Problems</p><div class="admonition-content"><p><strong>Excessive Indirection</strong></p>
<ul>
<li>Simple operations buried in class hierarchies</li>
<li>Difficult to understand overall flow</li>
<li>Navigation between classes becomes tedious</li>
</ul>
<p><strong>Artificial Boundaries</strong></p>
<ul>
<li>Validation rules naturally belong together</li>
<li>Field extraction is trivial, doesn't need classes</li>
<li>Creating classes for the sake of classes</li>
</ul>
<p><strong>Maintenance Burden</strong></p>
<ul>
<li>More files to navigate</li>
<li>More dependencies to manage</li>
<li>More boilerplate code</li>
</ul>
</div></div>
<h3 id="Finding-the-Right-Granularity">Finding the Right Granularity</h3>
<p>A more balanced approach groups related operations:</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// Validation rules grouped by cohesion</span>
<span class="token keyword">class</span> <span class="token class-name">UserValidator</span> <span class="token punctuation">{</span>
    <span class="token function">validateEmail</span><span class="token punctuation">(</span>email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[^\s@]+@[^\s@]+\.[^\s@]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">"Invalid email format"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">validatePassword</span><span class="token punctuation">(</span>password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>password<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">"Password must be at least 8 characters"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">"Password must contain uppercase and numbers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">validateUsername</span><span class="token punctuation">(</span>username<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>username<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">"Username must be at least 3 alphanumeric characters"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">UserRegistrationService</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> validator<span class="token operator">:</span> UserValidator<span class="token punctuation">,</span>
        <span class="token keyword">private</span> repository<span class="token operator">:</span> UserRepository
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    <span class="token function">register</span><span class="token punctuation">(</span>request<span class="token operator">:</span> Request<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> username <span class="token punctuation">}</span> <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">validateEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">validatePassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">validateUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>repository<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>This balanced design:</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ Appropriate Granularity</p><div class="admonition-content"><p><strong>Cohesive Grouping</strong></p>
<ul>
<li>Related validation rules together</li>
<li>Clear class purpose: user validation</li>
<li>Easy to understand and navigate</li>
</ul>
<p><strong>Reasonable Abstraction</strong></p>
<ul>
<li>Classes represent meaningful concepts</li>
<li>Not creating classes for trivial operations</li>
<li>Balances SRP with pragmatism</li>
</ul>
<p><strong>Maintainable</strong></p>
<ul>
<li>Fewer files to manage</li>
<li>Clear dependencies</li>
<li>Easy to test and modify</li>
</ul>
</div></div>
<p>The key insight: SRP doesn’t mean “one method per class.” It means “one reason to change.” All user validation rules change for the same reason (business rule changes), so they belong together.</p>
<h2 id="Identifying-Responsibilities-The-Actor-Test">Identifying Responsibilities: The Actor Test</h2>
<p>How do you determine if a class has multiple responsibilities? Apply the actor test: who requests changes to this code?</p>
<h3 id="The-Actor-Test-in-Practice">The Actor Test in Practice</h3>
<p>Consider a class that handles user authentication:</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">AuthenticationService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">authenticate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Verify credentials</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>find_user<span class="token punctuation">(</span>username<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> user <span class="token keyword">or</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>verify_password<span class="token punctuation">(</span>password<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password_hash<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        
        <span class="token comment"># Generate session token</span>
        token <span class="token operator">=</span> self<span class="token punctuation">.</span>generate_token<span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>save_session<span class="token punctuation">(</span>token<span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        
        <span class="token comment"># Log authentication</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"User </span><span class="token interpolation"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token string"> authenticated"</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># Send notification</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span> <span class="token string">"New login detected"</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> token</code></pre>
<p>Apply the actor test:</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>👥 Identifying Actors</p><div class="admonition-content"><p><strong>Security Team</strong></p>
<ul>
<li>Wants to change password verification algorithm</li>
<li>Wants to modify token generation</li>
<li>Wants to adjust session management</li>
</ul>
<p><strong>Operations Team</strong></p>
<ul>
<li>Wants to change logging format</li>
<li>Wants to add metrics</li>
<li>Wants to modify log levels</li>
</ul>
<p><strong>Product Team</strong></p>
<ul>
<li>Wants to change notification behavior</li>
<li>Wants to add notification preferences</li>
<li>Wants to modify email templates</li>
</ul>
</div></div>
<p>Three different actors have reasons to change this class. This indicates multiple responsibilities that should be separated.</p>
<h3 id="Refactoring-Based-on-Actors">Refactoring Based on Actors</h3>
<p>Split the class based on actors:</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># Security team's responsibility</span>
<span class="token keyword">class</span> <span class="token class-name">CredentialVerifier</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">verify</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>find_user<span class="token punctuation">(</span>username<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> user<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>verify_password<span class="token punctuation">(</span>password<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password_hash<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">return</span> user

<span class="token keyword">class</span> <span class="token class-name">SessionManager</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">create_session</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        token <span class="token operator">=</span> self<span class="token punctuation">.</span>generate_token<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>save_session<span class="token punctuation">(</span>token<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span>
        <span class="token keyword">return</span> token

<span class="token comment"># Operations team's responsibility</span>
<span class="token keyword">class</span> <span class="token class-name">AuthenticationLogger</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">log_success</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"User </span><span class="token interpolation"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token string"> authenticated successfully"</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">log_failure</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Failed authentication attempt for </span><span class="token interpolation"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># Product team's responsibility</span>
<span class="token keyword">class</span> <span class="token class-name">LoginNotificationService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">notify_login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email<span class="token punctuation">.</span>send<span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span> <span class="token string">"New login detected"</span><span class="token punctuation">)</span>

<span class="token comment"># Orchestration</span>
<span class="token keyword">class</span> <span class="token class-name">AuthenticationService</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> verifier<span class="token punctuation">,</span> session_manager<span class="token punctuation">,</span> logger<span class="token punctuation">,</span> notifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>verifier <span class="token operator">=</span> verifier
        self<span class="token punctuation">.</span>session_manager <span class="token operator">=</span> session_manager
        self<span class="token punctuation">.</span>logger <span class="token operator">=</span> logger
        self<span class="token punctuation">.</span>notifier <span class="token operator">=</span> notifier
    
    <span class="token keyword">def</span> <span class="token function">authenticate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>verifier<span class="token punctuation">.</span>verify<span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token keyword">not</span> user<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>log_failure<span class="token punctuation">(</span>username<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        
        token <span class="token operator">=</span> self<span class="token punctuation">.</span>session_manager<span class="token punctuation">.</span>create_session<span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>log_success<span class="token punctuation">(</span>username<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>notifier<span class="token punctuation">.</span>notify_login<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> token</code></pre>
<p>Now each actor has their own class to modify:</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ Actor-Based Separation</p><div class="admonition-content"><p><strong>Clear Ownership</strong></p>
<ul>
<li>Security team modifies CredentialVerifier and SessionManager</li>
<li>Operations team modifies AuthenticationLogger</li>
<li>Product team modifies LoginNotificationService</li>
</ul>
<p><strong>Independent Changes</strong></p>
<ul>
<li>Changing logging doesn't affect security</li>
<li>Changing notifications doesn't affect sessions</li>
<li>Each team works independently</li>
</ul>
<p><strong>Reduced Conflicts</strong></p>
<ul>
<li>Different teams modify different files</li>
<li>Fewer merge conflicts</li>
<li>Clearer code review ownership</li>
</ul>
</div></div>
<p>The actor test provides a practical way to identify responsibilities: if different people request changes for different reasons, you likely have multiple responsibilities.</p>
<h2 id="When-to-Apply-SRP-Timing-Matters">When to Apply SRP: Timing Matters</h2>
<p>SRP doesn’t mean preemptively splitting every class. Premature abstraction can be as harmful as god classes.</p>
<h3 id="The-Rule-of-Three">The Rule of Three</h3>
<p>Don’t split classes until you have evidence of multiple responsibilities:</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>🎯 When to Split Classes</p><div class="admonition-content"><p><strong>Wait for Evidence</strong></p>
<ul>
<li>Don't split speculatively</li>
<li>Wait until you actually need to change the class</li>
<li>Observe which parts change together</li>
</ul>
<p><strong>The Rule of Three</strong></p>
<ul>
<li>First time: write the code</li>
<li>Second time: note the duplication or mixed concerns</li>
<li>Third time: refactor and separate</li>
</ul>
<p><strong>Signs It's Time to Split</strong></p>
<ul>
<li>Different people request changes to different parts</li>
<li>Changes to one part risk breaking another</li>
<li>Testing requires mocking unrelated dependencies</li>
<li>Class has grown beyond comfortable size</li>
</ul>
</div></div>
<p>Premature splitting creates unnecessary complexity. Wait until you have real evidence that responsibilities should be separated.</p>
<h3 id="Refactoring-Existing-Code">Refactoring Existing Code</h3>
<p>When refactoring existing code to follow SRP:</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔧 Refactoring Strategy</p><div class="admonition-content"><p><strong>Start with Tests</strong></p>
<ul>
<li>Write tests for existing behavior</li>
<li>Ensure tests pass before refactoring</li>
<li>Tests protect against breaking changes</li>
</ul>
<p><strong>Extract One Responsibility at a Time</strong></p>
<ul>
<li>Don't try to refactor everything at once</li>
<li>Extract one clear responsibility</li>
<li>Verify tests still pass</li>
<li>Repeat for next responsibility</li>
</ul>
<p><strong>Maintain Backward Compatibility</strong></p>
<ul>
<li>Keep original class as facade if needed</li>
<li>Gradually migrate callers</li>
<li>Remove facade once migration complete</li>
</ul>
</div></div>
<p>Incremental refactoring reduces risk and allows you to validate each step.</p>
<h2 id="Conclusion">Conclusion</h2>
<p>The Single Responsibility Principle forms the foundation of SOLID design by ensuring classes have focused, well-defined purposes. By limiting each class to a single reason to change, SRP reduces coupling, improves testability, and makes code easier to understand and maintain. However, applying SRP requires judgment—it’s not about minimizing method count or creating classes for every trivial operation.</p>
<p>The key to applying SRP effectively is understanding what constitutes a “responsibility.” A responsibility is not a method or function—it’s a reason to change, typically driven by different actors or stakeholders. The actor test provides a practical way to identify multiple responsibilities: if different people request changes for different reasons, you likely need to split the class.</p>
<p>God classes represent the most obvious SRP violations, handling multiple unrelated responsibilities like database operations, business logic, validation, and email sending. These classes become maintenance nightmares as every change risks breaking unrelated functionality. Refactoring god classes into focused classes—each handling a single responsibility—dramatically improves maintainability and testability.</p>
<p>Subtle violations are more insidious, appearing focused while actually mixing concerns. A report generator that retrieves data, performs calculations, and formats output has three distinct responsibilities that should be separated. This separation allows each concern to evolve independently and enables reuse across different contexts.</p>
<p>However, overzealous application of SRP creates the opposite problem—excessive fragmentation into dozens of tiny classes. Creating separate classes for each validation rule or field extraction goes too far, introducing unnecessary indirection and complexity. The solution is finding appropriate granularity by grouping cohesive operations that change for the same reason.</p>
<p>Timing matters when applying SRP. Premature splitting creates unnecessary complexity. The rule of three suggests waiting for evidence before refactoring: write the code, note the duplication or mixed concerns, then refactor on the third occurrence. This approach balances the benefits of SRP against the costs of premature abstraction.</p>
<p>The Single Responsibility Principle is both simple and subtle. The statement “a class should have only one reason to change” is easy to understand but requires judgment to apply effectively. By focusing on actors, reasons to change, and cohesion, you can create designs that are both maintainable and pragmatic—avoiding both god classes and excessive fragmentation.</p>

        </div>
        
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/2021/09/Single-Responsibility-Principle-SOLID/" data-id="15376add" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "Single Responsibility Principle: The Foundation of SOLID Design",
        "image": "https://neo01.com/assets/solid/thumbnail.png",
        "keywords": "Architecture Best Practices Software Design",
        "genre": "Development",
        "datePublished": "2021-09-09",
        "dateCreated": "2021-09-09",
        "dateModified": "2025-10-26",
        "url": "https://neo01.com/2021/09/Single-Responsibility-Principle-SOLID/",
        "description": "A class should have only one reason to change. This simple statement forms the foundation of SOLID design, yet developers struggle with what constitutes a 'single responsibility' and when to split classes.",
        "wordCount": 9082
    }
</script-->

</article>

                        </div>
                    </section>
                    
<aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">

        
            
                
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
        <ul><li><a href="/ai">AI Playground</a></li><li><a href="/tools">Tools</a></li><li><a href="/games">Games</a></li><li><a href="/pages/useful-information">Useful Information</a></li><li><a href="/pages/Hexo-Blogging-Cheatsheet">Hexo Blogging Cheatsheet</a></li></ul>
    </div>
</div>

                
            
                
                
                
            
                
                    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/How-I-Use-AI-to-Learn/" class="thumbnail">
        <span style="background-image:url(/assets/learning/thumbnail_80.png)" alt="How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/How-I-Use-AI-to-Learn/" class="title">How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building</a></p>
                            <p class="item-date"><time datetime="2025-10-18T16:00:00.000Z" itemprop="datePublished">2025-10-19</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="thumbnail">
        <span style="background-image:url(/2025/10/Tools-Games-And-Browser-Built-In-AI/thumbnail.jpeg)" alt="Tools, Games and Browser Built-in AI Playground" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="title">Tools, Games and Browser Built-in AI Playground</a></p>
                            <p class="item-date"><time datetime="2025-10-01T16:00:00.000Z" itemprop="datePublished">2025-10-02</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="thumbnail">
        <span style="background-image:url(/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/thumbnail.jpeg)" alt="The Rise of Agentic Coding: AI-Powered Software Engineering" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="title">The Rise of Agentic Coding: AI-Powered Software Engineering</a></p>
                            <p class="item-date"><time datetime="2025-09-19T16:00:00.000Z" itemprop="datePublished">2025-09-20</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="title">Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports</a></p>
                            <p class="item-date"><time datetime="2025-08-30T16:00:00.000Z" itemprop="datePublished">2025-08-31</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports: The Invisible Workers of Network Communication" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="title">Understanding Ephemeral Ports: The Invisible Workers of Network Communication</a></p>
                            <p class="item-date"><time datetime="2025-08-29T16:00:00.000Z" itemprop="datePublished">2025-08-30</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

                
            
                
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2025/">2025</a>
                    <span class="archive-list-count">72</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2023/">2023</a>
                    <span class="archive-list-count">15</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2022/">2022</a>
                    <span class="archive-list-count">18</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


                
            
        

    </div>
</aside>


                </div>
            </div>
        </div>
        
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>

            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#8dee57b2</div>
                <img src="/qr/qr-b908e8172cdabd76a74a882868ac858b.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#8dee57b2">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>© 2025 Neo Alienson. All rights reserved.
                  <a href="/terms-and-conditions">Terms and Conditions</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




        
    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

</body></html>