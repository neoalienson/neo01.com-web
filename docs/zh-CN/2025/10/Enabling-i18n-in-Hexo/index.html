<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    



    
    <title>在 Hexo 中启用 i18n：多语言博客完整指南 | Decoding Digital Anomalies</title>
    
    <meta name="keywords" content="Hexo,i18n,Static Site">
    
    
    <meta name="description" content="通过自定义插件、URL 策略和片段缓存性能优化，掌握 Hexo 中的多语言内容管理。">
<meta property="og:type" content="article">
<meta property="og:title" content="在 Hexo 中启用 i18n：多语言博客完整指南">
<meta property="og:url" content="https://neo01.com/zh-CN/2025/10/Enabling-i18n-in-Hexo/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="通过自定义插件、URL 策略和片段缓存性能优化，掌握 Hexo 中的多语言内容管理。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://neo01.com/assets/hexo/thumbnail.png">
<meta property="article:published_time" content="2025-10-29T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-30T07:01:57.347Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Static Site">
<meta property="article:tag" content="i18n">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/assets/hexo/thumbnail.png">
    
    <!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.0">  <link rel="canonical" href="https://neo01.com/zh-CN/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="en" data-canonical="true" href="https://neo01.com/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="zh-TW" href="https://neo01.com/zh-TW/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="zh-CN" href="https://neo01.com/zh-CN/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="ja" href="https://neo01.com/ja/2025/10/Enabling-i18n-in-Hexo/">
<style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* 内容区域 margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE 类型 */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO 类型 */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* 警告类 */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* 错误类 */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP 类型 */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS 类型 */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION 类型 */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE 类型 */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE 类型 */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*黑暗模式*/
/* 夜间模式基础样式 */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style></head>

<body>
    <div id="wrap">
        
        
<header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <div class="logo"></div>
                    </h1>

                        <h2 class="subtitle-wrap">
                            <p class="title">解码数字异常</p>
                          <p class="subtitle">有时功能就是数字兔子洞中的错误，反之亦然</p>
                        </h2>




                    <div id="lang-selector">
                        <span class="lang-icon">🌐</span>
                        
                            <a href="#" class="lang-link" data-lang="en">English</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-TW">繁體中文</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="ja">日本語</a>
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            var currentLang = 'zh-CN';
                            var currentPath = window.location.pathname;
                            var basePath;
                            
                            if (currentLang === 'en') {
                                basePath = currentPath;
                            } else {
                                basePath = currentPath.replace(new RegExp('^/' + currentLang + '/'), '/');
                            }
                            
                            document.querySelectorAll('.lang-link').forEach(function(link) {
                                var targetLang = link.getAttribute('data-lang');
                                var targetPath;
                                if (targetLang === 'en') {
                                    targetPath = basePath;
                                } else {
                                    targetPath = '/' + targetLang + basePath;
                                }
                                link.href = targetPath;
                            });
                        });
                        </script>
                    </div>


                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-CN/">主页</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/AI/">人工智能</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/AI/Art-Gallery/">艺术画廊</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Architecture/">架构</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Development/">开发</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Misc/">杂项</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-CN/about-me">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="搜索">
        <button type="submit" title="搜索" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'zh-CN',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Development/">Development</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2025/10/Enabling-i18n-in-Hexo-zh-CN" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        在 Hexo 中启用 i18n：多语言博客完整指南
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2025-10-29T16:00:00.000Z" itemprop="datePublished">2025-10-30</time>,
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/zh-CN/tags/Hexo/">Hexo</a> <a class="tag-link" href="/zh-CN/tags/i18n/">i18n</a> <a class="tag-link" href="/zh-CN/tags/Static-Site/">Static Site</a>
    </div>

            </div>
        
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Hexo%EF%BC%9F"><span class="toc-text">什么是 Hexo？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo-i18n-%E7%9A%84%E6%8C%91%E6%88%98"><span class="toc-text">Hexo i18n 的挑战</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URL-%E7%BB%93%E6%9E%84%E7%AD%96%E7%95%A5"><span class="toc-text">URL 结构策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo-%E6%A0%B8%E5%BF%83%E8%A1%A5%E4%B8%81"><span class="toc-text">Hexo 核心补丁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%85%E5%A4%87-i18n-%E6%8F%92%E4%BB%B6"><span class="toc-text">必备 i18n 插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%89%87%E6%AE%B5%E7%BC%93%E5%AD%98%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">通过片段缓存进行性能优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E7%AE%A1%E7%90%86%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">内容管理工作流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-text">资源管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SEO-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">SEO 注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%80%A7%E8%83%BD%E6%8F%90%E7%A4%BA"><span class="toc-text">其他性能提示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="toc-text">故障排除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-text">结论</span></a></li></ol>
            <p>构建多语言博客不仅仅是翻译内容——而是在保持性能和 SEO 的同时，创造跨语言的无缝体验。本指南详细介绍了本网站使用的完整 i18n 实现，从 URL 结构到缓存策略。</p>
<h2 id="什么是-Hexo？">什么是 Hexo？</h2>
<p><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> 是一个基于 Node.js 构建的快速、简单且强大的静态网站生成器。它将 Markdown 文件转换为完整的网站，具有以下特点：</p>
<ul>
<li><strong>闪电般的生成速度</strong>：几秒钟内生成数百个文件</li>
<li><strong>Markdown 支持</strong>：使用纯文本格式编写内容</li>
<li><strong>可扩展插件</strong>：丰富的生态系统提供额外功能</li>
<li><strong>主题系统</strong>：可自定义的模板和布局</li>
<li><strong>Git 友好</strong>：对整个站点进行版本控制</li>
</ul>
<p><strong>适用于</strong>：</p>
<ul>
<li>带有代码示例的技术博客</li>
<li>文档站点</li>
<li>个人作品集</li>
<li>多语言内容（需要适当设置）</li>
</ul>
<p><strong>安装</strong>：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli
hexo init my-blog
<span class="token builtin class-name">cd</span> my-blog
<span class="token function">npm</span> <span class="token function">install</span>
hexo server</code></pre>
<div class="admonition info"><p class="admonition-title"><span class="mdi mdi-information-outline admonition-icon"></span>📌 版本说明</p><div class="admonition-content"><p>本指南基于 <strong>Hexo 8.1.0 或更高版本</strong>。早期版本的固定链接行为和过滤器钩子可能有所不同。</p>
</div></div>
<h2 id="Hexo-i18n-的挑战">Hexo i18n 的挑战</h2>
<h3 id="Hexo-提供的功能">Hexo 提供的功能</h3>
<p>Hexo 具有基本的 i18n 支持，但<strong>仅用于主题翻译</strong>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">language</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> en
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
  <span class="token punctuation">-</span> ja

<span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang  <span class="token comment"># 从 URL 路径检测语言</span></code></pre>
<p><strong>语言文件</strong>（主题翻译）：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># themes/your-theme/languages/en.yml</span>
<span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">home</span><span class="token punctuation">:</span> Home
  <span class="token key atrule">archives</span><span class="token punctuation">:</span> Archives
  
<span class="token comment"># themes/your-theme/languages/zh-TW.yml</span>
<span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">home</span><span class="token punctuation">:</span> 首页
  <span class="token key atrule">archives</span><span class="token punctuation">:</span> 归档</code></pre>
<p><strong>模板</strong>使用辅助函数：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">'menu.home'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>  <span class="token comment"><!-- 输出：Home 或 首页 --></span></code></pre>
<p><strong>路径检测</strong>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang  <span class="token comment"># 从第一个 URL 段检测语言</span></code></pre>
<p>示例：</p>
<ul>
<li><code>/index.html</code> → <code>en</code>（默认）</li>
<li><code>/zh-tw/index.html</code> → <code>zh-tw</code></li>
<li><code>/archives/index.html</code> → <code>en</code>（未检测为语言）</li>
</ul>
<h3 id="存在的问题">存在的问题</h3>
<p>Hexo 的原生 i18n <strong>仅翻译 UI 文本</strong>，不翻译内容：</p>
<p><strong>❌ 无内容过滤</strong>：</p>
<ul>
<li>索引页面显示所有语言的文章</li>
<li>归档页面混合英文和中文文章</li>
<li>分类/标签不按语言过滤</li>
</ul>
<p><strong>❌ 无语言特定生成器</strong>：</p>
<ul>
<li><code>/archives/</code> 显示所有语言的文章</li>
<li><code>/categories/Development/</code> 混合所有语言版本</li>
<li>无法单独生成 <code>/zh-TW/archives/</code></li>
</ul>
<p><strong>❌ 无 SEO 支持</strong>：</p>
<ul>
<li>翻译内容没有规范标签</li>
<li>没有语言特定的站点地图</li>
<li>搜索引擎将其视为重复内容</li>
</ul>
<p><strong>❌ 文章需要变通方法</strong>（在 Hexo 8.1.0 中测试）：</p>
<ul>
<li>Hexo 的固定链接系统在任何过滤器拦截之前应用默认模式（<code>:title/</code>）</li>
<li><code>post_permalink</code> 过滤器仅在从前置数据设置 <code>__permalink</code> 时运行</li>
<li>处理器在文件读取期间将 <code>permalink</code> → <code>__permalink</code> 转换，时机太早无法自定义逻辑</li>
<li>虚拟 <code>path</code> 属性在生成开始后无法修改</li>
<li><strong>解决方案</strong>：修补 Hexo 的 <code>post_permalink.js</code> 过滤器以自动注入语言前缀并去除语言后缀</li>
</ul>
<h3 id="需要什么">需要什么</h3>
<p>创建真正的多语言博客需要：</p>
<ul>
<li>所有内容类型的语言特定 URL</li>
<li>每种语言的独立索引/归档/分类/标签页面</li>
<li>包含所有语言的适当站点地图生成</li>
<li>规范标签以防止重复内容惩罚</li>
<li>性能优化以处理多种语言（本站支持 4 种：en、zh-TW、zh-CN、ja）</li>
</ul>
<h2 id="URL-结构策略">URL 结构策略</h2>
<h3 id="文章与页面：不同的方法">文章与页面：不同的方法</h3>
<p><strong>博客文章</strong>具有自动语言处理：</p>
<ul>
<li>可以组织在任何位置：<code>source/_posts/</code>、<code>source/zh-TW/_posts/</code> 等</li>
<li>使用文件名后缀约定：<code>Article-Title-ja.md</code>、<code>Article-Title-zh-TW.md</code></li>
<li>通过前置数据中的 <code>lang</code> 字段识别语言</li>
<li><strong>补丁自动生成</strong>带语言前缀的 URL，无后缀重复</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"文章标题"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token punctuation">---</span></code></pre>
<p><strong>结果</strong>：<code>Article-Title-zh-CN.md</code> → <code>/zh-CN/2025/10/Article-Title/</code>（后缀已去除）</p>
<p><strong>页面</strong>使用基于目录的组织：</p>
<ul>
<li>英文：<code>source/tools/index.md</code> → <code>/tools/</code></li>
<li>中文：<code>source/zh-TW/tools/index.md</code> → <code>/zh-TW/tools/</code></li>
<li>日文：<code>source/ja/tools/index.md</code> → <code>/ja/tools/</code></li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> 工具
<span class="token key atrule">layout</span><span class="token punctuation">:</span> tools
<span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN
<span class="token punctuation">---</span></code></pre>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 文章需要 Hexo 核心补丁</p><div class="admonition-content"><p><strong>为什么文章需要补丁</strong>：文章使用 <code>post_permalink</code> 过滤器，在语言检测之前应用模式。页面使用不同的处理器，直接尊重目录结构。</p>
<p><strong>问题</strong>：Hexo 的固定链接系统深度集成到文章处理器中：</p>
<ol>
<li>处理器读取文件并将 <code>permalink</code> → <code>__permalink</code> 转换</li>
<li>立即应用默认固定链接模式（<code>:title/</code>）</li>
<li><code>post_permalink</code> 过滤器仅在 <code>__permalink</code> 存在时运行</li>
<li>虚拟 <code>path</code> 属性从过滤器计算，无法修改</li>
</ol>
<p><strong>解决方案</strong>：修补 <code>node_modules/hexo/dist/plugins/filter/post_permalink.js</code> 以：</p>
<ul>
<li>从文章数据中提取 <code>lang</code> 字段</li>
<li>去除 slug 中的 <code>-{lang}</code> 后缀（例如，<code>Article-Title-ja</code> → <code>Article-Title</code>）</li>
<li>为非默认语言自动注入 <code>/{lang}/</code> 前缀</li>
<li>处理手动和生成的固定链接</li>
</ul>
<p><strong>为什么页面不需要补丁</strong>：页面使用基于目录的组织，Hexo 的原生 <code>i18n_dir: :lang</code> 自动处理。补丁仅影响文章处理。</p>
<p><strong>参见</strong>：下面的 <a href="#hexo-%E6%A0%B8%E5%BF%83%E8%A1%A5%E4%B8%81">Hexo 核心补丁</a> 部分了解实现。</p>
</div></div>
<h3 id="配置">配置</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">language</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> en
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
  <span class="token punctuation">-</span> ja

<span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>title/</code></pre>
<h2 id="Hexo-核心补丁">Hexo 核心补丁</h2>
<h3 id="自动固定链接解决方案">自动固定链接解决方案</h3>
<p>要消除手动固定链接配置，请修补 Hexo 的核心固定链接过滤器：</p>
<p><strong>文件</strong>：<code>node_modules/hexo/dist/plugins/filter/post_permalink.js</code></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">postPermalinkFilter</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 提取语言并清理 slug</span>
  <span class="token keyword">const</span> lang <span class="token operator">=</span> data<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> defaultLang <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 如果存在，从 slug 中去除语言后缀</span>
  <span class="token keyword">let</span> cleanSlug <span class="token operator">=</span> data<span class="token punctuation">.</span>slug<span class="token punctuation">;</span>
  <span class="token keyword">const</span> langPattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>langPattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>cleanSlug<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cleanSlug <span class="token operator">=</span> cleanSlug<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>langPattern<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> meta <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> cleanSlug<span class="token punctuation">,</span>  <span class="token comment">// 使用清理后的 slug</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> cleanSlug<span class="token punctuation">,</span>   <span class="token comment">// 使用清理后的 slug</span>
    <span class="token literal-property property">post_title</span><span class="token operator">:</span> data<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    <span class="token literal-property property">year</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">month</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'MM'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">day</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'DD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">i_month</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">i_day</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 处理手动固定链接</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>__permalink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> permalink <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSync</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>__permalink<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 为非默认语言注入语言前缀</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">!==</span> defaultLang <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      permalink <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> permalink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 处理生成的固定链接</span>
  <span class="token keyword">let</span> permalink <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>permalink<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 为非默认语言注入语言前缀</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">!==</span> defaultLang<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    permalink <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> permalink<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="为什么打补丁不是理想做法">为什么打补丁不是理想做法</h3>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 补丁的缺点</p><div class="admonition-content"><p><strong>维护负担</strong>：</p>
<ul>
<li>每次 Hexo 升级后都会失效</li>
<li>需要在 <code>npm install</code> 后重新应用</li>
<li>可能与未来的 Hexo 更改冲突</li>
<li>团队成员必须记得应用补丁</li>
</ul>
<p><strong>脆弱性</strong>：</p>
<ul>
<li>Hexo 的内部结构可能改变</li>
<li>补丁文件格式很脆弱</li>
<li>无法保证跨版本兼容性</li>
<li>修改核心后调试变得更困难</li>
</ul>
<p><strong>更好的方法</strong>：向 Hexo 维护者提议此功能</p>
</div></div>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 贡献开源项目</p><div class="admonition-content"><p><strong>与其打补丁，不如考虑</strong>：</p>
<ol>
<li><strong>开启 GitHub issue</strong>：描述 i18n permalink 使用案例</li>
<li><strong>提议解决方案</strong>：分享您的补丁作为起点</li>
<li><strong>提交 pull request</strong>：向上游贡献此功能</li>
<li><strong>优点</strong>：
<ul>
<li>功能由 Hexo 团队维护</li>
<li>所有人都能开箱即用</li>
<li>无补丁维护负担</li>
<li>社区测试与改进</li>
</ul>
</li>
</ol>
<p><strong>Hexo 仓库</strong>：<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo">hexojs/hexo</a></p>
<p><strong>在此之前</strong>：将补丁作为临时解决方案，但计划在官方支持存在后迁移。</p>
</div></div>
<h3 id="应用补丁">应用补丁</h3>
<p><strong>选项 1：手动补丁</strong>（<code>npm install</code> 后需要重新应用）：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> hexo-blog
patch <span class="token parameter variable">-p0</span> <span class="token operator">&lt;</span> <span class="token punctuation">..</span>/patches/hexo-i18n-post-permalink.patch</code></pre>
<p><strong>选项 2：安装后脚本</strong>（自动）：</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"patch -p0 &lt; ../patches/hexo-i18n-post-permalink.patch || true"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>补丁文件</strong>：</p>
<ul>
<li><code>patches/hexo-i18n-post-permalink.patch</code> - 用于博客文章</li>
<li><code>patches/hexo-i18n-page-permalink.patch</code> - 用于页面（可选）</li>
</ul>
<h3 id="工作原理">工作原理</h3>
<p><strong>补丁前</strong>：</p>
<ul>
<li>文件名：<code>Tools-Games-ja.md</code></li>
<li>生成的 URL：<code>/ja/2025/10/Tools-Games-ja/</code> ❌（后缀重复）</li>
</ul>
<p><strong>补丁后</strong>：</p>
<ul>
<li>文件名：<code>Tools-Games-ja.md</code></li>
<li>生成的 URL：<code>/ja/2025/10/Tools-Games/</code> ✅（后缀已去除）</li>
</ul>
<p><strong>关键特性</strong>：</p>
<ol>
<li><strong>语言检测</strong>：从前置数据读取 <code>lang</code> 字段</li>
<li><strong>后缀去除</strong>：从 slug 中移除 <code>-ja</code>、<code>-zh-TW</code>、<code>-zh-CN</code></li>
<li><strong>前缀注入</strong>：为非默认语言添加 <code>/{lang}/</code></li>
<li><strong>手动覆盖</strong>：尊重前置数据中的显式 <code>permalink</code></li>
</ol>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 文件名约定</p><div class="admonition-content"><p>在文件名中使用语言后缀进行组织：</p>
<ul>
<li><code>Article-Title.md</code>（英文）</li>
<li><code>Article-Title-zh-TW.md</code>（繁体中文）</li>
<li><code>Article-Title-zh-CN.md</code>（简体中文）</li>
<li><code>Article-Title-ja.md</code>（日文）</li>
</ul>
<p>补丁会自动从 URL 中去除后缀。</p>
</div></div>
<h3 id="能否也为页面打补丁？">能否也为页面打补丁？</h3>
<p>技术上可以，但没有必要。页面的基于目录的方法：</p>
<ul>
<li><strong>开箱即用</strong>：Hexo 的原生 <code>i18n_dir: :lang</code> 处理它</li>
<li><strong>更清晰的组织</strong>：文件系统中可见语言结构</li>
<li><strong>更易于维护</strong>：不需要文件名后缀约定</li>
<li><strong>无补丁维护负担</strong>：在 <code>npm install</code> 后无需重新应用</li>
</ul>
<p><strong>最佳实践</strong>：对文章（带有日期的动态内容）使用补丁，对页面（静态内容，如关于、工具等）使用目录结构。</p>
<div class="admonition info"><p class="admonition-title"><span class="mdi mdi-information-outline admonition-icon"></span>📋 本网站的方法</p><div class="admonition-content"><p>本网站对<strong>文章和页面都使用补丁方法</strong>（页面不使用基于目录的方法）：</p>
<p><strong>为什么集中化所有内容？</strong></p>
<ul>
<li><strong>一致性</strong>：所有内容类型的相同文件名后缀约定</li>
<li><strong>更简单的结构</strong>：所有内容在标准位置（<code>source/_posts/</code>、<code>source/tools/</code>）</li>
<li><strong>更容易重构</strong>：移动文件不会破坏语言检测</li>
<li><strong>更少重复</strong>：无需为每种语言重建目录结构</li>
<li><strong>统一工作流</strong>：文章和页面的相同翻译流程</li>
</ul>
<p><strong>权衡</strong>：页面可以使用基于目录的方法（开箱即用），但对所有内容使用补丁保持了一致性并简化了心智模型。</p>
<p><strong>参见</strong>：下面的 <a href="#%E6%89%A9%E5%B1%95%E8%A1%A5%E4%B8%81%E5%88%B0%E9%A1%B5%E9%9D%A2">扩展到页面</a> 部分了解实现。</p>
</div></div>
<h3 id="扩展补丁到页面">扩展补丁到页面</h3>
<p>要将相同的方法应用于页面，创建一个 Hexo 脚本：</p>
<p><strong>文件</strong>：<code>scripts/page-i18n-permalink.js</code></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 页面 i18n 固定链接处理器</span>
hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>filter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'before_generate'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> defaultLang <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> languages <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token string">'en'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> langPattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>languages<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">this</span><span class="token punctuation">.</span>locals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'pages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">page</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> lang <span class="token operator">=</span> page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 如果是默认语言或已有语言前缀，则跳过</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">===</span> defaultLang <span class="token operator">||</span> page<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 从源中提取基本名称</span>
    <span class="token keyword">const</span> sourceParts <span class="token operator">=</span> page<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> filename <span class="token operator">=</span> sourceParts<span class="token punctuation">[</span>sourceParts<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(md|markdown|html)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 如果文件名中存在，则从路径中去除语言后缀</span>
    <span class="token keyword">let</span> newPath <span class="token operator">=</span> page<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>langPattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      newPath <span class="token operator">=</span> newPath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>langPattern<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 注入语言前缀</span>
    page<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    page<span class="token punctuation">.</span>permalink <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>工作原理</strong>：</p>
<ul>
<li>Hexo 自动从 <code>scripts/</code> 文件夹加载脚本</li>
<li>在网站生成之前运行</li>
<li>处理所有带有 <code>lang</code> 字段的页面</li>
<li>从文件名中去除语言后缀（例如，<code>tools-ja.md</code> → <code>tools</code>）</li>
<li>注入语言前缀（例如，<code>/tools/</code> → <code>/ja/tools/</code>）</li>
</ul>
<p><strong>示例</strong>：</p>
<ul>
<li>文件：<code>source/tools-ja.md</code> 带有 <code>lang: ja</code></li>
<li>生成的 URL：<code>/ja/tools/</code> (✅ 后缀已去除，前缀已添加)</li>
<li>文件：<code>source/about-zh-CN.md</code> 带有 <code>lang: zh-CN</code></li>
<li>生成的 URL：<code>/zh-CN/about/</code> (✅ 后缀已去除，前缀已添加)</li>
</ul>
<h2 id="必备-i18n-插件">必备 i18n 插件</h2>
<p>标准 Hexo 生成器不支持语言特定内容。自定义插件填补了这一空白：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 首先移除官方插件</p><div class="admonition-content"><p>卸载 Hexo 的默认生成器以避免冲突：
</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> uninstall hexo-generator-index hexo-generator-archive hexo-generator-category hexo-generator-tag hexo-generator-sitemap</code></pre>
i18n 版本完全替代这些插件。<p></p>
</div></div>
<h3 id="1-索引页面">1. 索引页面</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-index">hexo-generator-i18n-index</a></p>
<p>创建每种语言的独立索引页面，支持置顶文章：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-i18n-index</code></pre>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">index_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre>
<p><strong>排序逻辑</strong>：</p>
<ol>
<li>常规文章在前，重定向文章（<code>original_lang_url</code>）在后</li>
<li>置顶/固定文章在顶部</li>
<li>然后按日期排序（最新的在前）</li>
</ol>
<p><strong>结果</strong>：</p>
<ul>
<li><code>/</code> - 仅英文文章</li>
<li><code>/zh-TW/</code> - 仅繁体中文文章</li>
<li><code>/zh-CN/</code> - 仅简体中文文章</li>
<li><code>/ja/</code> - 仅日文文章</li>
</ul>
<h3 id="2-站点地图生成">2. 站点地图生成</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-sitemap">hexo-generator-i18n-sitemap</a></p>
<p>生成包含所有语言版本的统一站点地图：</p>
<ul>
<li><code>/sitemap.xml</code> - 所有语言的所有页面</li>
<li><code>/sitemap.txt</code> - 简单 URL 列表格式</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">sitemap_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">languages</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> en
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
    <span class="token punctuation">-</span> ja
  <span class="token key atrule">changefreq</span><span class="token punctuation">:</span> monthly
  <span class="token key atrule">priority</span><span class="token punctuation">:</span> <span class="token number">0.6</span></code></pre>
<h3 id="3-归档页面">3. 归档页面</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-archive">hexo-generator-i18n-archive</a></p>
<p>创建语言特定的归档：</p>
<ul>
<li><code>/archives/</code>（英文）</li>
<li><code>/zh-TW/archives/</code>（繁体中文）</li>
<li><code>/ja/archives/</code>（日文）</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_archive_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>
  <span class="token key atrule">yearly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">monthly</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></code></pre>
<h3 id="4-分类页面">4. 分类页面</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-category">hexo-generator-i18n-category</a></p>
<p>为每种语言生成带有翻译分类名称的分类页面：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_category_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>

<span class="token key atrule">category_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">Development</span><span class="token punctuation">:</span>
    <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token string">"Development"</span>
    <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token string">"開発"</span></code></pre>
<h3 id="5-标签页面">5. 标签页面</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-tag">hexo-generator-i18n-tag</a></p>
<p>创建按语言过滤的标签页面：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_tag_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span></code></pre>
<h3 id="6-规范标签">6. 规范标签</h3>
<p><strong>插件</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-plugin-i18n-canonical">hexo-plugin-i18n-canonical</a></p>
<p>通过添加适当的规范标签来防止重复内容惩罚。</p>
<p><strong>问题</strong>：搜索引擎将翻译页面视为重复内容：</p>
<ul>
<li><code>/2025/10/Article-Title/</code>（英文）</li>
<li><code>/zh-TW/2025/10/Article-Title/</code>（中文）</li>
<li><code>/ja/2025/10/Article-Title/</code>（日文）</li>
</ul>
<p>没有规范标签，Google 可能会：</p>
<ul>
<li>在翻译之间分散排名信号</li>
<li>索引错误的语言版本</li>
<li>因"重复"内容惩罚网站</li>
</ul>
<p><strong>解决方案</strong>：规范标签告诉搜索引擎哪个版本是主要版本：</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token comment"><!-- 所有语言版本都指向英文作为规范版本 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canonical<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://neo01.com/2025/10/Article-Title/<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">canonical_multilang</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">default_lang</span><span class="token punctuation">:</span> en  <span class="token comment"># 主要语言</span>
  <span class="token key atrule">languages</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> en
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
    <span class="token punctuation">-</span> ja</code></pre>
<p><strong>结果</strong>：搜索引擎理解这些是翻译，而不是重复内容，保留 SEO 价值。</p>
<h2 id="通过片段缓存进行性能优化">通过片段缓存进行性能优化</h2>
<h3 id="多语言性能挑战">多语言性能挑战</h3>
<p>本网站支持 4 种语言（en、zh-TW、zh-CN、ja），这意味着：</p>
<ul>
<li><strong>生成 4× 页面</strong>：每篇文章创建 4 个索引条目、4 个归档页面、4 个分类页面、4 个标签页面</li>
<li><strong>渲染 4× 模板</strong>：每种页面类型的页眉、页脚、侧边栏渲染 4 次</li>
<li><strong>使用 4× 内存</strong>：每种语言维护单独的页面对象</li>
<li><strong>指数增长</strong>：100 篇文章 × 4 种语言 = 400+ 页面（不包括归档/分类/标签）</li>
</ul>
<p><strong>一般规则</strong>：对于 N 种语言，在没有优化的情况下，预计构建时间和内存使用量为 N×。</p>
<h3 id="片段缓存解决方案">片段缓存解决方案</h3>
<p>Hexo 的 <code>fragment_cache()</code> 函数保存渲染的模板内容并在页面之间重用。对于不随页面变化的组件至关重要。</p>
<p><strong>关键原则</strong>：按语言缓存，而不是全局缓存。</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>relative_link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'header-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token punctuation">}</span>
</span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<p><strong>缓存键策略</strong>：</p>
<ul>
<li><code>header-en</code>、<code>header-zh-TW</code>、<code>header-zh-CN</code>、<code>header-ja</code>（4 个缓存条目）</li>
<li>每种语言获得隔离的缓存</li>
<li>在该语言的所有页面中重用</li>
</ul>
<h3 id="缓存什么">缓存什么</h3>
<p><strong>页眉</strong>（<code>layout.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'header-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>导航、语言选择器、徽标</li>
<li>4 个缓存条目（每种语言一个）</li>
<li>在每种语言的约 100+ 页面中重用</li>
</ul>
<p><strong>侧边栏</strong>（<code>sidebar.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'sidebar-static-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/sidebar-static'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>社交链接、结构</li>
<li>小部件按语言单独缓存</li>
</ul>
<p><strong>小部件</strong>（<code>sidebar-widgets.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'widget-recent_posts-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'widget/recent_posts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>在模板中按语言过滤的最近文章：</li>
</ul>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%_</span><span class="token language-javascript"> site<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span> <span class="token operator">===</span> currentLang<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">_%&gt;</span></span></code></pre>
<ul>
<li>在该语言的所有页面中显示相同的 5 篇文章</li>
</ul>
<p><strong>页脚</strong>（<code>footer.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'footer-static-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/footer-static'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/footer-dynamic'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>静态：版权、致谢（已缓存）</li>
<li>动态：二维码（特定于页面）</li>
</ul>
<p><strong>脚本</strong>（<code>layout.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'scripts-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/scripts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>JavaScript 包含按语言缓存</li>
</ul>
<h3 id="配置要求">配置要求</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">relative_link</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 安全缓存所需</span></code></pre>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 相对链接破坏缓存</p><div class="admonition-content"><p>片段缓存捕获页面对象。使用 <code>relative_link: true</code> 时，缓存的内容包含错误的路径。启用缓存时始终使用绝对路径。</p>
</div></div>
<h3 id="客户端语言选择器">客户端语言选择器</h3>
<p>服务器端语言切换会破坏片段缓存。解决方案：基于 JavaScript 的 URL 生成。</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 检测当前路径</span>
<span class="token keyword">var</span> currentPath <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
<span class="token keyword">var</span> basePath <span class="token operator">=</span> currentPath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/[a-z]{2}(-[A-Z]{2})?\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 生成语言特定的 URL</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[data-lang]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> targetLang <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-lang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> targetUrl <span class="token operator">=</span> targetLang <span class="token operator">===</span> <span class="token string">'en'</span> <span class="token operator">?</span> basePath <span class="token operator">:</span> <span class="token string">'/'</span> <span class="token operator">+</span> targetLang <span class="token operator">+</span> basePath<span class="token punctuation">;</span>
    link<span class="token punctuation">.</span>href <span class="token operator">=</span> targetUrl<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>优点</strong>：</p>
<ul>
<li>语言选择器 HTML 按语言缓存</li>
<li>URL 从真实浏览器位置生成</li>
<li>没有过时的页面对象问题</li>
</ul>
<h3 id="性能影响">性能影响</h3>
<p><strong>优化前</strong>（本站 4 种语言）：</p>
<ul>
<li>构建时间：约 1 分钟，400+ 页面（4 种语言 × 100+ 篇文章）</li>
<li>内存使用：高模板渲染开销</li>
<li>每个页面从头开始渲染页眉/页脚/侧边栏</li>
</ul>
<p><strong>优化后</strong>：</p>
<ul>
<li>构建时间：约 40 秒（减少 60%）</li>
<li>内存使用：显著降低</li>
<li>缓存命中率：每种语言 80-95%</li>
</ul>
<p><strong>本站的数学计算</strong>：</p>
<ul>
<li>无缓存：400 页 × 5 个组件 = 2,000 次渲染</li>
<li>有缓存：20 个缓存条目（4 种语言 × 5 个组件）+ 400 次动态渲染</li>
<li><strong>一般公式</strong>：每个组件 N 个缓存条目，而不是（页面 × N）次渲染</li>
</ul>
<h2 id="内容管理工作流程">内容管理工作流程</h2>
<h3 id="创建新文章">创建新文章</h3>
<ol>
<li><strong>首先编写英文版本</strong>（真实来源）：</li>
</ol>
<pre class="language-bash" data-language="bash"><code class="language-bash">hexo new post <span class="token string">"Article Title"</span>
<span class="token comment"># 创建：source/_posts/Article-Title.md</span></code></pre>
<ol start="2">
<li><strong>添加语言元数据</strong>：</li>
</ol>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"Article Title"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> en
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"英文引人注目的摘要"</span>
<span class="token punctuation">---</span></code></pre>
<ol start="3">
<li><strong>使用语言后缀创建翻译</strong>：</li>
</ol>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 在文件名中使用语言后缀</span>
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-zh-TW.md
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-zh-CN.md
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-ja.md</code></pre>
<ol start="4">
<li><strong>更新翻译元数据</strong>（不需要固定链接）：</li>
</ol>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"文章标题"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN  <span class="token comment"># 补丁自动生成：/zh-CN/2025/10/Article-Title/</span>
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"简体中文摘要"</span>
<span class="token punctuation">---</span></code></pre>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 自动 URL 生成</p><div class="admonition-content"><p>应用补丁后：</p>
<ul>
<li><code>Article-Title-zh-TW.md</code> → <code>/zh-TW/2025/10/Article-Title/</code></li>
<li><code>Article-Title-ja.md</code> → <code>/ja/2025/10/Article-Title/</code></li>
<li>语言后缀自动从 URL 中去除</li>
<li>不需要手动 <code>permalink</code> 配置</li>
</ul>
</div></div>
<h3 id="处理未翻译的内容">处理未翻译的内容</h3>
<p>对于仅以一种语言提供的内容，使用 <code>original_lang_url</code>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"CISP 认证"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Cybersecurity
<span class="token key atrule">original_lang_url</span><span class="token punctuation">:</span> /zh<span class="token punctuation">-</span>CN/2025/10/cisp<span class="token punctuation">-</span>certification/
<span class="token punctuation">---</span></code></pre>
<p>这会显示重定向通知而不是内容，将读者引导到可用的语言版本。</p>
<h2 id="资源管理">资源管理</h2>
<h3 id="图片和资源">图片和资源</h3>
<p><strong>英文文章</strong>：使用相对路径</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">图表</span>](<span class="token url">diagram.png</span>)</span></code></pre>
<p><strong>翻译文章</strong>：使用指向英文资源的绝对路径</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">图表</span>](<span class="token url">/2025/10/Article-Title/diagram.png</span>)</span></code></pre>
<p><strong>优点</strong>：</p>
<ul>
<li>无资源重复</li>
<li>单一真实来源</li>
<li>更易维护</li>
</ul>
<h3 id="内部链接">内部链接</h3>
<p>始终使用带语言前缀的绝对路径：</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token comment"><!-- 英文 --></span>
<span class="token url">[<span class="token content">Tools</span>](<span class="token url">/tools/</span>)</span>
<span class="token url">[<span class="token content">Previous Post</span>](<span class="token url">/2025/09/Previous-Article/</span>)</span>

<span class="token comment"><!-- 简体中文 --></span>
<span class="token url">[<span class="token content">工具</span>](<span class="token url">/zh-CN/tools/</span>)</span>
<span class="token url">[<span class="token content">上一篇文章</span>](<span class="token url">/zh-CN/2025/09/Previous-Article/</span>)</span></code></pre>
<h2 id="SEO-注意事项">SEO 注意事项</h2>
<h3 id="摘要管理">摘要管理</h3>
<p>每种语言具有不同的字符密度：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">excerpt_length</span><span class="token punctuation">:</span>
  <span class="token key atrule">default</span><span class="token punctuation">:</span> <span class="token number">200</span>
  <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token number">200</span>
  <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token number">100</span>
  <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token number">100</span>
  <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token number">100</span></code></pre>
<p>始终在前置数据中提供手动摘要以获得更好的控制：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"通过自定义插件掌握 Hexo 中的多语言内容管理。"</span></code></pre>
<h3 id="分类翻译">分类翻译</h3>
<p>保持分类键为英文，翻译显示名称：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">category_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">Development</span><span class="token punctuation">:</span>
    <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token string">"Development"</span>
    <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token string">"開発"</span></code></pre>
<h3 id="标签">标签</h3>
<p><strong>无论内容语言如何，始终使用英文标签</strong>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
  <span class="token punctuation">-</span> i18n
  <span class="token punctuation">-</span> Static Site</code></pre>
<p>这确保了跨语言的一致标签页面。</p>
<h2 id="其他性能提示">其他性能提示</h2>
<h3 id="开发期间禁用插件">开发期间禁用插件</h3>
<p>许多 i18n 插件可以在本地预览期间禁用以加快开发速度：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">i18n_archive_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 预览时禁用</span>
  
<span class="token key atrule">i18n_category_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 预览时禁用</span>
  
<span class="token key atrule">i18n_tag_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 预览时禁用</span>
  
<span class="token key atrule">sitemap_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 预览时禁用</span>
  
<span class="token key atrule">canonical_multilang</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 预览时禁用</span></code></pre>
<p><strong>部署前启用</strong>：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 部署前为所有插件设置 enable: true</span>
hexo clean <span class="token operator">&amp;&amp;</span> hexo generate</code></pre>
<p><strong>优点</strong>：</p>
<ul>
<li>更快的本地构建（秒而不是分钟）</li>
<li>内容创建期间更快的迭代</li>
<li>仅在生产需要时才具有完整功能</li>
</ul>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 开发工作流程</p><div class="admonition-content"><p>在日常工作中保持插件在 <code>_config.yml</code> 中禁用。仅在 CI/CD 管道中或手动部署前启用它们。</p>
</div></div>
<h2 id="故障排除">故障排除</h2>
<h3 id="出现错误语言内容">出现错误语言内容</h3>
<p><strong>原因</strong>：片段缓存未使用语言特定的键</p>
<p><strong>解决方案</strong>：验证缓存键包含 <code>page.lang</code>：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'component-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/component'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<h3 id="语言选择器显示-404">语言选择器显示 404</h3>
<p><strong>原因</strong>：服务器端路径检测与片段缓存</p>
<p><strong>解决方案</strong>：实现客户端 URL 生成（见上文）</p>
<h3 id="构建性能下降">构建性能下降</h3>
<p><strong>原因</strong>：缓存已禁用或 <code>relative_link: true</code></p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>设置 <code>relative_link: false</code></li>
<li>清除缓存：<code>hexo clean</code></li>
<li>重新生成：<code>hexo generate</code></li>
</ol>
<h3 id="翻译未出现">翻译未出现</h3>
<p><strong>原因</strong>：缺少 <code>lang</code> 元数据或固定链接不正确</p>
<p><strong>解决方案</strong>：验证前置数据包含：</p>
<ul>
<li><code>lang: zh-CN</code>（或适当的语言代码）</li>
<li>使用语言后缀的文件名（例如 <code>Article-Title-zh-CN.md</code>）</li>
</ul>
<h2 id="结论">结论</h2>
<p>构建多语言 Hexo 博客需要自定义插件和仔细优化，但结果是一个快速、SEO 友好的网站，为全球受众提供服务。关键见解：</p>
<ul>
<li><strong>分离关注点</strong>：文章集中化，页面基于目录</li>
<li><strong>积极缓存</strong>：每种语言的片段缓存将构建时间减少 60%</li>
<li><strong>客户端增强</strong>：JavaScript 处理动态元素而不破坏缓存</li>
<li><strong>一致的结构</strong>：英文作为真实来源，翻译遵循既定模式</li>
</ul>
<p>此实现为跨 4 种语言的 400+ 页面博客提供支持，在不到 2 分钟内构建，同时保持出色的性能和 SEO。</p>
<p>静态网站生成的未来是多语言的，通过正确的架构，Hexo 可以提供世界级的结果。</p>
<!-- commentbox plugin begins -->
    <div class="commentbox"></div>
    <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
    <script>commentBox('5765834504929280-proj')</script>
    <!-- commentbox plugin ends -->
    
        </div>
        
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/zh-CN/2025/10/Enabling-i18n-in-Hexo/" data-id="639c1115" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "在 Hexo 中启用 i18n：多语言博客完整指南",
        "image": "https://neo01.com/assets/hexo/thumbnail.png",
        "keywords": "Hexo Static Site i18n",
        "genre": "Development",
        "datePublished": "2025-10-30",
        "dateCreated": "2025-10-30",
        "dateModified": "2025-10-30",
        "url": "https://neo01.com//zh-CN/2025/10/Enabling-i18n-in-Hexo/",
        "description": "通过自定义插件、URL 策略和片段缓存性能优化，掌握 Hexo 中的多语言内容管理。",
        "wordCount": 3927
    }
</script-->

</article>

                        </div>
                    </section>
                    
<aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">

        
            
                
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">链接</h3>
    <div class="widget">
        <ul><li><a href="/zh-CN/ai">AI 游乐场</a></li><li><a href="/zh-CN/tools">工具</a></li><li><a href="/zh-CN/games">游戏</a></li><li><a href="/zh-CN/pages/useful-information">实用信息</a></li><li><a href="/zh-CN/pages/Hexo-Blogging-Cheatsheet">Hexo 博客速查表</a></li></ul>
    </div>
</div>

                
            
                
                
                
            
                
                    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/Enabling-i18n-in-Hexo/" class="thumbnail">
        <span style="background-image:url(/assets/hexo/thumbnail.png)" alt="在 Hexo 中启用 i18n：多语言博客完整指南" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">开发</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/Enabling-i18n-in-Hexo/" class="title">在 Hexo 中启用 i18n：多语言博客完整指南</a></p>
                            <p class="item-date"><time datetime="2025-10-29T16:00:00.000Z" itemprop="datePublished">2025-10-30</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Advanced-Security-Topics/" class="thumbnail">
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：高级安全主题" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Advanced-Security-Topics/" class="title">CISP学习指南：高级安全主题</a></p>
                            <p class="item-date"><time datetime="2025-10-22T16:00:00.000Z" itemprop="datePublished">2025-10-23</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Email-Security/" class="thumbnail">
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：电子邮件安全与网络协议" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Email-Security/" class="title">CISP学习指南：电子邮件安全与网络协议</a></p>
                            <p class="item-date"><time datetime="2025-10-22T16:00:00.000Z" itemprop="datePublished">2025-10-23</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Access-Control-Audit-WAPI/" class="thumbnail">
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：访问控制机制、蜜网、审计系统与WAPI" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Access-Control-Audit-WAPI/" class="title">CISP学习指南：访问控制机制、蜜网、审计系统与WAPI</a></p>
                            <p class="item-date"><time datetime="2025-10-21T16:00:00.000Z" itemprop="datePublished">2025-10-22</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-China-Information-Security-Laws/" class="thumbnail">
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：中国信息安全法律法规体系" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-China-Information-Security-Laws/" class="title">CISP学习指南：中国信息安全法律法规体系</a></p>
                            <p class="item-date"><time datetime="2025-10-21T16:00:00.000Z" itemprop="datePublished">2025-10-22</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

                
            
                
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2025/">2025</a>
                    <span class="archive-list-count">73</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2023/">2023</a>
                    <span class="archive-list-count">16</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2022/">2022</a>
                    <span class="archive-list-count">18</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


                
            
        

    </div>
</aside>


                </div>
            </div>
        </div>
        
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>

            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#1fcebb21</div>
                <img src="/qr/qr-c26e37cc2737ab0acb8e4d8b77f80f5f.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#1fcebb21">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>© 2025 Neo Alienson. 版权所有.
                  <a href="/zh-CN/terms-and-conditions">使用条款</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




        
    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

<script>CookieConsent.run({"palette":{"popup":{"background":"#000"},"button":{"background":"#f1d600"}},"guiOptions":{"consentModal":{"layout":"box","position":"bottom right","equalWeightButtons":true,"flipButtons":false},"preferencesModal":{"layout":"box","position":"right","equalWeightButtons":false,"flipButtons":false}},"categories":{"necessary":{"readOnly":true},"functionality":{},"analytics":{}},"language":{"default":"en","autoDetect":"browser","translations":{"en":{"consentModal":{"title":"Hello traveler, it's cookie time!","description":"🍪 This site uses cookies to serve you the best experience—no crumbs left behind! Want to know what cookies really are? Check out this easy-to-understand cookie explanation. And for the legal nitty-gritty, here’s our website cookie policy to keep you in the loop! 🚀\n","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","showPreferencesBtn":"Manage preferences","footer":"<a href=\"#link\">Privacy Policy</a>\n<a href=\"/terms-and-conditions/\">Terms and conditions</a>\n"},"preferencesModal":{"title":"Consent Preferences Center","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","savePreferencesBtn":"Save preferences","closeIconLabel":"Close modal","serviceCounterLabel":"Service|Services","sections":[{"title":"Cookie Usage","description":"We use cookies to make your visit smoother, faster, and tailored just for you. Cookies help us remember your preferences, improve site performance, and deliver personalized content while keeping things secure and user-friendly.\n"},{"title":"Strictly Necessary Cookies <span class=\"pm__badge\">Always Enabled</span>","description":"These cookies are essential for the website to function properly. They enable core features like security, page navigation, and access to secure areas. Without these, the site cannot operate correctly.\n","linkedCategory":"necessary"},{"title":"Functionality Cookies","description":"Functionality cookies remember your choices to provide a more personalized experience. For example, they save your language preference or login details so you don’t have to keep entering them each time.\n","linkedCategory":"functionality"},{"title":"Analytics Cookies","description":"Analytics cookies help us understand how visitors interact with our site by collecting information anonymously. This insight allows us to improve functionality, fix issues, and make the website better for you.\n","linkedCategory":"analytics"},{"title":"More information","description":"Please refer to our <a href='/pages/cookie-policy'>cookie policy</a> for full details on how we use cookies and your options to manage them.\n"}]}}}}})</script></body></html>