<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    
    <title>Jenkins 管道上的 GitOps | Decoding Digital Anomalies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="keywords" content="GitOps,Jenkins,Groovy">
    
    
    <meta name="description" content="凌晨3点部署出错？只需 git revert 即可回滚！学习如何用种子脚本实现 Jenkins 管道的 GitOps。">
<meta property="og:type" content="article">
<meta property="og:title" content="Jenkins 管道上的 GitOps">
<meta property="og:url" content="https://neo01.com/zh-CN/2023/09/GitOps_on_Jenkins/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="凌晨3点部署出错？只需 git revert 即可回滚！学习如何用种子脚本实现 Jenkins 管道的 GitOps。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://neo01.com/zh-CN/2023/09/GitOps_on_Jenkins/hero.png">
<meta property="article:published_time" content="2023-09-24T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-11T08:59:08.118Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="GitOps">
<meta property="article:tag" content="Jenkins">
<meta property="article:tag" content="Groovy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/zh-CN/2023/09/GitOps_on_Jenkins/hero.png">
    
    

    
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">


    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/prism-line-numbers.css">

    
<link rel="stylesheet" href="/css/prism.min.css">


    


    


    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    


<!-- hexo injector head_end start --><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="stylesheet" type="text/css" href="/cache/cookieconsent.css"><style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* 内容区域 margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE 类型 */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO 类型 */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* 警告类 */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* 错误类 */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP 类型 */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS 类型 */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION 类型 */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE 类型 */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE 类型 */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*黑暗模式*/
/* 夜间模式基础样式 */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style><script id="mermaid-scripts" src="/cache/mermaid.min.local.js"></script>
<script>mermaid.initialize({theme: 'default'});</script></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" title="Homepage" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                          
                            <p class="title">解码数字异常</p>
                          
                          <p class="subtitle">有时功能就是数字兔子洞中的错误，反之亦然</p>
                        </h2>
                    
                    <div id="lang-selector">
                        <span class="lang-icon">🌐</span>
                        
                        
                            
                            
                            <a href="/2023/09/GitOps_on_Jenkins/" class="lang-link">English</a>
                        
                            
                            <span class="lang-sep">|</span>
                            <a href="/zh-TW/2023/09/GitOps_on_Jenkins/" class="lang-link">繁體中文</a>
                        
                    </div>
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-CN/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/AI/">人工智能</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/AI/Art-Gallery/">艺术画廊</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Architecture/">架构</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Development/">开发</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Misc/">杂项</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-CN/categories/Security/">Security</a></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-CN/about-me">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="搜索">
        <button type="submit" title="搜索" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'zh-CN',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Development/">Development</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2023/09/GitOps_on_Jenkins-zh-CN" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Jenkins 管道上的 GitOps
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2023-09-24T16:00:00.000Z" itemprop="datePublished">2023-09-25</time>
          &nbsp;<i class="fa fa-calendar"></i>
          Updated <time datetime="2025-10-11T08:59:08.118Z" itemprop="datePublished">2025-10-11</time>
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/zh-CN/tags/GitOps/">GitOps</a> <a class="tag-link" href="/zh-CN/tags/Jenkins/">Jenkins</a> <a class="tag-link" href="/zh-CN/tags/Groovy/">Groovy</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-GitOps%EF%BC%9F"><span class="toc-text">什么是 GitOps？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jenkins-%E7%AE%A1%E9%81%93%E7%9A%84-GitOps"><span class="toc-text">Jenkins 管道的 GitOps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%85%E8%B6%8A-Jenkins%EF%BC%9A%E6%97%A0%E5%A4%84%E4%B8%8D%E5%9C%A8%E7%9A%84-GitOps"><span class="toc-text">超越 Jenkins：无处不在的 GitOps</span></a></li></ol>
            <p><img src="/2023/09/GitOps_on_Jenkins/hero.png" alt=""></p>
<h2 id="什么是-GitOps？">什么是 GitOps？</h2>
<p>想象一下：凌晨 3 点，部署出错了。你不必疯狂地点击 Jenkins UI 试图记住你改变了什么，而是简单地运行 <code>git revert</code> 并重新部署。这就是 GitOps 的力量。</p>
<p>GitOps 意味着像管理 Git 中的代码一样管理你的整个基础设施——每个更改都被跟踪，每个部署都可重现，每个回滚只需一次提交。</p>
<p>GitOps 是一种使用 Git 作为单一事实来源来管理基础设施和应用程序的方法。它让你在代码中定义所需状态，然后使用工具将该状态应用到你的环境中。GitOps 实现持续交付，因为 Git 仓库中的任何更改都会触发部署新版本代码的管道。</p>
<div class="mermaid">graph LR
    A([开发者]) --&gt;|提交| B[(Git 仓库)]
    B --&gt;|触发| C[CI/CD 管道]
    E[(对象存储)] --&gt;|读取状态| C
    C --&gt;|部署| D[基础设施]
    D --&gt;|写入状态| E
    
    style B fill:#87CEEB
    style C fill:#90EE90
    style D fill:#FFD700
    style E fill:#FFA07A</div>
<h2 id="Jenkins-管道的-GitOps">Jenkins 管道的 GitOps</h2>
<p>在 Jenkins 管道的上下文中，GitOps 可用于通过将管道配置视为代码并使用 Git 管理对该代码的更改来管理管道。这允许开发者对其管道配置进行版本控制，与其他团队成员协作更改，并在必要时轻松回滚更改。</p>
<p>换句话说：不是手动点击 Jenkins UI 来创建和配置管道，而是编写描述你想要的管道的代码，将其提交到 Git，并让自动化为你创建它们。</p>
<h3 id="使用种子脚本管理-Jenkins-管道">使用种子脚本管理 Jenkins 管道</h3>
<p>种子脚本是用于在 Jenkins 上创建和维护管道的脚本。它通常用 Groovy 脚本编写。</p>
<p>以下是在 Jenkins 中创建管道的种子脚本示例。该脚本使用 Job DSL 插件以声明方式定义管道作业。脚本循环遍历仓库列表并为每个仓库创建管道作业。每个管道的步骤详细信息从其自己仓库中的 Jenkinsfile 引用。</p>
<p>三个管道可能看起来不太令人印象深刻。但考虑为多个环境创建管道——这就是种子脚本真正发挥作用的地方。</p>
<p>虽然种子脚本可用于定义管道中的详细步骤，但重要的是保持这些脚本简单并专注于管理管道。保持种子脚本简单使其更容易维护并与其他团队成员协作。</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 最佳实践</p><div class="admonition-content"><p>保持你的种子脚本专注于管道结构和配置。将实际的管道逻辑存储在每个仓库内的 Jenkinsfile 中。这种关注点分离使两者都更容易维护。</p>
</div></div>
<h3 id="使用种子脚本的好处">使用种子脚本的好处</h3>
<p>使用种子脚本可以带来几个好处，包括：</p>
<ul>
<li><strong>自动化</strong>：你可以根据 Git 仓库中的更改自动创建和更新 Jenkins 管道。这减少了手动错误并节省了时间和精力。</li>
<li><strong>不可变性</strong>：你可以保持 Jenkins 管道不可变，这意味着它们在创建后不会手动修改。这确保了不同环境和阶段之间的一致性和可靠性。</li>
<li><strong>版本控制</strong>：你可以使用 Git 提交和分支跟踪 Jenkins 管道的历史和更改。这使你能够回滚到以前的版本、比较不同版本并审计更改。</li>
<li><strong>协作</strong>：你可以使用 Git 功能（如拉取请求、代码审查和合并冲突）与其他开发者和团队协作处理 Jenkins 管道。这提高了管道的质量和安全性。</li>
<li><strong>恢复</strong>：如果 Jenkins 意外损坏或删除，你可以使用种子作业从 Git 仓库重新部署管道。</li>
<li><strong>可移植性</strong>：你可以使用 GitOps 在另一个 Jenkins 服务器上创建相同的管道集。这在你想使用 Jenkins/插件升级测试管道时特别有用。</li>
</ul>
<h3 id="挑战和解决方案">挑战和解决方案</h3>
<p>然而，当使用 GitOps 生成 Jenkins 管道时，你需要注意一些挑战。</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 管道删除和审计日志</p><div class="admonition-content"><p>当你使用 GitOps 生成 Jenkins 管道时，你也可以使用 GitOps 在不再需要时销毁它们。然而，如果你需要保留管道执行的输出（控制台日志）以进行审计或故障排除，这可能会导致问题。</p>
</div></div>
<p><strong>要考虑的解决方案：</strong></p>
<ol>
<li><strong>外部日志存储</strong>：在删除管道之前，使用单独的存储系统（如 Elasticsearch、CloudWatch 或 S3）归档日志</li>
<li><strong>软删除</strong>：将管道标记为已弃用，而不是立即删除它们</li>
<li><strong>保留策略</strong>：实施具有可配置保留期的自动归档</li>
</ol>
<h3 id="安全考虑">安全考虑</h3>
<div class="admonition danger"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🔒 安全最佳实践</p><div class="admonition-content"><p>GitOps 引入了新的安全考虑，因为你的管道配置存储在 Git 中。</p>
</div></div>
<p><strong>关键安全实践：</strong></p>
<ul>
<li><strong>凭证管理</strong>：永远不要在种子脚本中存储凭证。使用 Jenkins 凭证插件并通过 ID 引用它们</li>
<li><strong>访问控制</strong>：实施分支保护并要求对种子脚本更改进行代码审查</li>
<li><strong>审计追踪</strong>：启用 Git 提交签名以验证更改的真实性</li>
<li><strong>最小权限</strong>：仅授予种子作业创建/更新管道所需的权限</li>
</ul>
<h3 id="状态管理模式">状态管理模式</h3>
<p>随着你的 GitOps 实施成熟，你需要决定如何处理状态——实际部署的内容与 Git 中定义的内容的记录。</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📦 状态同步：对象存储 vs Git 版本控制</p><div class="admonition-content"><p>虽然 GitOps 传统上使用 Git 进行状态管理，但一些团队将状态存储在对象存储（S3、Azure Blob）中，而不是在 Git 中进行版本控制。</p>
<p><strong>为什么使用对象存储来存储状态？</strong></p>
<ul>
<li><strong>大小限制</strong>：Terraform 状态文件或大型配置输出可能会使 Git 仓库膨胀，使克隆变慢且历史记录笨重</li>
<li><strong>二进制数据</strong>：状态文件通常包含二进制或频繁更改的数据，这些数据不会从 Git 的差异功能中受益</li>
<li><strong>并发性</strong>：具有锁定机制的对象存储（如 S3 + DynamoDB）比 Git 合并冲突更好地防止并发修改</li>
<li><strong>性能</strong>：使用对象存储读取/写入大型状态文件比 Git 操作更快</li>
<li><strong>关注点分离</strong>：配置（Git）与运行时状态（对象存储）本质上是不同的——一个是意图，另一个是现实</li>
</ul>
<p>把它想象成建筑计划与检查报告：你对蓝图进行版本控制（Git），但将检查结果存储在文件柜中（对象存储）。</p>
</div></div>
<h2 id="超越-Jenkins：无处不在的-GitOps">超越 Jenkins：无处不在的 GitOps</h2>
<p>GitOps 是一个概念，你可以通过使用 Git 作为单一事实来源来应用于自动化一切运维。Jenkins 只是其中一个应用程序。相同的原则适用于：</p>
<ul>
<li><strong>基础设施即代码</strong>：Terraform、CloudFormation、Pulumi</li>
<li><strong>Kubernetes</strong>：ArgoCD、Flux 用于集群管理</li>
<li><strong>配置管理</strong>：Ansible、Chef、Puppet</li>
<li><strong>监控</strong>：Grafana 仪表板、Prometheus 规则</li>
</ul>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✨ 关键要点</p><div class="admonition-content"><p>GitOps 将运维从手动、容易出错的流程转变为自动化、可审计和可重现的工作流程。通过将一切视为代码并使用 Git 作为事实来源，你可以获得整个基础设施的版本控制、协作和可靠性。</p>
</div></div>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>🚀 入门</p><div class="admonition-content"><p>准备为你的 Jenkins 管道实施 GitOps？</p>
<ol>
<li><strong>从小处开始</strong>：将一个手动管道转换为种子脚本</li>
<li><strong>在沙盒中测试</strong>：首先使用非生产 Jenkins 实例</li>
<li><strong>逐步扩展</strong>：一旦你感到舒适，添加更多管道</li>
<li><strong>添加可观察性</strong>：一旦稳定，实施监控和警报</li>
<li><strong>记录模式</strong>：为你的团队创建模板以遵循</li>
</ol>
</div></div>

        </div>
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/zh-CN/2023/09/GitOps_on_Jenkins/" data-id="6dd13b44" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "Jenkins 管道上的 GitOps",
        "image": "https://neo01.comhero.png",
        "keywords": "GitOps Jenkins Groovy",
        "genre": "Development",
        "datePublished": "2023-09-25",
        "dateCreated": "2023-09-25",
        "dateModified": "2025-10-11",
        "url": "https://neo01.com//zh-CN/2023/09/GitOps_on_Jenkins/",
        "description": "凌晨3点部署出错？只需 git revert 即可回滚！学习如何用种子脚本实现 Jenkins 管道的 GitOps。",
        "wordCount": 256
    }
</script-->

</article>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    <!-- 
        
<nav id="article-nav">
    
        <a href="/zh-TW/2023/09/Troubleshooting_Terraform/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            Terraform 故障排除
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2023/09/GitOps_on_Jenkins/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">GitOps on Jenkins Pipelines</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

     -->
    <div class="widgets-container">
        
            
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">链接</h3>
    <div class="widget">
        <ul><li><a href="/zh-CN/ai">AI 游乐场</a></li><li><a href="/zh-CN/tools">工具</a></li><li><a href="/zh-CN/games">游戏</a></li><li><a href="/zh-CN/pages/useful-information">实用信息</a></li><li><a href="/zh-CN/pages/Hexo-Blogging-Cheatsheet">Hexo 博客速查表</a></li></ul>
    </div>
</div>

            
                
    
    
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Access-Control/" class="thumbnail">
    
    
        
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：访问控制" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Access-Control/" class="title">CISP学习指南：访问控制</a></p>
                            <p class="item-date"><time datetime="2025-10-10T16:00:00.000Z" itemprop="datePublished">2025-10-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Asset-Management/" class="thumbnail">
    
    
        
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：资产管理" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Asset-Management/" class="title">CISP学习指南：资产管理</a></p>
                            <p class="item-date"><time datetime="2025-10-09T16:00:00.000Z" itemprop="datePublished">2025-10-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Security-Incident-Management/" class="thumbnail">
    
    
        
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：信息安全事件管理与业务连续性" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Security-Incident-Management/" class="title">CISP学习指南：信息安全事件管理与业务连续性</a></p>
                            <p class="item-date"><time datetime="2025-10-08T16:00:00.000Z" itemprop="datePublished">2025-10-09</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Communications-Operations-Security-Extended/" class="thumbnail">
    
    
        
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：通信与操作安全（扩展）" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Communications-Operations-Security-Extended/" class="title">CISP学习指南：通信与操作安全（扩展）</a></p>
                            <p class="item-date"><time datetime="2025-10-07T16:00:00.000Z" itemprop="datePublished">2025-10-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zh-CN/2025/10/CISP-Physical-Environmental-Security/" class="thumbnail">
    
    
        
        <span style="background-image:url(/assets/cisp/thumbnail_80.png)" alt="CISP学习指南：物理与环境安全" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/zh-CN/categories/Cybersecurity/">网络安全</a></p>
                            <p class="item-title"><a href="/zh-CN/2025/10/CISP-Physical-Environmental-Security/" class="title">CISP学习指南：物理与环境安全</a></p>
                            <p class="item-date"><time datetime="2025-10-07T16:00:00.000Z" itemprop="datePublished">2025-10-08</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2025/">2025</a>
                    <span class="archive-list-count">22</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2024/">2024</a>
                    <span class="archive-list-count">24</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2023/">2023</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2022/">2022</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2020/">2020</a>
                    <span class="archive-list-count">1</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-CN/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <!-- disable caching cause each page has different footer from qrcode -->
        <!-- common/footer, null, {cache: !config.relative_link})  -->
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#0529a23a</div>
                <img src="/qr/qr-3c14b9b2ab3b455319511ff91f098703.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#0529a23a">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>© 2025 Neo Alienson. 版权所有.
                  <a href="/zh-CN/terms-and-conditions">使用条款</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

<script>CookieConsent.run({"palette":{"popup":{"background":"#000"},"button":{"background":"#f1d600"}},"guiOptions":{"consentModal":{"layout":"box","position":"bottom right","equalWeightButtons":true,"flipButtons":false},"preferencesModal":{"layout":"box","position":"right","equalWeightButtons":false,"flipButtons":false}},"categories":{"necessary":{"readOnly":true},"functionality":{},"analytics":{}},"language":{"default":"en","autoDetect":"browser","translations":{"en":{"consentModal":{"title":"Hello traveler, it's cookie time!","description":"🍪 This site uses cookies to serve you the best experience—no crumbs left behind! Want to know what cookies really are? Check out this easy-to-understand cookie explanation. And for the legal nitty-gritty, here’s our website cookie policy to keep you in the loop! 🚀\n","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","showPreferencesBtn":"Manage preferences","footer":"<a href=\"#link\">Privacy Policy</a>\n<a href=\"/terms-and-conditions/\">Terms and conditions</a>\n"},"preferencesModal":{"title":"Consent Preferences Center","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","savePreferencesBtn":"Save preferences","closeIconLabel":"Close modal","serviceCounterLabel":"Service|Services","sections":[{"title":"Cookie Usage","description":"We use cookies to make your visit smoother, faster, and tailored just for you. Cookies help us remember your preferences, improve site performance, and deliver personalized content while keeping things secure and user-friendly.\n"},{"title":"Strictly Necessary Cookies <span class=\"pm__badge\">Always Enabled</span>","description":"These cookies are essential for the website to function properly. They enable core features like security, page navigation, and access to secure areas. Without these, the site cannot operate correctly.\n","linkedCategory":"necessary"},{"title":"Functionality Cookies","description":"Functionality cookies remember your choices to provide a more personalized experience. For example, they save your language preference or login details so you don’t have to keep entering them each time.\n","linkedCategory":"functionality"},{"title":"Analytics Cookies","description":"Analytics cookies help us understand how visitors interact with our site by collecting information anonymously. This insight allows us to improve functionality, fix issues, and make the website better for you.\n","linkedCategory":"analytics"},{"title":"More information","description":"Please refer to our <a href='/pages/cookie-policy'>cookie policy</a> for full details on how we use cookies and your options to manage them.\n"}]}}}}})</script></body></html>