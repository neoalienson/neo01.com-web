<!DOCTYPE html><html lang="zh-TW"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    



    
    <title>緩慢變化維度：管理資料倉儲中的歷史資料 | Decoding Digital Anomalies</title>
    
    <meta name="keywords" content="Data Modeling,Data Warehousing,Database">
    
    
    <meta name="description" content="維度資料會以不可預測的方式隨時間變化。從簡單的覆寫到複雜的混合方法，理解 SCD 類型有助於平衡歷史準確性、資料完整性和系統效能。">
<meta property="og:type" content="article">
<meta property="og:title" content="緩慢變化維度：管理資料倉儲中的歷史資料">
<meta property="og:url" content="https://neo01.com/zh-TW/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="維度資料會以不可預測的方式隨時間變化。從簡單的覆寫到複雜的混合方法，理解 SCD 類型有助於平衡歷史準確性、資料完整性和系統效能。">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2006-12-10T16:00:00.000Z">
<meta property="article:modified_time" content="2025-11-26T17:01:40.545Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="Data Modeling">
<meta property="article:tag" content="Data Warehousing">
<meta property="article:tag" content="Database">
<meta name="twitter:card" content="summary">
    
    <!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.0">  <link rel="canonical" href="https://neo01.com/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/">
  <link rel="alternate" hreflang="en" data-canonical="true" href="https://neo01.com/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/">
  <link rel="alternate" hreflang="zh-TW" href="https://neo01.com/zh-TW/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/">
  <link rel="alternate" hreflang="zh-CN" href="https://neo01.com/zh-CN/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/">
<style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* 内容区域 margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE 类型 */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO 类型 */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* 警告类 */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* 错误类 */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP 类型 */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS 类型 */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION 类型 */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE 类型 */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE 类型 */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*黑暗模式*/
/* 夜间模式基础样式 */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style></head>

<body>
    <div id="wrap">
        
        
<header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <div class="logo"></div>
                    </h1>

                        <h2 class="subtitle-wrap">
                            <p class="title">解碼數位異象</p>
                          <p class="subtitle">有時功能就是數位兔子洞中的錯誤，反之亦然</p>
                        </h2>




                    <div id="lang-selector">
                        <span class="lang-icon">🌐</span>
                        
                            <a href="#" class="lang-link" data-lang="en">English</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-CN">简体中文</a>
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            var currentLang = 'zh-TW';
                            var currentPath = window.location.pathname;
                            var basePath;
                            
                            if (currentLang === 'en') {
                                basePath = currentPath;
                            } else {
                                basePath = currentPath.replace(new RegExp('^/' + currentLang + '/'), '/');
                            }
                            
                            document.querySelectorAll('.lang-link').forEach(function(link) {
                                var targetLang = link.getAttribute('data-lang');
                                var targetPath;
                                if (targetLang === 'en') {
                                    targetPath = basePath;
                                } else {
                                    targetPath = '/' + targetLang + basePath;
                                }
                                link.href = targetPath;
                            });
                        });
                        </script>
                    </div>


                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-TW/">首頁</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/AI/">人工智慧</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/AI/Art-Gallery/">藝術畫廊</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/Architecture/">架構</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/Cybersecurity/">資訊安全</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/Development/">開發</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/zh-TW/categories/Misc/">雜項</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/zh-TW/about-me/">關於</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="搜尋">
        <button type="submit" title="搜尋" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="輸入關鍵字...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '頁面',
            CATEGORIES: '分類',
            TAGS: '標籤',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'zh-TW',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Architecture/">Architecture</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data-zh-TW" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        緩慢變化維度：管理資料倉儲中的歷史資料
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2006-12-10T16:00:00.000Z" itemprop="datePublished">2006-12-11</time>
          &nbsp;<i class="fa fa-calendar"></i>
          Updated <time datetime="2025-11-26T17:01:40.545Z" itemprop="datePublished">2025-11-27</time>
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/zh-TW/tags/Data-Warehousing/">Data Warehousing</a> <a class="tag-link" href="/zh-TW/tags/Database/">Database</a> <a class="tag-link" href="/zh-TW/tags/Data-Modeling/">Data Modeling</a>
    </div>

            </div>
        
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%B7%E5%8F%B2%E8%B3%87%E6%96%99%E5%95%8F%E9%A1%8C"><span class="toc-text">歷史資料問題</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SCD-%E9%A1%9E%E5%9E%8B%E5%88%86%E9%A1%9E"><span class="toc-text">SCD 類型分類</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-0%EF%BC%9A%E4%BF%9D%E7%95%99%E5%8E%9F%E5%A7%8B%E5%80%BC"><span class="toc-text">類型 0：保留原始值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-1%EF%BC%9A%E8%A6%86%E5%AF%AB"><span class="toc-text">類型 1：覆寫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-2%EF%BC%9A%E6%96%B0%E5%A2%9E%E5%88%97"><span class="toc-text">類型 2：新增列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-3%EF%BC%9A%E6%96%B0%E5%A2%9E%E5%B1%AC%E6%80%A7"><span class="toc-text">類型 3：新增屬性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-4%EF%BC%9A%E6%96%B0%E5%A2%9E%E6%AD%B7%E5%8F%B2%E8%A1%A8"><span class="toc-text">類型 4：新增歷史表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-6%EF%BC%9A%E7%B5%84%E5%90%88%E6%96%B9%E6%B3%95"><span class="toc-text">類型 6：組合方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B-7%EF%BC%9A%E9%9B%99%E9%8D%B5%E7%AD%96%E7%95%A5"><span class="toc-text">類型 7：雙鍵策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%B8%E6%93%87%E6%AD%A3%E7%A2%BA%E7%9A%84%E9%A1%9E%E5%9E%8B"><span class="toc-text">選擇正確的類型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B5%90%E8%AB%96"><span class="toc-text">結論</span></a></li></ol>
            <p>資料倉儲承諾提供歷史分析，但維度資料卻不願保持靜止。客戶搬遷、產品變更類別、業務員調到新區域。這些變化看似簡單，直到你問：歷史報表應該反映舊狀態還是新狀態？</p>
<p>傳統資料庫透過更新處理變化——用新值覆寫舊值。這對專注於當前狀態的交易系統有效，但會破壞使資料倉儲有價值的歷史脈絡。當業務員從加州調到伊利諾州時，他們過去的銷售額應該出現在加州還是伊利諾州的區域報表中？</p>
<p>緩慢變化維度（SCD）解決了這個挑戰。與快速變化的交易資料（客戶 ID、數量、價格）不同，維度屬性如位置、名稱和類別的變化頻率較低但不可預測。SCD 中的「緩慢」並不意味著變化罕見，而是指它們不是正常交易流程的一部分。</p>
<p>Ralph Kimball 的《資料倉儲工具包》推廣了處理這些變化的分類系統：類型 0 到 7。每種類型代表歷史準確性、資料複雜性和查詢效能之間的不同權衡。類型 1 犧牲歷史以換取簡單性。類型 2 以複雜性為代價保留完整歷史。類型 6 結合多種方法以獲得最大靈活性。</p>
<p>挑戰不僅限於技術實作。SCD 必須維護事實表和維度表之間的參照完整性。銷售事實表連結到供應商維度。當供應商搬遷時，歷史銷售記錄必須仍然連接到正確的供應商資訊，而不破壞資料庫關係。</p>
<p>本文探討每種 SCD 類型，檢視其權衡，並提供針對不同情境選擇正確方法的指導。</p>
<h2 id="歷史資料問題">歷史資料問題</h2>
<p>在探索解決方案之前，理解問題可以揭示為什麼維度變化會產生複雜性。</p>
<h3 id="供應商搬遷情境">供應商搬遷情境</h3>
<p>考慮一個追蹤供應商關係的資料倉儲：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📊 初始狀態</p><div class="admonition-content"><p><strong>供應商維度</strong></p>
<ul>
<li>供應商：Acme Supply Co</li>
<li>位置：加州</li>
<li>供應商代碼：ABC</li>
</ul>
<p><strong>事實表</strong></p>
<ul>
<li>2005 年銷售額：$500,000</li>
<li>2006 年銷售額：$750,000</li>
</ul>
<p><strong>業務問題</strong>
「我們 2005 年在加州的供應商銷售額是多少？」</p>
</div></div>
<p>答案似乎很明顯：$500,000。但當 Acme 在 2007 年搬遷到伊利諾州時，問題變得模糊。報表應該顯示：</p>
<ol>
<li><strong>當前狀態</strong>：加州銷售額為零（Acme 現在在伊利諾州）</li>
<li><strong>歷史狀態</strong>：$500,000（Acme 在 2005 年時在加州）</li>
<li><strong>兩者皆可</strong>：取決於查詢</li>
</ol>
<p>不同的業務需求需要不同的答案。稅務報告需要歷史準確性——銷售發生在加州，無論當前位置如何。策略規劃可能需要當前狀態——了解當前供應商分佈比過去位置更重要。</p>
<h3 id="參照完整性挑戰">參照完整性挑戰</h3>
<p>資料庫關係使事情變得更加複雜：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 更新問題</p><div class="admonition-content"><p><strong>情境</strong></p>
<ul>
<li>事實表參照 Supplier_Key = 123</li>
<li>供應商 123 是「Acme Supply Co, CA」</li>
<li>供應商搬遷到伊利諾州</li>
</ul>
<p><strong>選項 1：就地更新</strong></p>
<ul>
<li>將供應商 123 改為「Acme Supply Co, IL」</li>
<li>歷史事實現在顯示伊利諾州</li>
<li>損失：歷史準確性</li>
</ul>
<p><strong>選項 2：建立新記錄</strong></p>
<ul>
<li>新增供應商 124 為「Acme Supply Co, IL」</li>
<li>保留供應商 123 為「Acme Supply Co, CA」</li>
<li>問題：新交易使用哪個鍵？</li>
<li>問題：如何查詢「所有 Acme 交易」？</li>
</ul>
</div></div>
<p>兩種選項都無法滿足所有需求。更新會破壞歷史。新記錄會破壞自然鍵關係。SCD 提供了結構化的方法來解決這個困境。</p>
<h3 id="為什麼「緩慢變化」很重要">為什麼「緩慢變化」很重要</h3>
<p>緩慢變化和快速變化資料之間的區別至關重要：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔄 變化頻率比較</p><div class="admonition-content"><p><strong>快速變化（交易型）</strong></p>
<ul>
<li>每筆訂單中的客戶 ID</li>
<li>每筆銷售中的產品 ID</li>
<li>數量、價格、日期</li>
<li>變化：每天數百萬次</li>
<li>策略：儲存每筆交易</li>
</ul>
<p><strong>緩慢變化（維度型）</strong></p>
<ul>
<li>客戶地址</li>
<li>產品類別</li>
<li>供應商位置</li>
<li>變化：每月數十次</li>
<li>策略：取決於業務需求</li>
</ul>
</div></div>
<p>交易資料變化是預期的且經過設計。維度變化是需要特殊處理的例外。「緩慢」限定詞表示這些變化發生在正常交易流程之外，使它們更難預測和管理。</p>
<h2 id="SCD-類型分類">SCD 類型分類</h2>
<p>Ralph Kimball 的分類系統提供了處理維度變化的結構化方法。</p>
<h3 id="類型系統概述">類型系統概述</h3>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📋 SCD 類型一覽</p><div class="admonition-content"><p><strong>類型 0：保留原始值</strong></p>
<ul>
<li>永不改變</li>
<li>保留原始值</li>
<li>範例：出生日期</li>
</ul>
<p><strong>類型 1：覆寫</strong></p>
<ul>
<li>用新值替換舊值</li>
<li>不維護歷史</li>
<li>最簡單的方法</li>
</ul>
<p><strong>類型 2：新增列</strong></p>
<ul>
<li>為每次變化建立新記錄</li>
<li>保留完整歷史</li>
<li>最常見的方法</li>
</ul>
<p><strong>類型 3：新增屬性</strong></p>
<ul>
<li>在欄位中儲存有限歷史</li>
<li>僅追蹤前一個值</li>
<li>簡單查詢</li>
</ul>
<p><strong>類型 4：新增歷史表</strong></p>
<ul>
<li>獨立的歷史表</li>
<li>當前和歷史資料分離</li>
<li>稽核式追蹤</li>
</ul>
<p><strong>類型 6：組合方法（1+2+3）</strong></p>
<ul>
<li>混合方法</li>
<li>多種追蹤方法</li>
<li>最大靈活性</li>
</ul>
<p><strong>類型 7：雙鍵</strong></p>
<ul>
<li>代理鍵和自然鍵</li>
<li>靈活的查詢選項</li>
<li>複雜實作</li>
</ul>
</div></div>
<p>每種類型代表不同的優先順序。類型 1 優先考慮簡單性而非歷史。類型 2 優先考慮歷史而非簡單性。類型 6 試圖以複雜性為代價提供兩者。</p>
<h3 id="選擇因素">選擇因素</h3>
<p>正確的類型取決於具體需求：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🎯 決策因素</p><div class="admonition-content"><p><strong>歷史準確性</strong></p>
<ul>
<li>過去狀態有多重要？</li>
<li>法規要求？</li>
<li>需要稽核軌跡？</li>
</ul>
<p><strong>查詢模式</strong></p>
<ul>
<li>當前狀態查詢？</li>
<li>歷史狀態查詢？</li>
<li>兩種類型都需要？</li>
</ul>
<p><strong>資料量</strong></p>
<ul>
<li>變化多久發生一次？</li>
<li>儲存限制？</li>
<li>效能要求？</li>
</ul>
<p><strong>複雜度容忍度</strong></p>
<ul>
<li>團隊專業知識？</li>
<li>維護負擔？</li>
<li>ETL 複雜性可接受？</li>
</ul>
</div></div>
<p>沒有單一類型適合所有情境。許多資料倉儲對不同維度使用不同類型，甚至對同一維度內的不同屬性使用不同類型。</p>
<h2 id="類型-0：保留原始值">類型 0：保留原始值</h2>
<p>某些屬性根據定義永不改變。</p>
<h3 id="不可變屬性">不可變屬性</h3>
<p>類型 0 適用於具有持久值的屬性：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 類型 0 特性</p><div class="admonition-content"><p><strong>定義</strong></p>
<ul>
<li>屬性永不改變</li>
<li>原始值永久保留</li>
<li>不需要特殊處理</li>
</ul>
<p><strong>常見範例</strong></p>
<ul>
<li>出生日期</li>
<li>原始信用評分</li>
<li>帳戶建立日期</li>
<li>初始分類</li>
</ul>
<p><strong>實作</strong></p>
<ul>
<li>標準欄位</li>
<li>無更新邏輯</li>
<li>最簡單的方法</li>
</ul>
</div></div>
<p>類型 0 實際上不是「緩慢變化」維度——它是「永不變化」維度。此分類的存在是為了明確識別永遠不應更新的屬性，防止意外修改。</p>
<h3 id="日期維度">日期維度</h3>
<p>日期維度通常對大多數屬性使用類型 0：</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Date_Dimension <span class="token punctuation">(</span>
    Date_Key <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    Full_Date <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    Day_Of_Week <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Month_Name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Quarter <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token keyword">Year</span> <span class="token keyword">INT</span><span class="token punctuation">,</span>
    Is_Holiday <span class="token keyword">BOOLEAN</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📅 日期維度穩定性</p><div class="admonition-content"><p><strong>為什麼類型 0 有效</strong></p>
<ul>
<li>2006 年 1 月 1 日永遠是 2006 年 1 月 1 日</li>
<li>給定日期的星期幾永不改變</li>
<li>季度和年份是固定的</li>
</ul>
<p><strong>例外：Is_Holiday</strong></p>
<ul>
<li>假日指定可能會改變</li>
<li>宣布新假日</li>
<li>可能需要類型 1 或類型 2</li>
</ul>
</div></div>
<p>日期維度展示了類型 0 的簡單性。一旦填充，它們很少需要更新。這種穩定性使它們成為事實表連接和基於時間分析的理想選擇。</p>
<h3 id="業務價值">業務價值</h3>
<p>類型 0 提供清晰度和保護：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 類型 0 優勢</p><div class="admonition-content"><p><strong>清晰度</strong></p>
<ul>
<li>明確標記不可變資料</li>
<li>記錄業務規則</li>
<li>防止混淆</li>
</ul>
<p><strong>保護</strong></p>
<ul>
<li>無意外更新</li>
<li>保證資料完整性</li>
<li>稽核合規</li>
</ul>
<p><strong>效能</strong></p>
<ul>
<li>無版本檢查</li>
<li>簡單查詢</li>
<li>最小儲存</li>
</ul>
</div></div>
<p>在設計期間識別類型 0 屬性可以防止未來問題。當業務規則聲明「這永不改變」時，類型 0 在資料模型層級強制執行該規則。</p>
<h2 id="類型-1：覆寫">類型 1：覆寫</h2>
<p>最簡單的方法：用新值替換舊值。</p>
<h3 id="類型-1-如何運作">類型 1 如何運作</h3>
<p>類型 1 就地更新記錄：</p>
<p><strong>初始狀態：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
</tr>
</tbody>
</table>
<p><strong>搬遷後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
</tr>
</tbody>
</table>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">UPDATE</span> Supplier
<span class="token keyword">SET</span> Supplier_State <span class="token operator">=</span> <span class="token string">'IL'</span>
<span class="token keyword">WHERE</span> Supplier_Code <span class="token operator">=</span> <span class="token string">'ABC'</span><span class="token punctuation">;</span></code></pre>
<p>舊值消失。新值取而代之。沒有歷史，沒有複雜性。</p>
<h3 id="何時類型-1-有意義">何時類型 1 有意義</h3>
<p>類型 1 適用於特定情境：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 良好的類型 1 使用案例</p><div class="admonition-content"><p><strong>錯誤更正</strong></p>
<ul>
<li>資料輸入中的錯字</li>
<li>不正確的初始值</li>
<li>資料品質修正</li>
<li>錯誤不需要歷史</li>
</ul>
<p><strong>無關緊要的變化</strong></p>
<ul>
<li>不影響分析的變化</li>
<li>外觀更新</li>
<li>標準化變化</li>
<li>範例：「St.」改為「Street」</li>
</ul>
<p><strong>僅當前狀態</strong></p>
<ul>
<li>不需要歷史報告</li>
<li>當前快照足夠</li>
<li>儲存限制</li>
<li>簡單報告需求</li>
</ul>
</div></div>
<p>供應商的電話號碼可能使用類型 1。歷史電話號碼很少對分析重要。當號碼改變時，覆寫它。報表始終顯示當前聯絡資訊。</p>
<h3 id="簡單性的代價">簡單性的代價</h3>
<p>類型 1 的簡單性伴隨著重大限制：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 類型 1 限制</p><div class="admonition-content"><p><strong>歷史遺失</strong></p>
<ul>
<li>無法回答「2005 年的值是什麼？」</li>
<li>稽核軌跡被破壞</li>
<li>合規問題</li>
<li>不可逆的資料遺失</li>
</ul>
<p><strong>彙總影響</strong></p>
<ul>
<li>預先計算的彙總變得不正確</li>
<li>必須重新計算摘要</li>
<li>範例：「按州銷售」追溯變化</li>
<li>效能影響</li>
</ul>
<p><strong>報告混淆</strong></p>
<ul>
<li>歷史報表顯示當前值</li>
<li>「加州銷售」在搬遷後顯示零</li>
<li>業務使用者困惑</li>
<li>對資料的信任受損</li>
</ul>
</div></div>
<h3 id="彙總重新計算問題">彙總重新計算問題</h3>
<p>類型 1 產生級聯更新：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 彙總維護</p><div class="admonition-content"><p><strong>情境</strong></p>
<ul>
<li>彙總表：按供應商州的銷售</li>
<li>加州總計：$5,000,000</li>
<li>伊利諾州總計：$2,000,000</li>
</ul>
<p><strong>類型 1 更新後</strong></p>
<ul>
<li>供應商從 CA 搬到 IL</li>
<li>彙總表現在不正確</li>
<li>必須重新計算：
<ul>
<li>從加州減去</li>
<li>加到伊利諾州</li>
</ul>
</li>
</ul>
<p><strong>問題</strong></p>
<ul>
<li>昂貴的重新計算</li>
<li>影響多個彙總表</li>
<li>ETL 複雜性增加</li>
<li>違背彙總的目的</li>
</ul>
</div></div>
<p>預先計算的彙總存在是為了效能。類型 1 變化強制重新計算，抵消了效能優勢。這使得類型 1 不適合用於彙總表中的維度。</p>
<h3 id="實作考量">實作考量</h3>
<p>類型 1 需要仔細規劃：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 1 最佳實踐</p><div class="admonition-content"><p><strong>記錄決策</strong></p>
<ul>
<li>明確標記類型 1 屬性</li>
<li>解釋為什麼不需要歷史</li>
<li>獲得業務簽核</li>
</ul>
<p><strong>稽核軌跡替代方案</strong></p>
<ul>
<li>考慮資料庫稽核日誌</li>
<li>獨立稽核表</li>
<li>折衷：簡單更新，外部歷史</li>
</ul>
<p><strong>混合方法</strong></p>
<ul>
<li>某些屬性使用類型 1</li>
<li>其他屬性使用類型 2</li>
<li>同一維度，不同策略</li>
</ul>
</div></div>
<p>類型 1 與其他類型結合使用效果最佳。對歷史真正不重要的屬性使用類型 1，對重要的屬性使用類型 2。</p>
<h2 id="類型-2：新增列">類型 2：新增列</h2>
<p>最常見的 SCD 方法：為每次變化建立新記錄。</p>
<h3 id="類型-2-如何運作">類型 2 如何運作</h3>
<p>類型 2 透過多筆記錄保留完整歷史：</p>
<p><strong>初始狀態：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>0</td>
</tr>
</tbody>
</table>
<p><strong>第一次搬遷後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>0</td>
</tr>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>每次變化都會建立一個具有新代理鍵的新列。自然鍵（Supplier_Code）保持不變，但代理鍵（Supplier_Key）會改變。</p>
<h3 id="實作變化">實作變化</h3>
<p>類型 2 有幾種實作模式：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔧 類型 2 實作選項</p><div class="admonition-content"><p><strong>版本號</strong></p>
<ul>
<li>順序版本欄位</li>
<li>易於理解</li>
<li>容易找到最新版本</li>
</ul>
<p><strong>生效日期</strong></p>
<ul>
<li>Start_Date 和 End_Date 欄位</li>
<li>精確的時間追蹤</li>
<li>支援時間點查詢</li>
</ul>
<p><strong>當前旗標</strong></p>
<ul>
<li>布林值指示當前記錄</li>
<li>快速當前狀態查詢</li>
<li>通常與日期結合</li>
</ul>
</div></div>
<p><strong>生效日期實作：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Start_Date</th>
<th>End_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2000-01-01</td>
<td>2004-12-22</td>
</tr>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>2004-12-22</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p>NULL End_Date 表示當前記錄。某些實作使用高日期值（9999-12-31）而不是 NULL，以避免在查詢中處理 null。</p>
<p><strong>當前旗標實作：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Effective_Date</th>
<th>Current_Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2000-01-01</td>
<td>N</td>
</tr>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>2004-12-22</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>Current_Flag 啟用快速篩選：<code>WHERE Current_Flag = 'Y'</code> 僅返回當前記錄。</p>
<h3 id="事實表整合">事實表整合</h3>
<p>類型 2 的威力來自事實表整合：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 類型 2 優勢</p><div class="admonition-content"><p><strong>歷史準確性</strong></p>
<ul>
<li>事實連結到正確的歷史維度</li>
<li>2003 年的交易連結到 Supplier_Key 123（CA）</li>
<li>2005 年的交易連結到 Supplier_Key 124（IL）</li>
<li>報表顯示準確的歷史狀態</li>
</ul>
<p><strong>無彙總更新</strong></p>
<ul>
<li>彙總保持正確</li>
<li>「按州銷售」不會追溯變化</li>
<li>預先計算的摘要保持有效</li>
<li>維持效能</li>
</ul>
<p><strong>無限歷史</strong></p>
<ul>
<li>追蹤每次變化</li>
<li>完整稽核軌跡</li>
<li>支援合規要求</li>
<li>可能的時間旅行查詢</li>
</ul>
</div></div>
<p>當事實表儲存 Supplier_Key 時，它會捕獲交易時的維度狀態。2003 年的銷售參照 Supplier_Key 123（加州）。即使供應商搬遷，該關係也永不改變。歷史報表自動顯示正確狀態。</p>
<h3 id="查詢模式">查詢模式</h3>
<p>類型 2 支援多種查詢模式：</p>
<p><strong>當前狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span>
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>Current_Flag <span class="token operator">=</span> <span class="token string">'Y'</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p><strong>歷史狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span>
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">WHERE</span> f<span class="token punctuation">.</span>Sale_Date <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>Start_Date <span class="token operator">AND</span> s<span class="token punctuation">.</span>End_Date
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p><strong>時間點查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span>
    s<span class="token punctuation">.</span>Supplier_State
<span class="token keyword">FROM</span> Supplier s
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>Supplier_Code <span class="token operator">=</span> <span class="token string">'ABC'</span>
  <span class="token operator">AND</span> <span class="token string">'2003-06-15'</span> <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>Start_Date <span class="token operator">AND</span> <span class="token keyword">COALESCE</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>End_Date<span class="token punctuation">,</span> <span class="token string">'9999-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="類型-2-挑戰">類型 2 挑戰</h3>
<p>儘管很受歡迎，類型 2 仍有缺點：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 類型 2 挑戰</p><div class="admonition-content"><p><strong>維度大小增長</strong></p>
<ul>
<li>每次變化都會新增一列</li>
<li>頻繁變化的維度變得很大</li>
<li>儲存影響</li>
<li>索引維護開銷</li>
</ul>
<p><strong>ETL 複雜性</strong></p>
<ul>
<li>必須檢測變化</li>
<li>關閉舊記錄（設定 End_Date）</li>
<li>建立新記錄</li>
<li>更新 Current_Flag</li>
<li>比類型 1 更複雜</li>
</ul>
<p><strong>自然鍵查詢</strong></p>
<ul>
<li>每個自然鍵有多列</li>
<li>必須指定時間段或當前旗標</li>
<li>連接變得更複雜</li>
<li>重複結果的風險</li>
</ul>
<p><strong>追溯變化</strong></p>
<ul>
<li>新增新屬性很困難</li>
<li>不同屬性的生效日期不同</li>
<li>可能需要重新處理事實</li>
<li>昂貴的操作</li>
</ul>
</div></div>
<h3 id="追溯變化問題">追溯變化問題</h3>
<p>類型 2 最大的挑戰出現在維度模型變化時：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 追溯變化情境</p><div class="admonition-content"><p><strong>情況</strong></p>
<ul>
<li>維度追蹤 Supplier_State</li>
<li>業務新增需求：追蹤 Sales_Rep</li>
<li>Sales_Rep 的生效日期與 State 不同</li>
</ul>
<p><strong>問題</strong></p>
<ul>
<li>現有列有 State 變化</li>
<li>需要新增 Sales_Rep 變化</li>
<li>生效日期不一致</li>
<li>必須建立新的時間切片</li>
</ul>
<p><strong>影響</strong></p>
<ul>
<li>現有事實記錄指向舊鍵</li>
<li>必須更新事實表</li>
<li>昂貴的操作</li>
<li>潛在的資料不一致</li>
</ul>
</div></div>
<p>這種情境使得類型 2 不適合經常進行結構變化的維度。當模型演變時，維護類型 2 的成本可能變得過高。</p>
<h3 id="最佳實踐">最佳實踐</h3>
<p>類型 2 需要紀律才能發揮最佳效果：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 2 最佳實踐</p><div class="admonition-content"><p><strong>需要代理鍵</strong></p>
<ul>
<li>事實中永不使用自然鍵</li>
<li>代理鍵啟用版本控制</li>
<li>簡化鍵管理</li>
</ul>
<p><strong>一致的日期處理</strong></p>
<ul>
<li>標準化使用 NULL 或高日期</li>
<li>記錄慣例</li>
<li>在 ETL 中強制執行</li>
</ul>
<p><strong>索引策略</strong></p>
<ul>
<li>為當前查詢索引 Current_Flag</li>
<li>為時間查詢索引 Start_Date 和 End_Date</li>
<li>為查找索引自然鍵</li>
</ul>
<p><strong>ETL 變化檢測</strong></p>
<ul>
<li>將來源與當前維度比較</li>
<li>有效檢測變化</li>
<li>批次更新以提高效能</li>
</ul>
</div></div>
<p>類型 2 是大多數緩慢變化維度的預設選擇。其歷史準確性和查詢靈活性的結合使其適用於廣泛的情境。</p>
<h2 id="類型-3：新增屬性">類型 3：新增屬性</h2>
<p>類型 3 透過額外欄位追蹤有限歷史。</p>
<h3 id="類型-3-如何運作">類型 3 如何運作</h3>
<p>類型 3 不是新增列，而是新增欄位：</p>
<p><strong>初始狀態：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Current_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
</tr>
</tbody>
</table>
<p><strong>新增類型 3 追蹤後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Original_State</th>
<th>Effective_Date</th>
<th>Current_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2004-12-22</td>
<td>IL</td>
</tr>
</tbody>
</table>
<p>表結構改變以容納歷史。Original_State 保留第一個值。Current_State 保存最新值。</p>
<h3 id="有限歷史權衡">有限歷史權衡</h3>
<p>類型 3 提供固定的歷史深度：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📊 類型 3 特性</p><div class="admonition-content"><p><strong>追蹤內容</strong></p>
<ul>
<li>原始值</li>
<li>當前值</li>
<li>一個轉換日期</li>
<li>無中間變化</li>
</ul>
<p><strong>限制</strong></p>
<ul>
<li>僅兩個狀態可見</li>
<li>第二次搬遷會覆寫第一次變化</li>
<li>無法追蹤多次轉換</li>
<li>固定欄位結構</li>
</ul>
<p><strong>優勢</strong></p>
<ul>
<li>簡單查詢</li>
<li>無列倍增</li>
<li>固定表大小</li>
<li>易於理解</li>
</ul>
</div></div>
<h3 id="查詢簡單性">查詢簡單性</h3>
<p>類型 3 啟用直接的查詢：</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- 當前狀態分析</span>
<span class="token keyword">SELECT</span> 
    Current_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Supplier s
<span class="token keyword">JOIN</span> Fact_Sales f <span class="token keyword">ON</span> s<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> f<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Current_State<span class="token punctuation">;</span>

<span class="token comment">-- 原始狀態分析</span>
<span class="token keyword">SELECT</span> 
    Original_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Supplier s
<span class="token keyword">JOIN</span> Fact_Sales f <span class="token keyword">ON</span> s<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> f<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Original_State<span class="token punctuation">;</span>

<span class="token comment">-- 轉換分析</span>
<span class="token keyword">SELECT</span> 
    Original_State<span class="token punctuation">,</span>
    Current_State<span class="token punctuation">,</span>
    <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Suppliers_Moved
<span class="token keyword">FROM</span> Supplier
<span class="token keyword">WHERE</span> Original_State <span class="token operator">!=</span> Current_State
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Original_State<span class="token punctuation">,</span> Current_State<span class="token punctuation">;</span></code></pre>
<p>無日期範圍檢查。無當前旗標。簡單的欄位參照。</p>
<h3 id="何時類型-3-有意義">何時類型 3 有意義</h3>
<p>類型 3 適用於特定的分析需求：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 良好的類型 3 使用案例</p><div class="admonition-content"><p><strong>前後分析</strong></p>
<ul>
<li>比較原始與當前</li>
<li>遷移追蹤</li>
<li>範例：「從城市搬到鄉村的客戶」</li>
</ul>
<p><strong>固定轉換</strong></p>
<ul>
<li>預期的一次變化</li>
<li>範例：產品發布狀態（Beta → 已發布）</li>
<li>範例：客戶層級（標準 → 高級）</li>
</ul>
<p><strong>簡單報告</strong></p>
<ul>
<li>業務只需要兩個視圖</li>
<li>當前和原始就足夠</li>
<li>不需要中間狀態</li>
</ul>
</div></div>
<h3 id="前一個值變化">前一個值變化</h3>
<p>另一種方法追蹤最近的變化：</p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Previous_State</th>
<th>Change_Date</th>
<th>Current_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2004-12-22</td>
<td>IL</td>
</tr>
</tbody>
</table>
<p><strong>第二次搬遷後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Previous_State</th>
<th>Change_Date</th>
<th>Current_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>2008-02-04</td>
<td>NY</td>
</tr>
</tbody>
</table>
<p>Previous_State 現在顯示 IL（不是 CA）。此變化追蹤最後一次轉換，失去了更早的歷史。</p>
<h3 id="類型-3-限制">類型 3 限制</h3>
<p>固定結構產生問題：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 類型 3 問題</p><div class="admonition-content"><p><strong>歷史遺失</strong></p>
<ul>
<li>第三次變化覆寫第二次</li>
<li>無法重建完整歷史</li>
<li>稽核軌跡不完整</li>
</ul>
<p><strong>架構變化</strong></p>
<ul>
<li>新增更多歷史需要 ALTER TABLE</li>
<li>需要應用程式變化</li>
<li>對生產環境造成干擾</li>
</ul>
<p><strong>時間查詢不可能</strong></p>
<ul>
<li>無法詢問「日期 X 的值是什麼？」</li>
<li>僅兩個時間點可用</li>
<li>有限的分析價值</li>
</ul>
<p><strong>事實表模糊性</strong></p>
<ul>
<li>哪個狀態適用於給定交易？</li>
<li>必須將交易日期與 Effective_Date 比較</li>
<li>比類型 2 更複雜</li>
</ul>
</div></div>
<h3 id="混合欄位方法">混合欄位方法</h3>
<p>類型 3 通常與其他類型結合：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 3 混合策略</p><div class="admonition-content"><p><strong>情境</strong></p>
<ul>
<li>使用類型 2 獲得完整歷史</li>
<li>為常見查詢新增類型 3 欄位</li>
<li>範例：類型 2 維度中的 Current_State 欄位</li>
</ul>
<p><strong>優勢</strong></p>
<ul>
<li>類型 2 提供完整歷史</li>
<li>類型 3 欄位簡化頻繁查詢</li>
<li>兩種方法的優點</li>
</ul>
<p><strong>權衡</strong></p>
<ul>
<li>冗餘資料</li>
<li>ETL 必須維護兩者</li>
<li>儲存開銷</li>
</ul>
</div></div>
<p>類型 3 很少單獨使用。其有限的歷史使其不適合作為唯一的追蹤機制。與類型 2 結合，它在維護完整歷史的同時提供查詢便利性。</p>
<h2 id="類型-4：新增歷史表">類型 4：新增歷史表</h2>
<p>類型 4 將當前和歷史資料分離到不同的表中。</p>
<h3 id="類型-4-如何運作">類型 4 如何運作</h3>
<p>類型 4 使用兩個表：一個用於當前狀態，一個用於歷史：</p>
<p><strong>Supplier 表（當前）：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
</tr>
</thead>
<tbody>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme &amp; Johnson Supply Co</td>
<td>IL</td>
</tr>
</tbody>
</table>
<p><strong>Supplier_History 表：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Create_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2003-06-14</td>
</tr>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme &amp; Johnson Supply Co</td>
<td>IL</td>
<td>2004-12-22</td>
</tr>
</tbody>
</table>
<p>當前表僅包含活動記錄。歷史表包含所有版本，包括當前版本。</p>
<h3 id="資料庫稽核模式">資料庫稽核模式</h3>
<p>類型 4 類似於資料庫稽核表：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔍 類型 4 特性</p><div class="admonition-content"><p><strong>結構</strong></p>
<ul>
<li>當前表：每個實體一列</li>
<li>歷史表：所有版本</li>
<li>兩個表共享鍵結構</li>
<li>歷史包含時間戳記</li>
</ul>
<p><strong>與稽核表的相似性</strong></p>
<ul>
<li>追蹤所有變化</li>
<li>不可變歷史</li>
<li>基於時間戳記</li>
<li>獨立儲存</li>
</ul>
<p><strong>與稽核表的差異</strong></p>
<ul>
<li>歷史表是可查詢的維度</li>
<li>事實表可以參照兩者</li>
<li>維度模型的一部分</li>
<li>不僅用於稽核</li>
</ul>
</div></div>
<h3 id="事實表整合-2">事實表整合</h3>
<p>類型 4 的獨特功能：事實可以參照兩個表：</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Fact_Sales <span class="token punctuation">(</span>
    Sale_ID <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    Sale_Date <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    Current_Supplier_Key <span class="token keyword">INT</span><span class="token punctuation">,</span>  <span class="token comment">-- 參照 Supplier</span>
    Historical_Supplier_Key <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">-- 參照 Supplier_History</span>
    Amount <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 雙重參照優勢</p><div class="admonition-content"><p><strong>當前狀態查詢</strong></p>
<ul>
<li>連接到 Supplier 表</li>
<li>始終顯示當前資訊</li>
<li>快速查詢（較小的表）</li>
<li>不需要日期篩選</li>
</ul>
<p><strong>歷史狀態查詢</strong></p>
<ul>
<li>連接到 Supplier_History 表</li>
<li>顯示交易時的狀態</li>
<li>完整稽核軌跡</li>
<li>時間準確性</li>
</ul>
<p><strong>靈活性</strong></p>
<ul>
<li>每次查詢選擇適當的表</li>
<li>不需要重寫查詢</li>
<li>兩種視圖都可用</li>
</ul>
</div></div>
<h3 id="查詢模式-2">查詢模式</h3>
<p>類型 4 啟用不同的分析視角：</p>
<p><strong>當前狀態分析：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Current_Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p>此查詢顯示按當前供應商州分組的所有銷售，無論銷售何時發生。</p>
<p><strong>歷史狀態分析：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    sh<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier_History sh <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Historical_Supplier_Key <span class="token operator">=</span> sh<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sh<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p>此查詢顯示按銷售時供應商州分組的銷售。</p>
<h3 id="ETL-考量">ETL 考量</h3>
<p>類型 4 需要仔細的 ETL 設計：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 類型 4 ETL 複雜性</p><div class="admonition-content"><p><strong>變化檢測</strong></p>
<ul>
<li>將來源與當前表比較</li>
<li>檢測變化</li>
<li>更新當前表</li>
<li>插入歷史表</li>
</ul>
<p><strong>鍵管理</strong></p>
<ul>
<li>為變化生成新代理鍵</li>
<li>用新鍵更新當前表</li>
<li>在歷史表中插入新列</li>
<li>用兩個鍵更新事實表</li>
</ul>
<p><strong>事實表載入</strong></p>
<ul>
<li>必須填充兩個鍵欄位</li>
<li>當前鍵：最新維度鍵</li>
<li>歷史鍵：交易時的維度鍵</li>
<li>需要時間查找</li>
</ul>
</div></div>
<h3 id="何時類型-4-有意義">何時類型 4 有意義</h3>
<p>類型 4 適合特定情境：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 良好的類型 4 使用案例</p><div class="admonition-content"><p><strong>雙重視角報告</strong></p>
<ul>
<li>需要當前和歷史視圖</li>
<li>頻繁在視角之間切換</li>
<li>範例：按當前區域與歷史區域的銷售</li>
</ul>
<p><strong>效能優化</strong></p>
<ul>
<li>當前表保持小型</li>
<li>快速當前狀態查詢</li>
<li>歷史表可以分區</li>
<li>獨立索引策略</li>
</ul>
<p><strong>變化資料捕獲</strong></p>
<ul>
<li>與 CDC 系統整合</li>
<li>自然適合 CDC 輸出</li>
<li>稽核軌跡要求</li>
<li>合規需求</li>
</ul>
</div></div>
<h3 id="類型-4-挑戰">類型 4 挑戰</h3>
<p>雙表方法產生複雜性：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 類型 4 問題</p><div class="admonition-content"><p><strong>事實表開銷</strong></p>
<ul>
<li>每個維度兩個鍵欄位</li>
<li>增加儲存</li>
<li>更複雜的 ETL</li>
<li>潛在的不一致</li>
</ul>
<p><strong>同步風險</strong></p>
<ul>
<li>當前和歷史表必須保持一致</li>
<li>歷史表應包含當前記錄</li>
<li>ETL 失敗可能導致分歧</li>
<li>驗證開銷</li>
</ul>
<p><strong>查詢混淆</strong></p>
<ul>
<li>使用者必須了解使用哪個表</li>
<li>錯誤的表選擇給出錯誤結果</li>
<li>文件至關重要</li>
<li>需要培訓</li>
</ul>
<p><strong>有限的工具支援</strong></p>
<ul>
<li>BI 工具期望單一維度表</li>
<li>可能無法很好地處理雙重參照</li>
<li>需要自訂查詢邏輯</li>
<li>報告複雜性</li>
</ul>
</div></div>
<h3 id="維護策略">維護策略</h3>
<p>類型 4 需要持續維護：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 4 最佳實踐</p><div class="admonition-content"><p><strong>一致性檢查</strong></p>
<ul>
<li>驗證歷史包含當前記錄</li>
<li>驗證鍵關係</li>
<li>定期對帳</li>
<li>自動驗證</li>
</ul>
<p><strong>清晰命名</strong></p>
<ul>
<li>明顯的表名（當前 vs 歷史）</li>
<li>描述性鍵欄位名稱</li>
<li>資料字典中的文件</li>
</ul>
<p><strong>ETL 原子性</strong></p>
<ul>
<li>在單一交易中更新兩個表</li>
<li>失敗時回滾</li>
<li>防止部分更新</li>
</ul>
<p><strong>效能調整</strong></p>
<ul>
<li>按日期分區歷史表</li>
<li>每個表不同的索引</li>
<li>如需要存檔舊歷史</li>
</ul>
</div></div>
<p>類型 4 以複雜性為代價提供靈活性。當真正需要雙重視角且團隊可以管理額外的 ETL 和維護負擔時，它效果最佳。</p>
<h2 id="類型-6：組合方法">類型 6：組合方法</h2>
<p>類型 6 結合類型 1、2 和 3（1 + 2 + 3 = 6）以獲得最大靈活性。</p>
<h3 id="類型-6-如何運作">類型 6 如何運作</h3>
<p>類型 6 使用類型 2 的列版本控制，加上類型 3 的當前值欄位和類型 1 的覆寫策略：</p>
<p><strong>初始狀態：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Row_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Current_State</th>
<th>Historical_State</th>
<th>Start_Date</th>
<th>End_Date</th>
<th>Current_Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>CA</td>
<td>2000-01-01</td>
<td>9999-12-31</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p><strong>第一次搬遷後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Row_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Current_State</th>
<th>Historical_State</th>
<th>Start_Date</th>
<th>End_Date</th>
<th>Current_Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>CA</td>
<td>2000-01-01</td>
<td>2004-12-22</td>
<td>N</td>
</tr>
<tr>
<td>123</td>
<td>2</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>IL</td>
<td>2004-12-22</td>
<td>9999-12-31</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>注意：</p>
<ul>
<li>類型 2：建立新列（Row_Key 2）</li>
<li>類型 3：新增 Current_State 欄位</li>
<li>類型 1：Row_Key 1 中的 Current_State 覆寫為 IL</li>
</ul>
<p><strong>第二次搬遷後：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Row_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Current_State</th>
<th>Historical_State</th>
<th>Start_Date</th>
<th>End_Date</th>
<th>Current_Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>NY</td>
<td>CA</td>
<td>2000-01-01</td>
<td>2004-12-22</td>
<td>N</td>
</tr>
<tr>
<td>123</td>
<td>2</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>NY</td>
<td>IL</td>
<td>2004-12-22</td>
<td>2008-02-04</td>
<td>N</td>
</tr>
<tr>
<td>123</td>
<td>3</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>NY</td>
<td>NY</td>
<td>2008-02-04</td>
<td>9999-12-31</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>所有列現在顯示 Current_State = NY（類型 1 覆寫），而 Historical_State 保留每個時間段內當前的值（類型 2 歷史）。</p>
<h3 id="三種技術的結合">三種技術的結合</h3>
<p>類型 6 將每種技術應用於不同方面：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔧 類型 6 機制</p><div class="admonition-content"><p><strong>類型 1 組件</strong></p>
<ul>
<li>Current_State 欄位</li>
<li>每次變化時覆寫</li>
<li>所有列更新以顯示最新值</li>
<li>啟用「當前狀態」查詢</li>
</ul>
<p><strong>類型 2 組件</strong></p>
<ul>
<li>每次變化新增列</li>
<li>Start_Date 和 End_Date</li>
<li>Current_Flag</li>
<li>保留完整歷史</li>
</ul>
<p><strong>類型 3 組件</strong></p>
<ul>
<li>Historical_State 欄位</li>
<li>儲存時間段內當前的值</li>
<li>建立後永不更新</li>
<li>啟用「歷史狀態」查詢</li>
</ul>
</div></div>
<h3 id="查詢靈活性">查詢靈活性</h3>
<p>類型 6 支援三種查詢模式：</p>
<p><strong>當前狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Current_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Row_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Current_State<span class="token punctuation">;</span></code></pre>
<p>顯示按當前供應商州分組的所有銷售。簡單連接，無日期篩選。</p>
<p><strong>歷史狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Historical_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Sales_Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Row_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Historical_State<span class="token punctuation">;</span></code></pre>
<p>顯示按銷售發生時當前的州分組的銷售。同樣簡單，不需要日期篩選。</p>
<p><strong>時間點查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_Name<span class="token punctuation">,</span>
    s<span class="token punctuation">.</span>Historical_State
<span class="token keyword">FROM</span> Supplier s
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>Supplier_Code <span class="token operator">=</span> <span class="token string">'ABC'</span>
  <span class="token operator">AND</span> <span class="token string">'2005-06-15'</span> <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>Start_Date <span class="token operator">AND</span> s<span class="token punctuation">.</span>End_Date<span class="token punctuation">;</span></code></pre>
<p>檢索特定日期時存在的維度狀態。</p>
<h3 id="Kimball-的「具有單一版本覆蓋的不可預測變化」">Kimball 的「具有單一版本覆蓋的不可預測變化」</h3>
<p>Ralph Kimball 將類型 6 稱為「具有單一版本覆蓋的不可預測變化」：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>📚 Kimball 的術語</p><div class="admonition-content"><p><strong>不可預測變化</strong></p>
<ul>
<li>變化不規則發生</li>
<li>無法預測何時或多久發生一次</li>
<li>緩慢變化維度的典型特徵</li>
</ul>
<p><strong>單一版本覆蓋</strong></p>
<ul>
<li>當前值「覆蓋」在所有歷史列上</li>
<li>建立當前狀態的單一版本</li>
<li>無需日期邏輯即可存取</li>
<li>簡化常見查詢</li>
</ul>
</div></div>
<p>「覆蓋」指的是在所有列中更新的 Current_State 欄位，無論您檢查哪個歷史列，都提供當前狀態的單一、一致視圖。</p>
<h3 id="實作複雜性">實作複雜性</h3>
<p>類型 6 是最複雜的 SCD 類型：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 類型 6 複雜性</p><div class="admonition-content"><p><strong>ETL 挑戰</strong></p>
<ul>
<li>檢測變化（類型 2）</li>
<li>建立新列（類型 2）</li>
<li>更新舊列的 End_Date（類型 2）</li>
<li>更新 Current_Flag（類型 2）</li>
<li>更新實體的所有列的 Current_State（類型 1）</li>
<li>最複雜的更新邏輯</li>
</ul>
<p><strong>儲存開銷</strong></p>
<ul>
<li>冗餘的 Current_State 欄位</li>
<li>儲存在每個歷史列中</li>
<li>增加維度大小</li>
<li>比單獨類型 2 更多儲存</li>
</ul>
<p><strong>更新效能</strong></p>
<ul>
<li>每次變化更新多列</li>
<li>必須更新所有歷史列</li>
<li>對於有許多版本的實體可能很慢</li>
<li>索引維護開銷</li>
</ul>
</div></div>
<h3 id="何時類型-6-有意義">何時類型 6 有意義</h3>
<p>類型 6 在特定情境中證明其複雜性是合理的：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 良好的類型 6 使用案例</p><div class="admonition-content"><p><strong>頻繁的當前狀態查詢</strong></p>
<ul>
<li>大多數查詢需要當前狀態</li>
<li>偶爾需要歷史狀態</li>
<li>查詢簡單性值得儲存成本</li>
</ul>
<p><strong>業務使用者查詢</strong></p>
<ul>
<li>非技術使用者撰寫查詢</li>
<li>日期邏輯太複雜</li>
<li>偏好簡單的欄位參照</li>
<li>自助 BI 工具</li>
</ul>
<p><strong>法規要求</strong></p>
<ul>
<li>必須維護完整歷史（類型 2）</li>
<li>必須報告當前狀態（類型 1）</li>
<li>兩項要求都是強制性的</li>
<li>合規證明複雜性合理</li>
</ul>
</div></div>
<h3 id="類型-6-最佳實踐">類型 6 最佳實踐</h3>
<p>管理類型 6 需要紀律：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 6 最佳實踐</p><div class="admonition-content"><p><strong>清晰的欄位命名</strong></p>
<ul>
<li>Current_State vs Historical_State</li>
<li>明顯區分</li>
<li>防止查詢錯誤</li>
<li>自我記錄</li>
</ul>
<p><strong>高效更新</strong></p>
<ul>
<li>批次 Current_State 更新</li>
<li>使用基於集合的操作</li>
<li>避免逐列更新</li>
<li>優化效能</li>
</ul>
<p><strong>文件</strong></p>
<ul>
<li>解釋三種技術</li>
<li>提供查詢範例</li>
<li>記錄 ETL 邏輯</li>
<li>培訓使用者</li>
</ul>
<p><strong>考慮類型 2 + 視圖</strong></p>
<ul>
<li>替代方案：類型 2 維度</li>
<li>新增具有當前狀態的視圖</li>
<li>視圖連接到當前列</li>
<li>更簡單的 ETL，類似的查詢體驗</li>
</ul>
</div></div>
<p>視圖替代方案提供類似的查詢簡單性，而無需更新複雜性：</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> Supplier_With_Current <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> 
    h<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>Supplier_State <span class="token keyword">as</span> Current_State
<span class="token keyword">FROM</span> Supplier h
<span class="token keyword">JOIN</span> Supplier c <span class="token keyword">ON</span> h<span class="token punctuation">.</span>Supplier_Code <span class="token operator">=</span> c<span class="token punctuation">.</span>Supplier_Code
<span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>Current_Flag <span class="token operator">=</span> <span class="token string">'Y'</span><span class="token punctuation">;</span></code></pre>
<p>此視圖使每個歷史列都能存取當前狀態，而無需冗餘儲存。</p>
<h2 id="類型-7：雙鍵策略">類型 7：雙鍵策略</h2>
<p>類型 7 在事實表中放置代理鍵和自然鍵，以獲得最大查詢靈活性。</p>
<h3 id="類型-7-如何運作">類型 7 如何運作</h3>
<p>類型 7 使用類型 2 維度結構，但在事實中儲存兩個鍵：</p>
<p><strong>Supplier 維度（類型 2）：</strong></p>
<table>
<thead>
<tr>
<th>Supplier_Key</th>
<th>Supplier_Code</th>
<th>Supplier_Name</th>
<th>Supplier_State</th>
<th>Start_Date</th>
<th>End_Date</th>
<th>Current_Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>CA</td>
<td>2000-01-01</td>
<td>2004-12-22</td>
<td>N</td>
</tr>
<tr>
<td>124</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>IL</td>
<td>2004-12-22</td>
<td>2008-02-04</td>
<td>N</td>
</tr>
<tr>
<td>125</td>
<td>ABC</td>
<td>Acme Supply Co</td>
<td>NY</td>
<td>2008-02-04</td>
<td>9999-12-31</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p><strong>具有雙鍵的事實表：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Fact_Sales <span class="token punctuation">(</span>
    Sale_ID <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    Sale_Date <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    Supplier_Key <span class="token keyword">INT</span><span class="token punctuation">,</span>        <span class="token comment">-- 代理鍵（歷史）</span>
    Supplier_Code <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 自然鍵</span>
    Amount <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>事實儲存交易時當前的代理鍵（Supplier_Key）和識別所有版本實體的自然鍵（Supplier_Code）。</p>
<h3 id="查詢靈活性-2">查詢靈活性</h3>
<p>類型 7 啟用三種查詢模式，無需日期邏輯：</p>
<p><strong>歷史狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Key <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Key
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p>在代理鍵上連接顯示歷史狀態。2003 年的銷售連接到 Supplier_Key 123（CA），顯示加州銷售。</p>
<p><strong>當前狀態查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Code <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Code
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>Current_Flag <span class="token operator">=</span> <span class="token string">'Y'</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p>在自然鍵上連接並使用當前旗標顯示當前狀態。ABC 的所有銷售連接到 Supplier_Key 125（NY），顯示紐約銷售。</p>
<p><strong>時間點查詢：</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> 
    s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span> <span class="token keyword">as</span> Total_Sales
<span class="token keyword">FROM</span> Fact_Sales f
<span class="token keyword">JOIN</span> Supplier s <span class="token keyword">ON</span> f<span class="token punctuation">.</span>Supplier_Code <span class="token operator">=</span> s<span class="token punctuation">.</span>Supplier_Code
<span class="token keyword">WHERE</span> f<span class="token punctuation">.</span>Sale_Date <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>Start_Date <span class="token operator">AND</span> s<span class="token punctuation">.</span>End_Date
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s<span class="token punctuation">.</span>Supplier_State<span class="token punctuation">;</span></code></pre>
<p>在自然鍵上連接並使用日期範圍顯示任何時間點的狀態。</p>
<h3 id="相對於類型-2-的優勢">相對於類型 2 的優勢</h3>
<p>類型 7 為類型 2 增加了靈活性：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 類型 7 優勢</p><div class="admonition-content"><p><strong>查詢選項</strong></p>
<ul>
<li>歷史：在代理鍵上連接</li>
<li>當前：在自然鍵 + 當前旗標上連接</li>
<li>時間點：在自然鍵 + 日期範圍上連接</li>
<li>不需要重寫查詢</li>
</ul>
<p><strong>參照完整性</strong></p>
<ul>
<li>代理鍵可以有外鍵約束</li>
<li>自然鍵提供邏輯關係</li>
<li>支援兩種視角</li>
</ul>
<p><strong>追溯變化</strong></p>
<ul>
<li>新增屬性不會破壞事實</li>
<li>新時間切片不需要事實更新</li>
<li>對維度變化更具彈性</li>
</ul>
<p><strong>多個日期視角</strong></p>
<ul>
<li>事實有 Order_Date、Ship_Date、Invoice_Date</li>
<li>可以在不同日期上連接</li>
<li>範例：「訂購時的供應商州」vs「發貨時」</li>
</ul>
</div></div>
<h3 id="追溯變化優勢">追溯變化優勢</h3>
<p>類型 7 最大的優勢出現在維度演變時：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 處理維度變化</p><div class="admonition-content"><p><strong>情境</strong></p>
<ul>
<li>維度追蹤 Supplier_State</li>
<li>業務新增 Sales_Rep 屬性</li>
<li>Sales_Rep 有不同的變化日期</li>
</ul>
<p><strong>類型 2 問題</strong></p>
<ul>
<li>必須建立新時間切片</li>
<li>現有事實指向舊鍵</li>
<li>必須更新事實表</li>
<li>昂貴的操作</li>
</ul>
<p><strong>類型 7 解決方案</strong></p>
<ul>
<li>將 Sales_Rep 新增到維度</li>
<li>建立新時間切片</li>
<li>事實仍有自然鍵</li>
<li>不需要事實表更新</li>
<li>連接邏輯處理新結構</li>
</ul>
</div></div>
<p>自然鍵提供穩定性。即使維度的時間切片改變，事實仍然可以使用自然鍵和日期邏輯正確連接。</p>
<h3 id="類型-7-挑戰">類型 7 挑戰</h3>
<p>雙鍵方法有重大缺點：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 類型 7 問題</p><div class="admonition-content"><p><strong>無真正的參照完整性</strong></p>
<ul>
<li>自然鍵在維度中不唯一</li>
<li>無法在自然鍵上建立外鍵</li>
<li>代理鍵外鍵僅確保鍵存在</li>
<li>不確保正確版本</li>
<li>資料完整性依賴應用程式邏輯</li>
</ul>
<p><strong>查詢複雜性</strong></p>
<ul>
<li>使用者必須了解使用哪個鍵</li>
<li>錯誤選擇給出錯誤結果</li>
<li>某些查詢需要日期邏輯</li>
<li>比類型 2 更複雜</li>
</ul>
<p><strong>重複列風險</strong></p>
<ul>
<li>沒有日期篩選的自然鍵連接返回多列</li>
<li>容易得到錯誤結果</li>
<li>必須記住 WHERE Current_Flag = 'Y'</li>
<li>或日期範圍篩選</li>
</ul>
<p><strong>效能問題</strong></p>
<ul>
<li>日期比較比鍵連接慢</li>
<li>自然鍵連接可能較慢</li>
<li>更複雜的執行計畫</li>
<li>索引策略至關重要</li>
</ul>
<p><strong>BI 工具限制</strong></p>
<ul>
<li>工具期望單一連接鍵</li>
<li>可能無法很好地處理雙鍵邏輯</li>
<li>通常需要自訂 SQL</li>
<li>報告複雜性</li>
</ul>
</div></div>
<h3 id="參照完整性問題">參照完整性問題</h3>
<p>類型 7 最嚴重的問題是無法強制執行參照完整性：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 參照完整性缺口</p><div class="admonition-content"><p><strong>問題</strong></p>
<p>Supplier_Code 在維度中出現多次（每個版本一次）。資料庫無法在非唯一欄位上建立外鍵約束。</p>
<p><strong>後果</strong></p>
<ul>
<li>可以插入不存在的 Supplier_Code</li>
<li>可以插入有效代碼但錯誤的 Supplier_Key</li>
<li>可能出現孤立事實</li>
<li>資料品質取決於 ETL</li>
</ul>
<p><strong>範例</strong></p>
<p>事實有 Supplier_Code = 'ABC' 和 Supplier_Key = 999。Supplier_Key 999 不存在，但 Supplier_Code 'ABC' 存在。Supplier_Key 上的外鍵會捕獲這一點，但不驗證自然鍵關係。</p>
<p><strong>緩解措施</strong></p>
<ul>
<li>ETL 驗證至關重要</li>
<li>定期資料品質檢查</li>
<li>應用程式層級約束</li>
<li>無法依賴資料庫</li>
</ul>
</div></div>
<h3 id="何時類型-7-有意義">何時類型 7 有意義</h3>
<p>類型 7 適合特定情境：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 良好的類型 7 使用案例</p><div class="admonition-content"><p><strong>演變的維度</strong></p>
<ul>
<li>維度結構經常變化</li>
<li>定期新增新屬性</li>
<li>追溯變化常見</li>
<li>事實表更新昂貴</li>
</ul>
<p><strong>多個日期視角</strong></p>
<ul>
<li>事實有多個日期</li>
<li>不同日期需要不同的維度狀態</li>
<li>範例：訂單日期 vs 發貨日期</li>
<li>靈活性值得複雜性</li>
</ul>
<p><strong>進階使用者</strong></p>
<ul>
<li>團隊了解 SCD 概念</li>
<li>可以撰寫正確的連接邏輯</li>
<li>資料品質流程成熟</li>
<li>BI 工具支援複雜連接</li>
</ul>
</div></div>
<h3 id="類型-7-最佳實踐">類型 7 最佳實踐</h3>
<p>類型 7 需要仔細實作：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 類型 7 最佳實踐</p><div class="admonition-content"><p><strong>全面文件</strong></p>
<ul>
<li>解釋雙鍵目的</li>
<li>提供查詢範本</li>
<li>記錄連接模式</li>
<li>包含反模式（不該做什麼）</li>
</ul>
<p><strong>ETL 驗證</strong></p>
<ul>
<li>驗證兩個鍵匹配</li>
<li>檢查自然鍵存在</li>
<li>驗證代理鍵指向正確版本</li>
<li>自動資料品質檢查</li>
</ul>
<p><strong>索引策略</strong></p>
<ul>
<li>在事實表中索引兩個鍵</li>
<li>在維度中索引自然鍵</li>
<li>索引 Start_Date 和 End_Date</li>
<li>監控查詢效能</li>
</ul>
<p><strong>查詢範本</strong></p>
<ul>
<li>提供標準查詢</li>
<li>當前狀態範本</li>
<li>歷史狀態範本</li>
<li>時間點範本</li>
<li>防止常見錯誤</li>
</ul>
<p><strong>考慮替代方案</strong></p>
<ul>
<li>類型 2 可能就足夠</li>
<li>類型 6 提供類似靈活性</li>
<li>更簡單的方法通常更好</li>
<li>複雜性必須合理</li>
</ul>
</div></div>
<h3 id="類型-7-vs-類型-6">類型 7 vs 類型 6</h3>
<p>兩者都提供靈活性，但透過不同機制：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🔍 類型 7 vs 類型 6 比較</p><div class="admonition-content"><p><strong>類型 6</strong></p>
<ul>
<li>在維度中儲存當前狀態</li>
<li>變化時更新所有列</li>
<li>簡單查詢（無日期邏輯）</li>
<li>較高儲存開銷</li>
<li>更複雜的 ETL</li>
</ul>
<p><strong>類型 7</strong></p>
<ul>
<li>在事實中儲存自然鍵</li>
<li>不需要維度更新</li>
<li>複雜查詢（需要日期邏輯）</li>
<li>較低儲存開銷</li>
<li>更簡單的 ETL，複雜的查詢</li>
</ul>
<p><strong>決策因素</strong></p>
<ul>
<li>需要查詢簡單性？→ 類型 6</li>
<li>維度經常變化？→ 類型 7</li>
<li>儲存受限？→ 類型 7</li>
<li>非技術使用者？→ 類型 6</li>
</ul>
</div></div>
<p>類型 7 以查詢簡單性換取 ETL 簡單性和對維度變化的彈性。正確的選擇取決於哪種複雜性對您的團隊更易於管理。</p>
<h2 id="選擇正確的類型">選擇正確的類型</h2>
<p>不同的維度和屬性需要不同的 SCD 類型。</p>
<h3 id="決策框架">決策框架</h3>
<p>選擇適當的 SCD 類型需要評估多個因素：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🎯 SCD 類型選擇標準</p><div class="admonition-content"><p><strong>歷史準確性要求</strong></p>
<ul>
<li>法規合規需求？</li>
<li>需要稽核軌跡？</li>
<li>歷史報告至關重要？</li>
<li>→ 類型 2、類型 4 或類型 6</li>
</ul>
<p><strong>查詢模式</strong></p>
<ul>
<li>主要是當前狀態查詢？</li>
<li>主要是歷史查詢？</li>
<li>兩者同等重要？</li>
<li>→ 影響類型 6 vs 類型 2</li>
</ul>
<p><strong>變化頻率</strong></p>
<ul>
<li>變化罕見？</li>
<li>變化頻繁？</li>
<li>可預測或不可預測？</li>
<li>→ 影響儲存和效能</li>
</ul>
<p><strong>維度穩定性</strong></p>
<ul>
<li>結構經常變化？</li>
<li>定期新增新屬性？</li>
<li>需要追溯變化？</li>
<li>→ 不穩定維度使用類型 7</li>
</ul>
<p><strong>團隊能力</strong></p>
<ul>
<li>ETL 專業水平？</li>
<li>查詢複雜度容忍度？</li>
<li>BI 工具限制？</li>
<li>→ 經驗較少的團隊使用更簡單的類型</li>
</ul>
</div></div>
<h3 id="類型選擇矩陣">類型選擇矩陣</h3>
<p>選擇 SCD 類型的實用指南：</p>
<table>
<thead>
<tr>
<th>需求</th>
<th>推薦類型</th>
<th>替代方案</th>
<th>避免</th>
</tr>
</thead>
<tbody>
<tr>
<td>不需要歷史</td>
<td>類型 1</td>
<td>類型 0</td>
<td>類型 2+</td>
</tr>
<tr>
<td>需要完整歷史</td>
<td>類型 2</td>
<td>類型 4、類型 6</td>
<td>類型 1、類型 3</td>
</tr>
<tr>
<td>僅前後比較</td>
<td>類型 3</td>
<td>帶視圖的類型 2</td>
<td>類型 1</td>
</tr>
<tr>
<td>當前 + 歷史視圖</td>
<td>類型 6</td>
<td>類型 7、類型 4</td>
<td>類型 1、類型 3</td>
</tr>
<tr>
<td>頻繁維度變化</td>
<td>類型 7</td>
<td>類型 2</td>
<td>類型 6</td>
</tr>
<tr>
<td>簡單查詢至關重要</td>
<td>類型 1、類型 6</td>
<td>類型 3</td>
<td>類型 7</td>
</tr>
<tr>
<td>儲存受限</td>
<td>類型 1、類型 3</td>
<td>類型 2</td>
<td>類型 6</td>
</tr>
<tr>
<td>稽核合規</td>
<td>類型 2、類型 4</td>
<td>類型 6</td>
<td>類型 1</td>
</tr>
</tbody>
</table>
<h3 id="混合方法">混合方法</h3>
<p>大多數資料倉儲使用多種 SCD 類型：</p>
<div class="admonition success"><p class="admonition-title"><span class="mdi mdi-check-circle-outline admonition-icon"></span>✅ 混合 SCD 類型</p><div class="admonition-content"><p><strong>每個維度不同類型</strong></p>
<ul>
<li>客戶：類型 2（地址變化重要）</li>
<li>產品：類型 1（描述更新不重要）</li>
<li>日期：類型 0（永不改變）</li>
<li>員工：類型 2（部門調動追蹤）</li>
</ul>
<p><strong>每個屬性不同類型</strong></p>
<ul>
<li>Customer.Address：類型 2</li>
<li>Customer.Phone：類型 1</li>
<li>Customer.Email：類型 1</li>
<li>Customer.CreditLimit：類型 2</li>
</ul>
<p><strong>優勢</strong></p>
<ul>
<li>獨立優化每個維度</li>
<li>平衡複雜性和需求</li>
<li>避免過度工程</li>
<li>實用方法</li>
</ul>
</div></div>
<h3 id="按行業的常見模式">按行業的常見模式</h3>
<p>不同行業有典型的 SCD 模式：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>🏢 行業模式</p><div class="admonition-content"><p><strong>金融服務</strong></p>
<ul>
<li>帳戶維度：類型 2</li>
<li>客戶維度：類型 2</li>
<li>產品維度：類型 2</li>
<li>原因：法規合規、稽核要求</li>
</ul>
<p><strong>零售</strong></p>
<ul>
<li>產品維度：類型 1 或類型 2</li>
<li>商店維度：類型 2</li>
<li>客戶維度：類型 1 或類型 2</li>
<li>原因：平衡歷史與簡單性</li>
</ul>
<p><strong>醫療保健</strong></p>
<ul>
<li>患者維度：類型 2</li>
<li>提供者維度：類型 2</li>
<li>診斷維度：類型 0</li>
<li>原因：歷史準確性至關重要</li>
</ul>
<p><strong>製造業</strong></p>
<ul>
<li>供應商維度：類型 2</li>
<li>產品維度：類型 2</li>
<li>工廠維度：類型 1</li>
<li>原因：供應鏈追蹤</li>
</ul>
</div></div>
<h3 id="效能考量">效能考量</h3>
<p>SCD 類型影響查詢和 ETL 效能：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 效能影響</p><div class="admonition-content"><p><strong>類型 1</strong></p>
<ul>
<li>快速查詢（無日期邏輯）</li>
<li>快速更新（簡單 UPDATE）</li>
<li>必須重新計算彙總</li>
<li>最佳查詢效能</li>
</ul>
<p><strong>類型 2</strong></p>
<ul>
<li>中等查詢效能</li>
<li>日期範圍檢查增加開銷</li>
<li>維度隨時間增長</li>
<li>索引策略至關重要</li>
</ul>
<p><strong>類型 6</strong></p>
<ul>
<li>簡單查詢（無日期邏輯）</li>
<li>慢速更新（多列）</li>
<li>較大的維度大小</li>
<li>以更新速度換取查詢速度</li>
</ul>
<p><strong>類型 7</strong></p>
<ul>
<li>複雜查詢（日期邏輯）</li>
<li>快速更新（無維度變化）</li>
<li>自然鍵連接可能較慢</li>
<li>取決於索引品質</li>
</ul>
</div></div>
<h3 id="儲存考量">儲存考量</h3>
<p>不同類型有不同的儲存特性：</p>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>💾 儲存影響</p><div class="admonition-content"><p><strong>類型 1</strong></p>
<ul>
<li>最小儲存</li>
<li>每個實體一列</li>
<li>不隨時間增長</li>
<li>最有效</li>
</ul>
<p><strong>類型 2</strong></p>
<ul>
<li>隨變化增長</li>
<li>每個版本一列</li>
<li>可預測的增長率</li>
<li>監控維度大小</li>
</ul>
<p><strong>類型 3</strong></p>
<ul>
<li>固定大小</li>
<li>額外欄位</li>
<li>無列倍增</li>
<li>中等儲存</li>
</ul>
<p><strong>類型 6</strong></p>
<ul>
<li>最大儲存</li>
<li>類型 2 列 + 冗餘欄位</li>
<li>最高開銷</li>
<li>以儲存成本換取查詢簡單性</li>
</ul>
</div></div>
<h3 id="遷移策略">遷移策略</h3>
<p>變更 SCD 類型需要規劃：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 SCD 類型遷移</p><div class="admonition-content"><p><strong>類型 1 到類型 2</strong></p>
<ul>
<li>新增 Start_Date、End_Date、Current_Flag</li>
<li>將 Start_Date 設定為最早已知日期</li>
<li>將 End_Date 設定為 NULL</li>
<li>未來變化使用類型 2</li>
<li>歷史資料遺失（不可避免）</li>
</ul>
<p><strong>類型 2 到類型 6</strong></p>
<ul>
<li>新增 Current_State 欄位</li>
<li>從當前列填充</li>
<li>更新 ETL 以維護兩者</li>
<li>向後相容</li>
</ul>
<p><strong>類型 2 到類型 1</strong></p>
<ul>
<li>刪除歷史列</li>
<li>僅保留當前列</li>
<li>移除時間欄位</li>
<li>不可逆（先備份）</li>
</ul>
</div></div>
<h3 id="要避免的反模式">要避免的反模式</h3>
<p>常見的 SCD 錯誤：</p>
<div class="admonition error"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>🚫 SCD 反模式</p><div class="admonition-content"><p><strong>對所有內容使用類型 2</strong></p>
<ul>
<li>並非所有屬性都需要歷史</li>
<li>不必要的複雜性</li>
<li>浪費儲存</li>
<li>解決方案：適當混合類型</li>
</ul>
<p><strong>對所有內容使用類型 1</strong></p>
<ul>
<li>失去有價值的歷史</li>
<li>無法回答時間問題</li>
<li>合規問題</li>
<li>解決方案：識別關鍵歷史屬性</li>
</ul>
<p><strong>不一致的實作</strong></p>
<ul>
<li>不同的日期格式</li>
<li>混合 NULL vs 高日期</li>
<li>不一致的旗標值</li>
<li>解決方案：在倉儲中標準化</li>
</ul>
<p><strong>忽略自然鍵</strong></p>
<ul>
<li>僅使用代理鍵</li>
<li>無法跨版本查詢</li>
<li>難以追蹤實體歷史</li>
<li>解決方案：維護自然鍵</li>
</ul>
<p><strong>過度工程</strong></p>
<ul>
<li>類型 2 足夠時使用類型 6 或類型 7</li>
<li>沒有好處的複雜性</li>
<li>維護負擔</li>
<li>解決方案：從簡單開始，僅在需要時增加複雜性</li>
</ul>
</div></div>
<h3 id="實用建議">實用建議</h3>
<p>實際實作的指導方針：</p>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 實用 SCD 建議</p><div class="admonition-content"><p><strong>從類型 2 開始</strong></p>
<ul>
<li>大多數維度的預設選擇</li>
<li>廣為理解</li>
<li>功能的良好平衡</li>
<li>可以演變為其他類型</li>
</ul>
<p><strong>謹慎使用類型 1</strong></p>
<ul>
<li>僅當歷史真正不重要時</li>
<li>記錄決策</li>
<li>獲得業務簽核</li>
<li>考慮稽核表作為備份</li>
</ul>
<p><strong>最初避免類型 6 和類型 7</strong></p>
<ul>
<li>實作複雜</li>
<li>維護複雜</li>
<li>僅在類型 2 證明不足時新增</li>
<li>需要成熟的團隊</li>
</ul>
<p><strong>記錄所有內容</strong></p>
<ul>
<li>每個維度使用哪種類型</li>
<li>為什麼選擇該類型</li>
<li>查詢模式和範例</li>
<li>ETL 邏輯和邊緣案例</li>
</ul>
<p><strong>監控和調整</strong></p>
<ul>
<li>追蹤維度增長</li>
<li>監控查詢效能</li>
<li>收集使用者回饋</li>
<li>願意變更類型</li>
</ul>
</div></div>
<h2 id="結論">結論</h2>
<p>緩慢變化維度代表資料倉儲的基本挑戰之一：在歷史準確性與實際實作限制之間取得平衡。在 SCD 類型之間的選擇不是尋找「最佳」方法——而是將技術與業務需求、團隊能力和系統限制相匹配。</p>
<p>透過 SCD 類型的旅程揭示了重要的教訓：</p>
<p><strong>簡單性有代價</strong>：類型 1 的簡單性以失去歷史為代價。在設計期間看似微小的權衡，當業務需求演變時會成為重大限制。「我們 2005 年在加州的銷售額是多少？」這個問題在供應商搬遷且類型 1 覆寫其位置後變得無法回答。歷史資料一旦失去，就無法恢復。</p>
<p><strong>歷史需要結構</strong>：類型 2 的受歡迎程度源於其平衡的方法。完整的歷史保留、合理的查詢複雜性和廣為理解的實作使其成為預設選擇。為變化建立新列、維護時間欄位和使用代理鍵的模式已在無數資料倉儲中證明了自己。</p>
<p><strong>靈活性需要複雜性</strong>：類型 6 和類型 7 提供最大靈活性，但需要複雜的 ETL 流程和仔細的查詢設計。只有當更簡單的方法證明不足時，複雜性才是合理的。從類型 2 開始並隨著需求的出現演變到更複雜的類型可以防止過早優化。</p>
<p><strong>情境很重要</strong>：沒有單一的 SCD 類型適合所有情境。客戶地址可能需要類型 2 以獲得歷史準確性，而電話號碼使用類型 1 以獲得簡單性。產品類別可能需要類型 2，而產品描述使用類型 1。在單一資料倉儲內——甚至在單一維度內——混合類型的能力實現了實用的解決方案。</p>
<p><strong>權衡是不可避免的</strong>：每種 SCD 類型代表競爭關注點之間的權衡：</p>
<ul>
<li>歷史準確性 vs. 查詢簡單性</li>
<li>儲存效率 vs. 時間精確度</li>
<li>ETL 複雜性 vs. 查詢靈活性</li>
<li>當前狀態存取 vs. 歷史狀態存取</li>
</ul>
<p>理解這些權衡能夠做出明智的決策，而不是盲目遵循模式。</p>
<p><strong>實作紀律</strong>：成功的 SCD 實作需要紀律。一致的日期處理、清晰的命名慣例、全面的文件和強大的 ETL 流程將有效的實作與有問題的實作區分開來。技術模式不如其應用的嚴謹性重要。</p>
<p>SCD 類型分類系統提供了討論維度變化策略的詞彙。類型 0 到類型 7 不是嚴格的規則，而是工具包。藝術在於為每種情況選擇正確的工具，在適當時組合技術，並保持紀律以一致地實作所選方法。</p>
<p>現代資料倉儲通常使用類型 2 作為基礎，為歷史不重要的屬性新增類型 1，僅在特定需求證明額外複雜性合理時才使用類型 6 或類型 7。這種務實的方法平衡了歷史準確性、查詢效能、儲存效率和可維護性的競爭需求。</p>
<p>成功的最終衡量標準不是您選擇哪種 SCD 類型，而是您的維度模型是否能讓業務準確回答其問題。當歷史報表反映實際歷史狀態，當當前報表顯示當前狀態，並且兩者之間的區別清晰且有意時，無論採用哪種特定類型，SCD 實作都是成功的。</p>
<p>隨著資料倉儲的演變和業務需求的變化，SCD 策略可能需要調整。在類型之間遷移的靈活性、記錄決策的紀律，以及在可能時選擇簡單性而非複雜性的智慧，比任何特定的技術選擇更能決定長期成功。</p>
<!-- commentbox plugin begins -->
    <div class="commentbox"></div>
    <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
    <script>commentBox('5765834504929280-proj')</script>
    <!-- commentbox plugin ends -->
    
        </div>
        
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/zh-TW/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/" data-id="45681f93" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "緩慢變化維度：管理資料倉儲中的歷史資料",
        "image": "https://neo01.com",
        "keywords": "Data Modeling Data Warehousing Database",
        "genre": "Architecture",
        "datePublished": "2006-12-11",
        "dateCreated": "2006-12-11",
        "dateModified": "2025-11-27",
        "url": "https://neo01.com//zh-TW/2006/12/Slowly-Changing-Dimensions-Managing-Historical-Data/",
        "description": "維度資料會以不可預測的方式隨時間變化。從簡單的覆寫到複雜的混合方法，理解 SCD 類型有助於平衡歷史準確性、資料完整性和系統效能。",
        "wordCount": 2616
    }
</script-->

</article>

                        </div>
                    </section>
                    
<aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>追蹤 :</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">

        
            
                
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">連結</h3>
    <div class="widget">
        <ul><li><a href="/zh-TW/ai">AI 遊樂場</a></li><li><a href="/zh-TW/tools">工具</a></li><li><a href="/zh-TW/games">遊戲</a></li><li><a href="/zh-TW/pages/useful-information">實用資訊</a></li><li><a href="/zh-TW/pages/Hexo-Blogging-Cheatsheet">Hexo 部落格速查表</a></li></ul>
    </div>
</div>

                
            
                
                
                
            
                
                    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-TW/2025/11/Mock-Servers-Accelerating-Development-Through-Simulation/" class="thumbnail">
        <span style="background-image:url(/assets/futuristic/mesh.png)" alt="Mock 伺服器：透過模擬加速開發" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">開發</a></p>
                            <p class="item-title"><a href="/zh-TW/2025/11/Mock-Servers-Accelerating-Development-Through-Simulation/" class="title">Mock 伺服器：透過模擬加速開發</a></p>
                            <p class="item-date"><time datetime="2025-10-31T16:00:00.000Z" itemprop="datePublished">2025-11-01</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-TW/2025/10/Enabling-i18n-in-Hexo/" class="thumbnail">
        <span style="background-image:url(/assets/hexo/thumbnail.png)" alt="在 Hexo 中啟用 i18n：多語言部落格完整指南" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">開發</a></p>
                            <p class="item-title"><a href="/zh-TW/2025/10/Enabling-i18n-in-Hexo/" class="title">在 Hexo 中啟用 i18n：多語言部落格完整指南</a></p>
                            <p class="item-date"><time datetime="2025-10-29T16:00:00.000Z" itemprop="datePublished">2025-10-30</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-TW/2025/10/How-I-Use-AI-to-Learn/" class="thumbnail">
        <span style="background-image:url(/assets/learning/thumbnail_80.png)" alt="我如何使用 AI 學習：透過迭代知識建構的個人旅程" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">人工智慧</a></p>
                            <p class="item-title"><a href="/zh-TW/2025/10/How-I-Use-AI-to-Learn/" class="title">我如何使用 AI 學習：透過迭代知識建構的個人旅程</a></p>
                            <p class="item-date"><time datetime="2025-10-18T16:00:00.000Z" itemprop="datePublished">2025-10-19</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-TW/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="thumbnail">
        <span style="background-image:url(/2025/10/Tools-Games-And-Browser-Built-In-AI/thumbnail.jpeg)" alt="工具、遊戲與瀏覽器內建 AI 遊樂場" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">人工智慧</a></p>
                            <p class="item-title"><a href="/zh-TW/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="title">工具、遊戲與瀏覽器內建 AI 遊樂場</a></p>
                            <p class="item-date"><time datetime="2025-10-01T16:00:00.000Z" itemprop="datePublished">2025-10-02</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/zh-TW/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="thumbnail">
        <span style="background-image:url(/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/thumbnail.jpeg)" alt="代理式編碼的崛起：AI 驅動的軟體工程" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">人工智慧</a></p>
                            <p class="item-title"><a href="/zh-TW/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="title">代理式編碼的崛起：AI 驅動的軟體工程</a></p>
                            <p class="item-date"><time datetime="2025-09-19T16:00:00.000Z" itemprop="datePublished">2025-09-20</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

                
            
                
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">所有文章</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2025/">2025</a>
                    <span class="archive-list-count">75</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2023/">2023</a>
                    <span class="archive-list-count">16</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2022/">2022</a>
                    <span class="archive-list-count">17</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2018/">2018</a>
                    <span class="archive-list-count">3</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2017/">2017</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2016/">2016</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2014/">2014</a>
                    <span class="archive-list-count">10</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2013/">2013</a>
                    <span class="archive-list-count">3</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2010/">2010</a>
                    <span class="archive-list-count">3</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2007/">2007</a>
                    <span class="archive-list-count">1</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2006/">2006</a>
                    <span class="archive-list-count">1</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2003/">2003</a>
                    <span class="archive-list-count">1</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/zh-TW/archives/2001/">2001</a>
                    <span class="archive-list-count">1</span>
                </li>
            
            </ul>
        </div>
    </div>


                
            
        

    </div>
</aside>


                </div>
            </div>
        </div>
        
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>

            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#7d75268d</div>
                <img src="/qr/qr-06894cbab510c6ea20ad9fcab687214c.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#7d75268d">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>© 2025 Neo Alienson. 版權所有.
                  <a href="/zh-TW/terms-and-conditions">使用條款</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




        
    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

<script>CookieConsent.run({"palette":{"popup":{"background":"#000"},"button":{"background":"#f1d600"}},"guiOptions":{"consentModal":{"layout":"box","position":"bottom right","equalWeightButtons":true,"flipButtons":false},"preferencesModal":{"layout":"box","position":"right","equalWeightButtons":false,"flipButtons":false}},"categories":{"necessary":{"readOnly":true},"functionality":{},"analytics":{}},"language":{"default":"en","autoDetect":"browser","translations":{"en":{"consentModal":{"title":"Hello traveler, it's cookie time!","description":"🍪 This site uses cookies to serve you the best experience—no crumbs left behind! Want to know what cookies really are? Check out this easy-to-understand cookie explanation. And for the legal nitty-gritty, here’s our website cookie policy to keep you in the loop! 🚀\n","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","showPreferencesBtn":"Manage preferences","footer":"<a href=\"#link\">Privacy Policy</a>\n<a href=\"/terms-and-conditions/\">Terms and conditions</a>\n"},"preferencesModal":{"title":"Consent Preferences Center","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","savePreferencesBtn":"Save preferences","closeIconLabel":"Close modal","serviceCounterLabel":"Service|Services","sections":[{"title":"Cookie Usage","description":"We use cookies to make your visit smoother, faster, and tailored just for you. Cookies help us remember your preferences, improve site performance, and deliver personalized content while keeping things secure and user-friendly.\n"},{"title":"Strictly Necessary Cookies <span class=\"pm__badge\">Always Enabled</span>","description":"These cookies are essential for the website to function properly. They enable core features like security, page navigation, and access to secure areas. Without these, the site cannot operate correctly.\n","linkedCategory":"necessary"},{"title":"Functionality Cookies","description":"Functionality cookies remember your choices to provide a more personalized experience. For example, they save your language preference or login details so you don’t have to keep entering them each time.\n","linkedCategory":"functionality"},{"title":"Analytics Cookies","description":"Analytics cookies help us understand how visitors interact with our site by collecting information anonymously. This insight allows us to improve functionality, fix issues, and make the website better for you.\n","linkedCategory":"analytics"},{"title":"More information","description":"Please refer to our <a href='/pages/cookie-policy'>cookie policy</a> for full details on how we use cookies and your options to manage them.\n"}]}}}}})</script></body></html>