<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    
    <title>Retry Pattern: Building Resilient Applications | Decoding Digital Anomalies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="keywords" content="">
    
    
    <meta name="description" content="Learn how the Retry pattern helps applications handle transient failures gracefully, improving stability and user experience in distributed systems.">
<meta property="og:type" content="article">
<meta property="og:title" content="Retry Pattern: Building Resilient Applications">
<meta property="og:url" content="https://neo01.com/2019/03/Retry-Pattern/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="Learn how the Retry pattern helps applications handle transient failures gracefully, improving stability and user experience in distributed systems.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://neo01.com/assets/architecture/thumbnail.png">
<meta property="article:published_time" content="2019-03-07T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-22T09:22:58.720Z">
<meta property="article:author" content="Neo Alienson">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/assets/architecture/thumbnail.png">
    
            <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    

<!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* ÂÜÖÂÆπÂå∫Âüü margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE Á±ªÂûã */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO Á±ªÂûã */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* Ë≠¶ÂëäÁ±ª */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* ÈîôËØØÁ±ª */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP Á±ªÂûã */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS Á±ªÂûã */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION Á±ªÂûã */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE Á±ªÂûã */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE Á±ªÂûã */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*ÈªëÊöóÊ®°Âºè*/
/* Â§úÈó¥Ê®°ÂºèÂü∫Á°ÄÊ†∑Âºè */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style><script id="echarts-scripts" src="/cache/echarts.min.local.js"></script><script id="mermaid-scripts" src="/cache/mermaid.min.local.js"></script>
<script>mermaid.initialize({theme: 'default'});</script></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" title="Homepage" class="logo"></a>
                    </h1>
                        <h2 class="subtitle-wrap">
                            <p class="title">Decoding Digital Anomalies</p>
                          <p class="subtitle">Sometimes the feature is the bug in the digital rabbit hole, and vice versa</p>
                        </h2>
                    <div id="lang-selector">
                        <span class="lang-icon">üåê</span>
                        
                            <a href="/zh-TW/2019/03/Retry-Pattern/" class="lang-link">ÁπÅÈ´î‰∏≠Êñá</a>
<span class="lang-sep">|</span>                            <a href="/zh-CN/2019/03/Retry-Pattern/" class="lang-link">ÁÆÄ‰Ωì‰∏≠Êñá</a>
<span class="lang-sep">|</span>                            <a href="/ja/2019/03/Retry-Pattern/" class="lang-link">Êó•Êú¨Ë™û</a>
                    </div>
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/">AI</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/Art-Gallery/">Art Gallery</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Architecture/">Architecture</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Cybersecurity/">Cybersecurity</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Development/">Development</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Misc/">Misc</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about-me">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="Search">
        <button type="submit" title="Search" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'en',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Architecture/">Architecture</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2019/03/Retry-Pattern" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Retry Pattern: Building Resilient Applications
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2019-03-07T16:00:00.000Z" itemprop="datePublished">2019-03-08</time>
          &nbsp;<i class="fa fa-calendar"></i>
          Updated <time datetime="2025-10-22T09:22:58.720Z" itemprop="datePublished">2025-10-22</time>
        
    </div>


                

                
            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Context-and-Problem"><span class="toc-text">Context and Problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Retry-Strategies"><span class="toc-text">Retry Strategies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implementation-Considerations"><span class="toc-text">Implementation Considerations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing-and-Validation"><span class="toc-text">Testing and Validation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#When-to-Use-This-Pattern"><span class="toc-text">When to Use This Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Combining-with-Circuit-Breaker"><span class="toc-text">Combining with Circuit Breaker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Related-Patterns"><span class="toc-text">Related Patterns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-text">References</span></a></li></ol>
            <p>When your application talks to remote services‚Äîdatabases, APIs, message queues‚Äîthings can go wrong. A network hiccup, a busy server, or a momentary timeout can cause a request to fail. The Retry pattern helps your application handle these temporary glitches gracefully, turning potential failures into successes.</p>
<h2 id="Context-and-Problem">Context and Problem</h2>
<p>Distributed systems face transient failures regularly:</p>
<ul>
<li><strong>Network connectivity loss</strong>: Brief disconnections between components</li>
<li><strong>Service unavailability</strong>: Temporary service outages during deployments or restarts</li>
<li><strong>Timeouts</strong>: Services taking too long to respond under heavy load</li>
<li><strong>Throttling</strong>: Services rejecting requests when overwhelmed</li>
</ul>
<p>These failures are typically self-correcting. A database that‚Äôs momentarily overloaded might reject your connection now but accept it a second later after clearing its backlog. Without a retry mechanism, your application treats these temporary issues as permanent failures, degrading user experience unnecessarily.</p>
<h2 id="Solution">Solution</h2>
<p>Design your application to expect transient failures and handle them transparently. The Retry pattern introduces a mechanism that automatically retries failed operations, minimizing the impact on business functionality.</p>
<div class="mermaid">graph LR
    A["Application"] --&gt; B["Retry Logic"]
    B --&gt; C["Remote Service"]
    C --&gt;|"Success"| D["Return Result"]
    C --&gt;|"Transient Failure"| E["Wait &amp; Retry"]
    E --&gt; C
    C --&gt;|"Max Retries Exceeded"| F["Handle Exception"]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1e1
    style D fill:#d3f9d8</div>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>üí° Built-in Retry Mechanisms</p><div class="admonition-content"><p>Many modern client libraries and frameworks include configurable retry logic. Check your library's documentation before implementing custom retry code.</p>
</div></div>
<p>!!!</p>
<h2 id="Retry-Strategies">Retry Strategies</h2>
<p>Choose a retry strategy based on the failure type and your application‚Äôs requirements:</p>
<h3 id="1-Cancel">1. Cancel</h3>
<p><strong>When to use</strong>: The failure indicates a permanent problem or an operation that won‚Äôt succeed even with retries.</p>
<p><strong>Examples</strong>:</p>
<ul>
<li>Authentication failures</li>
<li>Invalid request parameters</li>
<li>Resource not found errors</li>
</ul>
<p><strong>Action</strong>: Cancel the operation immediately and report the exception.</p>
<h3 id="2-Retry-Immediately">2. Retry Immediately</h3>
<p><strong>When to use</strong>: The failure is unusual or rare, like a corrupted network packet.</p>
<p><strong>Examples</strong>:</p>
<ul>
<li>Random network transmission errors</li>
<li>Transient connection resets</li>
</ul>
<p><strong>Action</strong>: Retry the request immediately without delay.</p>
<h3 id="3-Retry-After-Delay">3. Retry After Delay</h3>
<p><strong>When to use</strong>: The failure is common and related to connectivity or service load.</p>
<p><strong>Examples</strong>:</p>
<ul>
<li>Connection timeouts</li>
<li>Service busy responses</li>
<li>Throttling errors</li>
</ul>
<p><strong>Action</strong>: Wait before retrying, using one of these delay strategies:</p>
<p><strong>Fixed Delay</strong>: Wait the same amount of time between each retry.</p>
<pre class="language-none"><code class="language-none">Attempt 1 ‚Üí Wait 2s ‚Üí Attempt 2 ‚Üí Wait 2s ‚Üí Attempt 3</code></pre>
<p><strong>Incremental Delay</strong>: Increase the wait time linearly.</p>
<pre class="language-none"><code class="language-none">Attempt 1 ‚Üí Wait 2s ‚Üí Attempt 2 ‚Üí Wait 4s ‚Üí Attempt 3 ‚Üí Wait 6s ‚Üí Attempt 4</code></pre>
<p><strong>Exponential Backoff</strong>: Double the wait time after each failure.</p>
<pre class="language-none"><code class="language-none">Attempt 1 ‚Üí Wait 1s ‚Üí Attempt 2 ‚Üí Wait 2s ‚Üí Attempt 3 ‚Üí Wait 4s ‚Üí Attempt 4 ‚Üí Wait 8s ‚Üí Attempt 5</code></pre>
<div id="chart_4d33a7dd4" class="echarts" style="width: 800px; height: 600px;"></div>
<script>
(function() {
    if (typeof echarts !== 'undefined') {
        var chart = echarts.init(document.getElementById('chart_4d33a7dd4'));
        var option = {
  "title": {
    "text": "Retry Delay Strategies Comparison"
  },
  "tooltip": {
    "trigger": "axis"
  },
  "legend": {
    "data": ["Fixed (2s)", "Incremental (2s)", "Exponential (1s base)"]
  },
  "xAxis": {
    "type": "category",
    "name": "Retry Attempt",
    "data": ["1st", "2nd", "3rd", "4th", "5th"]
  },
  "yAxis": {
    "type": "value",
    "name": "Delay (seconds)"
  },
  "series": [
    {
      "name": "Fixed (2s)",
      "type": "line",
      "data": [2, 2, 2, 2, 2],
      "itemStyle": {
        "color": "#1976d2"
      }
    },
    {
      "name": "Incremental (2s)",
      "type": "line",
      "data": [2, 4, 6, 8, 10],
      "itemStyle": {
        "color": "#f57c00"
      }
    },
    {
      "name": "Exponential (1s base)",
      "type": "line",
      "data": [1, 2, 4, 8, 16],
      "itemStyle": {
        "color": "#388e3c"
      }
    }
  ]
};
        chart.setOption(option);
    }
})();
</script>
<p><strong>Exponential backoff with jitter</strong>: Add randomness to exponential delays to prevent multiple clients from retrying simultaneously (the ‚Äúthundering herd‚Äù problem).</p>
<h2 id="Implementation-Considerations">Implementation Considerations</h2>
<h3 id="Logging-Strategy">Logging Strategy</h3>
<p>Log failures appropriately to avoid alert fatigue:</p>
<ul>
<li><strong>Early failures</strong>: Log as informational entries</li>
<li><strong>Successful retries</strong>: Log at debug level</li>
<li><strong>Final failure</strong>: Log as an error only after all retries are exhausted</li>
</ul>
<p>This approach gives operators visibility without flooding them with alerts for self-correcting issues.</p>
<div class="mermaid">graph TB
    A["Request Fails"] --&gt; B["Log: INFO - Attempt 1 failed"]
    B --&gt; C["Wait &amp; Retry"]
    C --&gt; D["Request Fails Again"]
    D --&gt; E["Log: INFO - Attempt 2 failed"]
    E --&gt; F["Wait &amp; Retry"]
    F --&gt; G{"Success?"}
    G --&gt;|"Yes"| H["Log: DEBUG - Succeeded on attempt 3"]
    G --&gt;|"No (Max retries)"| I["Log: ERROR - All retries exhausted"]
    
    style A fill:#ffe1e1
    style H fill:#d3f9d8
    style I fill:#ff6b6b</div>
<h3 id="Performance-Impact">Performance Impact</h3>
<p>Tune your retry policy to match business requirements:</p>
<p><strong>Interactive applications</strong> (web apps, mobile apps):</p>
<ul>
<li>Fail fast with fewer retries</li>
<li>Use short delays between attempts</li>
<li>Display user-friendly messages (‚ÄúPlease try again later‚Äù)</li>
</ul>
<p><strong>Batch applications</strong> (data processing, ETL jobs):</p>
<ul>
<li>Use more retry attempts</li>
<li>Employ exponential backoff with longer delays</li>
<li>Prioritize completion over speed</li>
</ul>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>‚ö†Ô∏è Avoid Aggressive Retries</p><div class="admonition-content"><p>An aggressive retry policy (many retries with minimal delays) can worsen the situation by:</p>
<ul>
<li>Further degrading an already overloaded service</li>
<li>Reducing your application's responsiveness</li>
<li>Creating cascading failures across the system</li>
</ul>
<p>Consider implementing the Circuit Breaker pattern alongside retries to prevent overwhelming failing services.</p>
</div></div>
<p>!!!</p>
<h3 id="Idempotency">Idempotency</h3>
<p>Ensure operations are idempotent (safe to execute multiple times) before applying retries. Non-idempotent operations can cause unintended side effects:</p>
<p><strong>Problem scenario</strong>:</p>
<ol>
<li>Service receives request and processes it successfully</li>
<li>Service fails to send response due to network issue</li>
<li>Client retries, causing duplicate processing</li>
</ol>
<p><strong>Solutions</strong>:</p>
<ul>
<li>Design operations to be naturally idempotent</li>
<li>Use unique request identifiers to detect duplicates</li>
<li>Implement server-side deduplication logic</li>
</ul>
<h3 id="Exception-Types">Exception Types</h3>
<p>Different exceptions require different retry strategies:</p>
<table>
<thead>
<tr>
<th>Exception Type</th>
<th>Retry Strategy</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Transient network errors</td>
<td>Retry with delay</td>
<td>Connection timeout, DNS resolution failure</td>
</tr>
<tr>
<td>Service busy/throttling</td>
<td>Retry with exponential backoff</td>
<td>HTTP 429, HTTP 503</td>
</tr>
<tr>
<td>Authentication failures</td>
<td>Cancel immediately</td>
<td>Invalid credentials, expired tokens</td>
</tr>
<tr>
<td>Invalid requests</td>
<td>Cancel immediately</td>
<td>HTTP 400, malformed data</td>
</tr>
<tr>
<td>Resource not found</td>
<td>Cancel immediately</td>
<td>HTTP 404</td>
</tr>
</tbody>
</table>
<h3 id="Transaction-Consistency">Transaction Consistency</h3>
<p>When retrying operations within transactions:</p>
<ul>
<li>Fine-tune retry policies to maximize success probability</li>
<li>Minimize the need to roll back transaction steps</li>
<li>Consider compensating transactions for distributed scenarios</li>
<li>Ensure retry logic doesn‚Äôt violate transaction isolation levels</li>
</ul>
<h2 id="Testing-and-Validation">Testing and Validation</h2>
<div class="admonition anote"><p class="admonition-title"><span class="mdi mdi-note-outline admonition-icon"></span>üß™ Testing Checklist</p><div class="admonition-content"><ul>
<li>Test against various failure conditions (timeouts, connection errors, service unavailability)</li>
<li>Verify performance impact under normal and failure scenarios</li>
<li>Confirm no excessive load on downstream services</li>
<li>Check for race conditions with concurrent retries</li>
<li>Validate logging output at different failure stages</li>
<li>Test transaction rollback scenarios</li>
</ul>
</div></div>
<p>!!!</p>
<h3 id="Nested-Retry-Policies">Nested Retry Policies</h3>
<p>Avoid layering multiple retry policies:</p>
<p><strong>Problem</strong>: Task A (with retry policy) calls Task B (also with retry policy). This creates exponential retry attempts and unpredictable delays.</p>
<p><strong>Solution</strong>: Configure lower-level tasks to fail fast and report failures. Let higher-level tasks handle retries based on their own policies.</p>
<div class="mermaid">graph TB
    A["Task A<br>(Retry Policy)"] --&gt; B["Task B<br>(No Retry)"]
    B --&gt;|"Fails Fast"| A
    A --&gt;|"Retries Based on Policy"| B
    
    style A fill:#e1f5ff
    style B fill:#fff4e1</div>
<h2 id="When-to-Use-This-Pattern">When to Use This Pattern</h2>
<p><strong>Use the Retry pattern when</strong>:</p>
<ul>
<li>Your application interacts with remote services or resources</li>
<li>Failures are expected to be transient and short-lived</li>
<li>Repeating a failed request has a good chance of succeeding</li>
<li>The operation is idempotent or can be made idempotent</li>
</ul>
<p><strong>Don‚Äôt use the Retry pattern when</strong>:</p>
<ul>
<li>Failures are likely to be long-lasting (use Circuit Breaker instead)</li>
<li>Handling non-transient failures (business logic errors, validation failures)</li>
<li>Addressing scalability issues (scale the service instead)</li>
<li>The operation has significant side effects and isn‚Äôt idempotent</li>
</ul>
<h2 id="Combining-with-Circuit-Breaker">Combining with Circuit Breaker</h2>
<p>The Retry and Circuit Breaker patterns complement each other:</p>
<ul>
<li><strong>Retry</strong>: Handles transient failures by attempting the operation again</li>
<li><strong>Circuit Breaker</strong>: Prevents retries when a service is known to be down</li>
</ul>
<div class="mermaid">stateDiagram-v2
    [*] --&gt; Closed: Normal Operation
    Closed --&gt; Open: Failure Threshold Exceeded
    Open --&gt; HalfOpen: Timeout Elapsed
    HalfOpen --&gt; Closed: Success
    HalfOpen --&gt; Open: Failure
    
    note right of Closed
        Requests pass through
        Retries on failure
    end note
    
    note right of Open
        Requests fail immediately
        No retries attempted
    end note
    
    note right of HalfOpen
        Limited requests allowed
        Testing service recovery
    end note</div>
<p>Together, these patterns provide comprehensive fault handling:</p>
<ol>
<li>Retry handles temporary glitches</li>
<li>Circuit Breaker prevents overwhelming failing services</li>
<li>System remains responsive even during prolonged outages</li>
</ol>
<h2 id="Related-Patterns">Related Patterns</h2>
<p><strong>Circuit Breaker</strong>: Prevents an application from repeatedly trying to execute an operation that‚Äôs likely to fail, allowing it to continue without waiting for the fault to be fixed.</p>
<p><strong>Throttling</strong>: Controls the consumption of resources by an application instance, service, or tenant.</p>
<p><strong>Rate Limiting</strong>: Manages the rate at which requests are sent to a service to avoid overwhelming it.</p>
<h2 id="References">References</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/azure/architecture/patterns/retry">Retry Pattern - Microsoft Learn</a></li>
</ul>

        </div>
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/2019/03/Retry-Pattern/" data-id="7b9fb507" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "Retry Pattern: Building Resilient Applications",
        "image": "https://neo01.com/assets/architecture/thumbnail.png",
        "keywords": "",
        "genre": "Architecture",
        "datePublished": "2019-03-08",
        "dateCreated": "2019-03-08",
        "dateModified": "2025-10-22",
        "url": "https://neo01.com/2019/03/Retry-Pattern/",
        "description": "Learn how the Retry pattern helps applications handle transient failures gracefully, improving stability and user experience in distributed systems.",
        "wordCount": 1601
    }
</script-->

</article>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">
        
            
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
        <ul><li><a href="/ai">AI Playground</a></li><li><a href="/tools">Tools</a></li><li><a href="/games">Games</a></li><li><a href="/pages/useful-information">Useful Information</a></li><li><a href="/pages/Hexo-Blogging-Cheatsheet">Hexo Blogging Cheatsheet</a></li></ul>
    </div>
</div>

            
                
            
                    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/How-I-Use-AI-to-Learn/" class="thumbnail">
        <span style="background-image:url(/assets/learning/thumbnail_80.png)" alt="How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/How-I-Use-AI-to-Learn/" class="title">How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building</a></p>
                            <p class="item-date"><time datetime="2025-10-18T16:00:00.000Z" itemprop="datePublished">2025-10-19</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="thumbnail">
        <span style="background-image:url(/2025/10/Tools-Games-And-Browser-Built-In-AI/thumbnail.jpeg)" alt="Tools, Games and Browser Built-in AI Playground" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="title">Tools, Games and Browser Built-in AI Playground</a></p>
                            <p class="item-date"><time datetime="2025-10-01T16:00:00.000Z" itemprop="datePublished">2025-10-02</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="thumbnail">
        <span style="background-image:url(/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/thumbnail.jpeg)" alt="The Rise of Agentic Coding: AI-Powered Software Engineering" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="title">The Rise of Agentic Coding: AI-Powered Software Engineering</a></p>
                            <p class="item-date"><time datetime="2025-09-19T16:00:00.000Z" itemprop="datePublished">2025-09-20</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="title">Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports</a></p>
                            <p class="item-date"><time datetime="2025-08-30T16:00:00.000Z" itemprop="datePublished">2025-08-31</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports: The Invisible Workers of Network Communication" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="title">Understanding Ephemeral Ports: The Invisible Workers of Network Communication</a></p>
                            <p class="item-date"><time datetime="2025-08-29T16:00:00.000Z" itemprop="datePublished">2025-08-30</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

            
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2025/">2025</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2023/">2023</a>
                    <span class="archive-list-count">15</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2022/">2022</a>
                    <span class="archive-list-count">8</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <!-- disable caching cause each page has different footer from qrcode -->
        <!-- common/footer, null, {cache: !config.relative_link})  -->
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#4bd199ca</div>
                <img src="/qr/qr-165c765273bf48b986a0982ed128b96a.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#4bd199ca">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>¬© 2025 Neo Alienson. All rights reserved.
                  <a href="/terms-and-conditions">Terms and Conditions</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

</body></html>