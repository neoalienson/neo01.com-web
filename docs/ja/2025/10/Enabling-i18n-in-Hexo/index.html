<!DOCTYPE html><html lang="ja"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    



    
    <title>Hexoで多言語対応を実現：完全ガイド | Decoding Digital Anomalies</title>
    
    <meta name="keywords" content="Hexo,i18n,Static Site">
    
    
    <meta name="description" content="カスタムプラグイン、URL戦略、フラグメントキャッシュによるパフォーマンス最適化で、Hexoの多言語コンテンツ管理をマスターしましょう。">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexoで多言語対応を実現：完全ガイド">
<meta property="og:url" content="https://neo01.com/ja/2025/10/Enabling-i18n-in-Hexo/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="カスタムプラグイン、URL戦略、フラグメントキャッシュによるパフォーマンス最適化で、Hexoの多言語コンテンツ管理をマスターしましょう。">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://neo01.com/assets/hexo/thumbnail.png">
<meta property="article:published_time" content="2025-10-29T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-30T07:02:36.856Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Static Site">
<meta property="article:tag" content="i18n">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/assets/hexo/thumbnail.png">
    
    <!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.0">  <link rel="canonical" href="https://neo01.com/ja/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="en" data-canonical="true" href="https://neo01.com/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="zh-TW" href="https://neo01.com/zh-TW/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="zh-CN" href="https://neo01.com/zh-CN/2025/10/Enabling-i18n-in-Hexo/">
  <link rel="alternate" hreflang="ja" href="https://neo01.com/ja/2025/10/Enabling-i18n-in-Hexo/">
<style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* 内容区域 margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE 类型 */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO 类型 */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* 警告类 */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* 错误类 */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP 类型 */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS 类型 */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION 类型 */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE 类型 */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE 类型 */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*黑暗模式*/
/* 夜间模式基础样式 */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style></head>

<body>
    <div id="wrap">
        
        
<header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <div class="logo"></div>
                    </h1>

                        <h2 class="subtitle-wrap">
                            <p class="title">デジタル異常の解読</p>
                          <p class="subtitle">デジタルの迷宮では、時に機能がバグであり、その逆もまた然り</p>
                        </h2>




                    <div id="lang-selector">
                        <span class="lang-icon">🌐</span>
                        
                            <a href="#" class="lang-link" data-lang="en">English</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-TW">繁體中文</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-CN">简体中文</a>
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            var currentLang = 'ja';
                            var currentPath = window.location.pathname;
                            var basePath;
                            
                            if (currentLang === 'en') {
                                basePath = currentPath;
                            } else {
                                basePath = currentPath.replace(new RegExp('^/' + currentLang + '/'), '/');
                            }
                            
                            document.querySelectorAll('.lang-link').forEach(function(link) {
                                var targetLang = link.getAttribute('data-lang');
                                var targetPath;
                                if (targetLang === 'en') {
                                    targetPath = basePath;
                                } else {
                                    targetPath = '/' + targetLang + basePath;
                                }
                                link.href = targetPath;
                            });
                        });
                        </script>
                    </div>


                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/ja/">ホーム</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/AI/">AI</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/AI/Art-Gallery/">アートギャラリー</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/Architecture/">アーキテクチャ</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/Cybersecurity/">サイバーセキュリティ</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/Development/">開発</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/ja/categories/Misc/">その他</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/ja/about-me">このブログについて</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="検索">
        <button type="submit" title="検索" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="入力してください">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '記事',
            PAGES: 'ページ',
            CATEGORIES: 'カテゴリー',
            TAGS: 'タグ',
            UNTITLED: '（名称未設定）',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'ja',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Development/">Development</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2025/10/Enabling-i18n-in-Hexo-ja" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Hexoで多言語対応を実現：完全ガイド
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2025-10-29T16:00:00.000Z" itemprop="datePublished">2025-10-30</time>,
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/ja/tags/Hexo/">Hexo</a> <a class="tag-link" href="/ja/tags/i18n/">i18n</a> <a class="tag-link" href="/ja/tags/Static-Site/">Static Site</a>
    </div>

            </div>
        
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo%E3%81%A8%E3%81%AF%EF%BC%9F"><span class="toc-text">Hexoとは？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo-i18n%E3%81%AE%E8%AA%B2%E9%A1%8C"><span class="toc-text">Hexo i18nの課題</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URL%E6%A7%8B%E9%80%A0%E6%88%A6%E7%95%A5"><span class="toc-text">URL構造戦略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo%E3%82%B3%E3%82%A2%E3%83%91%E3%83%83%E3%83%81"><span class="toc-text">Hexoコアパッチ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%85%E9%A0%88%E3%81%AEi18n%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3"><span class="toc-text">必須のi18nプラグイン</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%95%E3%83%A9%E3%82%B0%E3%83%A1%E3%83%B3%E3%83%88%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%AB%E3%82%88%E3%82%8B%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%9C%80%E9%81%A9%E5%8C%96"><span class="toc-text">フラグメントキャッシュによるパフォーマンス最適化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E7%AE%A1%E7%90%86%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC"><span class="toc-text">コンテンツ管理ワークフロー</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E7%AE%A1%E7%90%86"><span class="toc-text">リソース管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SEO%E3%81%AE%E8%80%83%E6%85%AE%E4%BA%8B%E9%A0%85"><span class="toc-text">SEOの考慮事項</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%E3%81%AE%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%92%E3%83%B3%E3%83%88"><span class="toc-text">追加のパフォーマンスヒント</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0"><span class="toc-text">トラブルシューティング</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%BE%E3%81%A8%E3%82%81"><span class="toc-text">まとめ</span></a></li></ol>
            <p>多言語ブログの構築は、単なるコンテンツの翻訳ではありません。パフォーマンスとSEOを維持しながら、言語を超えたシームレスな体験を創造することです。本ガイドでは、このウェブサイトで使用されているURL構造からキャッシュ戦略まで、完全なi18n実装を解説します。</p>
<h2 id="Hexoとは？">Hexoとは？</h2>
<p><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>は、Node.js上に構築された高速でシンプル、かつ強力な静的サイトジェネレーターです。Markdownファイルを完全なウェブサイトに変換し、以下の特徴を備えています：</p>
<ul>
<li><strong>超高速生成</strong>：数秒で数百のファイルを処理</li>
<li><strong>Markdownサポート</strong>：フォーマット付きのプレーンテキストでコンテンツを記述</li>
<li><strong>拡張可能なプラグイン</strong>：追加機能のための豊富なエコシステム</li>
<li><strong>テーマシステム</strong>：カスタマイズ可能なテンプレートとレイアウト</li>
<li><strong>Git対応</strong>：サイト全体をバージョン管理</li>
</ul>
<p><strong>最適な用途</strong>：</p>
<ul>
<li>コード例を含む技術ブログ</li>
<li>ドキュメントサイト</li>
<li>個人ポートフォリオ</li>
<li>多言語コンテンツ（適切な設定が必要）</li>
</ul>
<p><strong>インストール</strong>：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli
hexo init my-blog
<span class="token builtin class-name">cd</span> my-blog
<span class="token function">npm</span> <span class="token function">install</span>
hexo server</code></pre>
<div class="admonition info"><p class="admonition-title"><span class="mdi mdi-information-outline admonition-icon"></span>📌 バージョン情報</p><div class="admonition-content"><p>本ガイドは <strong>Hexo 8.1.0以上</strong> を基準としています。パーマリンクの動作とフィルターフックは、以前のバージョンでは異なる場合があります。</p>
</div></div>
<h2 id="Hexo-i18nの課題">Hexo i18nの課題</h2>
<h3 id="Hexoが提供する機能">Hexoが提供する機能</h3>
<p>Hexoには<strong>テーマ翻訳のみ</strong>の基本的なi18nサポートがあります：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">language</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> en
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
  <span class="token punctuation">-</span> ja

<span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang  <span class="token comment"># URLパスから言語を検出</span></code></pre>
<p><strong>言語ファイル</strong>（テーマ翻訳）：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># themes/your-theme/languages/en.yml</span>
<span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">home</span><span class="token punctuation">:</span> Home
  <span class="token key atrule">archives</span><span class="token punctuation">:</span> Archives
  
<span class="token comment"># themes/your-theme/languages/zh-TW.yml</span>
<span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">home</span><span class="token punctuation">:</span> 首頁
  <span class="token key atrule">archives</span><span class="token punctuation">:</span> 歸檔</code></pre>
<p><strong>テンプレート</strong>でヘルパーを使用：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">'menu.home'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>  <span class="token comment"><!-- 出力：Home または 首頁 --></span></code></pre>
<p><strong>パス検出</strong>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang  <span class="token comment"># 最初のURLセグメントから言語を検出</span></code></pre>
<p>例：</p>
<ul>
<li><code>/index.html</code> → <code>en</code>（デフォルト）</li>
<li><code>/zh-tw/index.html</code> → <code>zh-tw</code></li>
<li><code>/archives/index.html</code> → <code>en</code>（言語として検出されない）</li>
</ul>
<h3 id="問題点">問題点</h3>
<p>Hexoのネイティブi18nは<strong>UIテキストのみを翻訳</strong>し、コンテンツは翻訳しません：</p>
<p><strong>❌ コンテンツフィルタリングなし</strong>：</p>
<ul>
<li>インデックスページは言語に関係なくすべての投稿を表示</li>
<li>アーカイブは英語と中国語の投稿を混在表示</li>
<li>カテゴリー/タグは言語でフィルタリングしない</li>
</ul>
<p><strong>❌ 言語固有のジェネレーターなし</strong>：</p>
<ul>
<li><code>/archives/</code> はすべての言語の投稿を表示</li>
<li><code>/categories/Development/</code> はすべての言語バージョンを混在表示</li>
<li><code>/zh-TW/archives/</code> を個別に生成する方法がない</li>
</ul>
<p><strong>❌ SEOサポートなし</strong>：</p>
<ul>
<li>翻訳版のcanonicalタグなし</li>
<li>言語固有のサイトマップなし</li>
<li>検索エンジンが重複コンテンツと認識</li>
</ul>
<p><strong>❌ 投稿には回避策が必要</strong>（Hexo 8.1.0でテスト済み）：</p>
<ul>
<li>Hexoのパーマリンクシステムは、フィルターが介入する前にデフォルトパターン（<code>:title/</code>）を適用</li>
<li><code>post_permalink</code>フィルターは、front matterから<code>__permalink</code>が既に設定されている場合のみ実行</li>
<li>プロセッサーはファイル読み込み時に<code>permalink</code> → <code>__permalink</code>を変換するため、カスタムロジックには早すぎる</li>
<li>仮想<code>path</code>プロパティは生成開始後に変更不可</li>
<li><strong>解決策</strong>：Hexoの<code>post_permalink.js</code>フィルターにパッチを適用し、言語プレフィックスを自動注入し、言語サフィックスを削除</li>
</ul>
<h3 id="必要なもの">必要なもの</h3>
<p>真の多言語ブログを作成するには：</p>
<ul>
<li>すべてのコンテンツタイプの言語固有URL</li>
<li>言語ごとの個別インデックス/アーカイブ/カテゴリー/タグページ</li>
<li>すべての言語を含む適切なサイトマップ生成</li>
<li>重複コンテンツペナルティを防ぐcanonicalタグ</li>
<li>複数言語を処理するパフォーマンス最適化（このサイトは4言語をサポート：en、zh-TW、zh-CN、ja）</li>
</ul>
<h2 id="URL構造戦略">URL構造戦略</h2>
<h3 id="投稿とページ：異なるアプローチ">投稿とページ：異なるアプローチ</h3>
<p><strong>ブログ投稿</strong>は自動言語処理付き：</p>
<ul>
<li>任意の場所に配置可能：<code>source/_posts/</code>、<code>source/zh-TW/_posts/</code>など</li>
<li>ファイル名サフィックス規則を使用：<code>Article-Title-ja.md</code>、<code>Article-Title-zh-TW.md</code></li>
<li>言語はfront matterの<code>lang</code>フィールドで識別</li>
<li><strong>パッチが自動生成</strong>：サフィックス重複なしで言語プレフィックス付きURL</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"記事タイトル"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> ja
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token punctuation">---</span></code></pre>
<p><strong>結果</strong>：<code>Article-Title-ja.md</code> → <code>/ja/2025/10/Article-Title/</code>（サフィックス削除）</p>
<p><strong>ページ</strong>はディレクトリベースの構成を使用：</p>
<ul>
<li>英語：<code>source/tools/index.md</code> → <code>/tools/</code></li>
<li>中国語：<code>source/zh-TW/tools/index.md</code> → <code>/zh-TW/tools/</code></li>
<li>日本語：<code>source/ja/tools/index.md</code> → <code>/ja/tools/</code></li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> ツール
<span class="token key atrule">layout</span><span class="token punctuation">:</span> tools
<span class="token key atrule">lang</span><span class="token punctuation">:</span> ja
<span class="token punctuation">---</span></code></pre>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 投稿にはHexoコアパッチが必要</p><div class="admonition-content"><p><strong>投稿にパッチが必要な理由</strong>：投稿は言語検出前にパターンを適用する<code>post_permalink</code>フィルターを使用します。ページはディレクトリ構造を直接尊重する別のプロセッサーを使用します。</p>
<p><strong>問題</strong>：Hexoのパーマリンクシステムは投稿プロセッサーに深く統合されています：</p>
<ol>
<li>プロセッサーがファイルを読み込み、<code>permalink</code> → <code>__permalink</code>に変換</li>
<li>デフォルトパーマリンクパターン（<code>:title/</code>）が即座に適用</li>
<li><code>post_permalink</code>フィルターは<code>__permalink</code>が存在する場合のみ実行</li>
<li>仮想<code>path</code>プロパティはフィルターから計算され、変更不可</li>
</ol>
<p><strong>解決策</strong>：<code>node_modules/hexo/dist/plugins/filter/post_permalink.js</code>にパッチを適用：</p>
<ul>
<li>投稿データから<code>lang</code>フィールドを抽出</li>
<li>slugから<code>-{lang}</code>サフィックスを削除（例：<code>Article-Title-ja</code> → <code>Article-Title</code>）</li>
<li>デフォルト以外の言語に<code>/{lang}/</code>プレフィックスを自動注入</li>
<li>手動および自動生成されたパーマリンクの両方を処理</li>
</ul>
<p><strong>ページにパッチが不要な理由</strong>：ページはHexoネイティブの<code>i18n_dir: :lang</code>が自動処理するディレクトリベースの構成を使用します。パッチは投稿処理のみに影響します。</p>
<p><strong>参照</strong>：実装については下記の<a href="#hexo%E3%82%B3%E3%82%A2%E3%83%91%E3%83%83%E3%83%81">Hexoコアパッチ</a>セクションをご覧ください。</p>
</div></div>
<h3 id="設定">設定</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">language</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> en
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
  <span class="token punctuation">-</span> ja

<span class="token key atrule">i18n_dir</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>lang
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>title/</code></pre>
<h2 id="Hexoコアパッチ">Hexoコアパッチ</h2>
<h3 id="自動パーマリンクソリューション">自動パーマリンクソリューション</h3>
<p>手動パーマリンク設定を排除するため、Hexoのコアパーマリンクフィルターにパッチを適用します：</p>
<p><strong>ファイル</strong>：<code>node_modules/hexo/dist/plugins/filter/post_permalink.js</code></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">postPermalinkFilter</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 言語を抽出してslugをクリーンアップ</span>
  <span class="token keyword">const</span> lang <span class="token operator">=</span> data<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> defaultLang <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
  
  <span class="token comment">// slugから言語サフィックスを削除（存在する場合）</span>
  <span class="token keyword">let</span> cleanSlug <span class="token operator">=</span> data<span class="token punctuation">.</span>slug<span class="token punctuation">;</span>
  <span class="token keyword">const</span> langPattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>langPattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>cleanSlug<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cleanSlug <span class="token operator">=</span> cleanSlug<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>langPattern<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> meta <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> cleanSlug<span class="token punctuation">,</span>  <span class="token comment">// クリーンアップされたslugを使用</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> cleanSlug<span class="token punctuation">,</span>   <span class="token comment">// クリーンアップされたslugを使用</span>
    <span class="token literal-property property">post_title</span><span class="token operator">:</span> data<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    <span class="token literal-property property">year</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">month</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'MM'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">day</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'DD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">i_month</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">i_day</span><span class="token operator">:</span> data<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 手動パーマリンクを処理</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>__permalink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> permalink <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSync</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>__permalink<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// デフォルト以外の言語に言語プレフィックスを注入</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">!==</span> defaultLang <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      permalink <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> permalink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 自動生成されたパーマリンクを処理</span>
  <span class="token keyword">let</span> permalink <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>permalink<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// デフォルト以外の言語に言語プレフィックスを注入</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">!==</span> defaultLang<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    permalink <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>permalink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> permalink<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="パッチが理想的でない理由">パッチが理想的でない理由</h3>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ パッチの欠点</p><div class="admonition-content"><p><strong>保守負担</strong>：</p>
<ul>
<li>Hexoのアップグレード後に毎回破損</li>
<li><code>npm install</code>後に再適用が必要</li>
<li>将来のHexoの変更と競合する可能性</li>
<li>チームメンバーがパッチ適用を覚えておく必要がある</li>
</ul>
<p><strong>脆弱性</strong>：</p>
<ul>
<li>Hexoの内部構造が変更される可能性</li>
<li>パッチファイル形式が脆弱</li>
<li>バージョン間の互換性の保証なし</li>
<li>コアを修正するとデバッグが困難に</li>
</ul>
<p><strong>より良いアプローチ</strong>：Hexoのメンテナに機能を提案</p>
</div></div>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 オープンソースへの貢献</p><div class="admonition-content"><p><strong>パッチの代わりに検討すべきこと</strong>：</p>
<ol>
<li><strong>GitHub issueを開く</strong>：i18n permalinkのユースケースを説明</li>
<li><strong>解決策を提案</strong>：パッチを開発の起点として共有</li>
<li><strong>プルリクエストを提出</strong>：機能を上流に貢献</li>
<li><strong>メリット</strong>：
<ul>
<li>Hexoチームが機能を保守</li>
<li>誰もがすぐに使える</li>
<li>パッチ保守の負担がない</li>
<li>コミュニティのテストと改善</li>
</ul>
</li>
</ol>
<p><strong>Hexoリポジトリ</strong>：<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo">hexojs/hexo</a></p>
<p><strong>それまでは</strong>：パッチを一時的な回避策として使用し、公式サポートが存在したら移行する計画を立てましょう。</p>
</div></div>
<h3 id="パッチの適用">パッチの適用</h3>
<p><strong>オプション1：手動パッチ</strong>（<code>npm install</code>後に再適用が必要）：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> hexo-blog
patch <span class="token parameter variable">-p0</span> <span class="token operator">&lt;</span> <span class="token punctuation">..</span>/patches/hexo-i18n-post-permalink.patch</code></pre>
<p><strong>オプション2：インストール後スクリプト</strong>（自動）：</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"patch -p0 &lt; ../patches/hexo-i18n-post-permalink.patch || true"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>パッチファイル</strong>：</p>
<ul>
<li><code>patches/hexo-i18n-post-permalink.patch</code> - ブログ投稿用</li>
<li><code>patches/hexo-i18n-page-permalink.patch</code> - ページ用（オプション）</li>
</ul>
<h3 id="動作方法">動作方法</h3>
<p><strong>パッチ適用前</strong>：</p>
<ul>
<li>ファイル名：<code>Tools-Games-ja.md</code></li>
<li>生成されたURL：<code>/ja/2025/10/Tools-Games-ja/</code> ❌（サフィックス重複）</li>
</ul>
<p><strong>パッチ適用後</strong>：</p>
<ul>
<li>ファイル名：<code>Tools-Games-ja.md</code></li>
<li>生成されたURL：<code>/ja/2025/10/Tools-Games/</code> ✅（サフィックス削除）</li>
</ul>
<p><strong>主な機能</strong>：</p>
<ol>
<li><strong>言語検出</strong>：front matterから<code>lang</code>フィールドを読み取り</li>
<li><strong>サフィックス削除</strong>：slugから<code>-ja</code>、<code>-zh-TW</code>、<code>-zh-CN</code>を削除</li>
<li><strong>プレフィックス注入</strong>：デフォルト以外の言語に<code>/{lang}/</code>を追加</li>
<li><strong>手動オーバーライド</strong>：front matterの明示的な<code>permalink</code>を尊重</li>
</ol>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 ファイル名規則</p><div class="admonition-content"><p>整理のためにファイル名に言語サフィックスを使用：</p>
<ul>
<li><code>Article-Title.md</code>（英語）</li>
<li><code>Article-Title-zh-TW.md</code>（繁体字中国語）</li>
<li><code>Article-Title-zh-CN.md</code>（簡体字中国語）</li>
<li><code>Article-Title-ja.md</code>（日本語）</li>
</ul>
<p>パッチはURLからサフィックスを自動的に削除します。</p>
</div></div>
<h3 id="ページにもパッチを適用できますか？">ページにもパッチを適用できますか？</h3>
<p>技術的には可能ですが、不要です。ページのディレクトリベースアプローチ：</p>
<ul>
<li><strong>すぐに使える</strong>：Hexoネイティブの<code>i18n_dir: :lang</code>が処理</li>
<li><strong>より明確な構成</strong>：ファイルシステムで言語構造が可視化</li>
<li><strong>保守が容易</strong>：ファイル名サフィックス規則が不要</li>
<li><strong>パッチ保守の負担なし</strong>：<code>npm install</code>後も存続</li>
</ul>
<p><strong>ベストプラクティス</strong>：投稿にはパッチを使用（日付付き動的コンテンツ）、ページにはディレクトリ構造を使用（About、Toolsなどの静的コンテンツ）。</p>
<div class="admonition info"><p class="admonition-title"><span class="mdi mdi-information-outline admonition-icon"></span>📋 このウェブサイトのアプローチ</p><div class="admonition-content"><p>このウェブサイトは<strong>投稿とページの両方にパッチアプローチを使用</strong>（ページのディレクトリベースアプローチではない）：</p>
<p><strong>すべてを集中化する理由</strong></p>
<ul>
<li><strong>一貫性</strong>：すべてのコンテンツタイプで同じファイル名サフィックス規則</li>
<li><strong>よりシンプルな構造</strong>：すべてのコンテンツが標準的な場所（<code>source/_posts/</code>、<code>source/tools/</code>）</li>
<li><strong>リファクタリングが容易</strong>：ファイル移動が言語検出を破壊しない</li>
<li><strong>重複の削減</strong>：言語ごとにディレクトリ構造を再作成する必要なし</li>
<li><strong>統一されたワークフロー</strong>：投稿とページで同じ翻訳プロセス</li>
</ul>
<p><strong>トレードオフ</strong>：ページはディレクトリベースアプローチ（すぐに使える）を使用できますが、すべてにパッチを使用することで一貫性を維持し、メンタルモデルを簡素化します。</p>
<p><strong>参照</strong>：実装については下記の<a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%B8%E3%81%AE%E3%83%91%E3%83%83%E3%83%81%E6%8B%A1%E5%BC%B5">ページへのパッチ拡張</a>セクションをご覧ください。</p>
</div></div>
<h3 id="ページへのパッチ拡張">ページへのパッチ拡張</h3>
<p>ページに同じアプローチを適用するには、Hexoのページプロセッサーにパッチを適用します：</p>
<p><strong>ファイル</strong>：<code>node_modules/hexo/dist/plugins/processor/asset.js</code></p>
<p>60行目の後に追加（<code>data.path</code>設定後）：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// i18n: ページに言語プレフィックスを自動注入し、言語サフィックスを削除</span>
<span class="token keyword">const</span> lang <span class="token operator">=</span> data<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> defaultLang <span class="token operator">=</span> config<span class="token punctuation">.</span>language<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> languages <span class="token operator">=</span> config<span class="token punctuation">.</span>language <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token string">'en'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">!==</span> defaultLang <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>data<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ファイル名を抽出して言語サフィックスをチェック</span>
    <span class="token keyword">const</span> pathParts <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> filename <span class="token operator">=</span> pathParts<span class="token punctuation">[</span>pathParts<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(md|markdown|html)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> langPattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>languages<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// ファイル名に言語サフィックスが存在する場合、パスから削除</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>langPattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> pathWithoutExt <span class="token operator">=</span> data<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> cleanPath <span class="token operator">=</span> pathWithoutExt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>langPattern<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        data<span class="token punctuation">.</span>path <span class="token operator">=</span> cleanPath <span class="token operator">+</span> <span class="token string">'.html'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    data<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>パッチの適用</strong>：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> hexo-blog
patch <span class="token parameter variable">-p0</span> <span class="token operator">&lt;</span> <span class="token punctuation">..</span>/patches/hexo-i18n-page-permalink.patch</code></pre>
<p><strong>動作方法</strong>：</p>
<ul>
<li>Hexoのページプロセッサーを直接パッチ</li>
<li>ページファイル処理中に実行</li>
<li>ファイル名から言語サフィックスを削除（例：<code>index-zh-CN.md</code> → <code>index.html</code>）</li>
<li>言語プレフィックスを注入（例：<code>terms-and-conditions/index.html</code> → <code>zh-CN/terms-and-conditions/index.html</code>）</li>
</ul>
<p><strong>例</strong>：</p>
<ul>
<li>ファイル：<code>source/terms-and-conditions/index-zh-CN.md</code>（<code>lang: zh-CN</code>付き）</li>
<li>生成されたURL：<code>/zh-CN/terms-and-conditions/</code>（✅ サフィックス削除、プレフィックス追加）</li>
<li>ファイル：<code>source/tools-ja.md</code>（<code>lang: ja</code>付き）</li>
<li>生成されたURL：<code>/ja/tools/</code>（✅ サフィックス削除、プレフィックス追加）</li>
</ul>
<h2 id="必須のi18nプラグイン">必須のi18nプラグイン</h2>
<p>標準のHexoジェネレーターは言語固有のコンテンツをサポートしていません。カスタムプラグインがそのギャップを埋めます：</p>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ まず公式プラグインを削除</p><div class="admonition-content"><p>競合を避けるため、Hexoのデフォルトジェネレーターをアンインストール：
</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> uninstall hexo-generator-index hexo-generator-archive hexo-generator-category hexo-generator-tag hexo-generator-sitemap</code></pre>
i18nバージョンがこれらを完全に置き換えます。<p></p>
</div></div>
<h3 id="1-インデックスページ">1. インデックスページ</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-index">hexo-generator-i18n-index</a></p>
<p>言語ごとに個別のインデックスページを作成し、固定投稿をサポート：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-i18n-index</code></pre>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">index_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre>
<p><strong>ソートロジック</strong>：</p>
<ol>
<li>通常の投稿が先、リダイレクト投稿（<code>original_lang_url</code>）が後</li>
<li>固定投稿が最上部</li>
<li>次に日付順（新しい順）</li>
</ol>
<p><strong>結果</strong>：</p>
<ul>
<li><code>/</code> - 英語の投稿のみ</li>
<li><code>/zh-TW/</code> - 繁体字中国語の投稿のみ</li>
<li><code>/zh-CN/</code> - 簡体字中国語の投稿のみ</li>
<li><code>/ja/</code> - 日本語の投稿のみ</li>
</ul>
<h3 id="2-サイトマップ生成">2. サイトマップ生成</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-sitemap">hexo-generator-i18n-sitemap</a></p>
<p>すべての言語バージョンを含む統一サイトマップを生成：</p>
<ul>
<li><code>/sitemap.xml</code> - すべての言語のすべてのページ</li>
<li><code>/sitemap.txt</code> - シンプルなURLリスト形式</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">sitemap_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">languages</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> en
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
    <span class="token punctuation">-</span> ja
  <span class="token key atrule">changefreq</span><span class="token punctuation">:</span> monthly
  <span class="token key atrule">priority</span><span class="token punctuation">:</span> <span class="token number">0.6</span></code></pre>
<h3 id="3-アーカイブページ">3. アーカイブページ</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-archive">hexo-generator-i18n-archive</a></p>
<p>言語固有のアーカイブページを作成：</p>
<ul>
<li><code>/archives/</code>（英語）</li>
<li><code>/zh-TW/archives/</code>（繁体字中国語）</li>
<li><code>/ja/archives/</code>（日本語）</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_archive_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>
  <span class="token key atrule">yearly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">monthly</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></code></pre>
<h3 id="4-カテゴリーページ">4. カテゴリーページ</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-category">hexo-generator-i18n-category</a></p>
<p>言語ごとにカテゴリーページを生成し、カテゴリー名を翻訳：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_category_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span>

<span class="token key atrule">category_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">Development</span><span class="token punctuation">:</span>
    <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token string">"Development"</span>
    <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token string">"開發"</span>
    <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token string">"開発"</span></code></pre>
<h3 id="5-タグページ">5. タグページ</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-generator-i18n-tag">hexo-generator-i18n-tag</a></p>
<p>言語でフィルタリングされたタグページを作成：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">i18n_tag_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">24</span></code></pre>
<h3 id="6-Canonicalタグ">6. Canonicalタグ</h3>
<p><strong>プラグイン</strong>：<a target="_blank" rel="noopener" href="https://github.com/neoalienson/hexo-plugin-i18n-canonical">hexo-plugin-i18n-canonical</a></p>
<p>適切なcanonicalタグを追加して重複コンテンツペナルティを防止。</p>
<p><strong>問題</strong>：検索エンジンは翻訳ページを重複コンテンツと見なします：</p>
<ul>
<li><code>/2025/10/Article-Title/</code>（英語）</li>
<li><code>/zh-TW/2025/10/Article-Title/</code>（中国語）</li>
<li><code>/ja/2025/10/Article-Title/</code>（日本語）</li>
</ul>
<p>canonicalタグがないと、Googleは次のことを行う可能性があります：</p>
<ul>
<li>翻訳間でランキングシグナルを分散</li>
<li>間違った言語バージョンをインデックス</li>
<li>「重複」コンテンツでサイトにペナルティ</li>
</ul>
<p><strong>解決策</strong>：Canonicalタグは検索エンジンにどのバージョンが主要かを伝えます：</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token comment"><!-- すべての言語バージョンが英語をcanonicalとして指す --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canonical<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://neo01.com/2025/10/Article-Title/<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">canonical_multilang</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">default_lang</span><span class="token punctuation">:</span> en  <span class="token comment"># 主要言語</span>
  <span class="token key atrule">languages</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> en
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
    <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
    <span class="token punctuation">-</span> ja</code></pre>
<p><strong>結果</strong>：検索エンジンはこれらが翻訳であり重複ではないことを理解し、SEO価値を保持します。</p>
<h2 id="フラグメントキャッシュによるパフォーマンス最適化">フラグメントキャッシュによるパフォーマンス最適化</h2>
<h3 id="多言語パフォーマンスの課題">多言語パフォーマンスの課題</h3>
<p>このウェブサイトは4言語（en、zh-TW、zh-CN、ja）をサポートしており、これは次を意味します：</p>
<ul>
<li><strong>4×ページ生成</strong>：各投稿が4つのインデックスエントリ、4つのアーカイブページ、4つのカテゴリーページ、4つのタグページを作成</li>
<li><strong>4×テンプレートレンダリング</strong>：ページタイプごとにヘッダー、フッター、サイドバーを4回レンダリング</li>
<li><strong>4×メモリ使用量</strong>：各言語が個別のページオブジェクトを維持</li>
<li><strong>指数関数的成長</strong>：100投稿 × 4言語 = 400+ページ（アーカイブ/カテゴリー/タグを数える前）</li>
</ul>
<p><strong>一般的なルール</strong>：N言語の場合、最適化なしでN×のビルド時間とメモリ使用量を予想します。</p>
<h3 id="フラグメントキャッシュソリューション">フラグメントキャッシュソリューション</h3>
<p>Hexoの<code>fragment_cache()</code>関数は、レンダリングされたテンプレートコンテンツを保存し、ページ間で再利用します。ページごとに変更されないコンポーネントに不可欠です。</p>
<p><strong>重要な原則</strong>：グローバルではなく、言語ごとにキャッシュします。</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>relative_link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'header-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
<span class="token punctuation">}</span>
</span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<p><strong>キャッシュキー戦略</strong>：</p>
<ul>
<li><code>header-en</code>、<code>header-zh-TW</code>、<code>header-zh-CN</code>、<code>header-ja</code>（4つのキャッシュエントリ）</li>
<li>各言語が分離されたキャッシュを取得</li>
<li>その言語のすべてのページで再利用</li>
</ul>
<h3 id="キャッシュすべきもの">キャッシュすべきもの</h3>
<p><strong>ヘッダー</strong>（<code>layout.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'header-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>ナビゲーション、言語セレクター、ロゴ</li>
<li>4つのキャッシュエントリ（言語ごとに1つ）</li>
<li>各言語の約100+ページで再利用</li>
</ul>
<p><strong>サイドバー</strong>（<code>sidebar.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'sidebar-static-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/sidebar-static'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>ソーシャルリンク、構造</li>
<li>ウィジェットは言語ごとに個別にキャッシュ</li>
</ul>
<p><strong>ウィジェット</strong>（<code>sidebar-widgets.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'widget-recent_posts-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'widget/recent_posts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>最近の投稿はテンプレート内で言語でフィルタリング：</li>
</ul>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%_</span><span class="token language-javascript"> site<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span> <span class="token operator">===</span> currentLang<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">_%&gt;</span></span></code></pre>
<ul>
<li>その言語のすべてのページで同じ5つの投稿を表示</li>
</ul>
<p><strong>フッター</strong>（<code>footer.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'footer-static-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/footer-static'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/footer-dynamic'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>静的：著作権、クレジット（キャッシュ済み）</li>
<li>動的：QRコード（ページ固有）</li>
</ul>
<p><strong>スクリプト</strong>（<code>layout.ejs</code>）：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'scripts-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/scripts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<ul>
<li>JavaScriptインクルードを言語ごとにキャッシュ</li>
</ul>
<h3 id="設定要件">設定要件</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">relative_link</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 安全なキャッシュに必要</span></code></pre>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>⚠️ 相対リンクはキャッシュを破壊</p><div class="admonition-content"><p>フラグメントキャッシュはページオブジェクトをキャプチャします。<code>relative_link: true</code>の場合、キャッシュされたコンテンツに間違ったパスが含まれます。キャッシュを有効にする場合は常に絶対パスを使用してください。</p>
</div></div>
<h3 id="クライアント側言語セレクター">クライアント側言語セレクター</h3>
<p>サーバー側の言語切り替えはフラグメントキャッシュで機能しません。解決策：JavaScriptベースのURL生成。</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 現在のパスを検出</span>
<span class="token keyword">var</span> currentPath <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
<span class="token keyword">var</span> basePath <span class="token operator">=</span> currentPath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token operator">^</span>\\<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span>\\<span class="token operator">/</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 言語固有のURLを生成</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[data-lang]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> targetLang <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-lang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> targetUrl <span class="token operator">=</span> targetLang <span class="token operator">===</span> <span class="token string">'en'</span> <span class="token operator">?</span> basePath <span class="token operator">:</span> <span class="token string">'/'</span> <span class="token operator">+</span> targetLang <span class="token operator">+</span> basePath<span class="token punctuation">;</span>
    link<span class="token punctuation">.</span>href <span class="token operator">=</span> targetUrl<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>利点</strong>：</p>
<ul>
<li>言語セレクターHTMLは言語ごとにキャッシュ</li>
<li>URLは実際のブラウザーの場所から生成</li>
<li>古いページオブジェクトの問題なし</li>
</ul>
<h3 id="パフォーマンスへの影響">パフォーマンスへの影響</h3>
<p><strong>最適化前</strong>（このサイトの4言語）：</p>
<ul>
<li>ビルド時間：400+ページ（4言語 × 100+投稿）で約1分</li>
<li>メモリ使用量：高いテンプレートレンダリングオーバーヘッド</li>
<li>各ページがヘッダー/フッター/サイドバーをゼロからレンダリング</li>
</ul>
<p><strong>最適化後</strong>：</p>
<ul>
<li>ビルド時間：約40秒（60%削減）</li>
<li>メモリ使用量：大幅に低下</li>
<li>キャッシュヒット率：言語ごとに80-95%</li>
</ul>
<p><strong>このサイトの計算</strong>：</p>
<ul>
<li>キャッシュなし：400ページ × 5コンポーネント = 2,000レンダリング</li>
<li>キャッシュあり：20キャッシュエントリ（4言語 × 5コンポーネント）+ 400動的レンダリング</li>
<li><strong>一般的な式</strong>：コンポーネントごとにNキャッシュエントリ、（ページ × N）レンダリングではない</li>
</ul>
<h2 id="コンテンツ管理ワークフロー">コンテンツ管理ワークフロー</h2>
<h3 id="新規投稿の作成">新規投稿の作成</h3>
<ol>
<li><strong>まず英語版を作成</strong>（信頼できる情報源）：</li>
</ol>
<pre class="language-bash" data-language="bash"><code class="language-bash">hexo new post <span class="token string">"Article Title"</span>
<span class="token comment"># 作成：source/_posts/Article-Title.md</span></code></pre>
<ol start="2">
<li><strong>言語メタデータを追加</strong>：</li>
</ol>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"Article Title"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> en
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"Compelling summary in English"</span>
<span class="token punctuation">---</span></code></pre>
<ol start="3">
<li><strong>言語サフィックス付きで翻訳版を作成</strong>：</li>
</ol>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ファイル名に言語サフィックスを使用</span>
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-zh-TW.md
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-zh-CN.md
<span class="token function">cp</span> source/_posts/Article-Title.md source/_posts/Article-Title-ja.md</code></pre>
<ol start="4">
<li><strong>翻訳メタデータを更新</strong>（permalinkは不要）：</li>
</ol>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"記事タイトル"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> ja  <span class="token comment"># パッチが自動生成：/ja/2025/10/Article-Title/</span>
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Development
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
<span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"日本語の要約"</span>
<span class="token punctuation">---</span></code></pre>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 自動URL生成</p><div class="admonition-content"><p>パッチ適用後：</p>
<ul>
<li><code>Article-Title-zh-TW.md</code> → <code>/zh-TW/2025/10/Article-Title/</code></li>
<li><code>Article-Title-ja.md</code> → <code>/ja/2025/10/Article-Title/</code></li>
<li>言語サフィックスがURLから自動的に削除</li>
<li>手動<code>permalink</code>設定は不要</li>
</ul>
</div></div>
<h3 id="未翻訳コンテンツの処理">未翻訳コンテンツの処理</h3>
<p>単一言語でのみ利用可能なコンテンツには、<code>original_lang_url</code>を使用：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"CISP認証"</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-10-30</span>
<span class="token key atrule">lang</span><span class="token punctuation">:</span> ja
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> /ja/2025/10/cisp<span class="token punctuation">-</span>certification/
<span class="token key atrule">categories</span><span class="token punctuation">:</span> Cybersecurity
<span class="token key atrule">original_lang_url</span><span class="token punctuation">:</span> /zh<span class="token punctuation">-</span>CN/2025/10/cisp<span class="token punctuation">-</span>certification/
<span class="token punctuation">---</span></code></pre>
<p>これはコンテンツの代わりにリダイレクト通知を表示し、読者を利用可能な言語バージョンに誘導します。</p>
<h2 id="リソース管理">リソース管理</h2>
<h3 id="画像とアセット">画像とアセット</h3>
<p><strong>英語投稿</strong>：相対パスを使用</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Diagram</span>](<span class="token url">diagram.png</span>)</span></code></pre>
<p><strong>翻訳投稿</strong>：英語アセットへの絶対パスを使用</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">図</span>](<span class="token url">/2025/10/Article-Title/diagram.png</span>)</span></code></pre>
<p><strong>利点</strong>：</p>
<ul>
<li>アセットの重複なし</li>
<li>単一の信頼できる情報源</li>
<li>保守が容易</li>
</ul>
<h3 id="内部リンク">内部リンク</h3>
<p>常に言語プレフィックス付きの絶対パスを使用：</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token comment"><!-- 英語 --></span>
<span class="token url">[<span class="token content">Tools</span>](<span class="token url">/tools/</span>)</span>
<span class="token url">[<span class="token content">Previous Post</span>](<span class="token url">/2025/09/Previous-Article/</span>)</span>

<span class="token comment"><!-- 日本語 --></span>
<span class="token url">[<span class="token content">ツール</span>](<span class="token url">/ja/tools/</span>)</span>
<span class="token url">[<span class="token content">前の記事</span>](<span class="token url">/ja/2025/09/Previous-Article/</span>)</span></code></pre>
<h2 id="SEOの考慮事項">SEOの考慮事項</h2>
<h3 id="要約管理">要約管理</h3>
<p>各言語には異なる文字密度があります：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">excerpt_length</span><span class="token punctuation">:</span>
  <span class="token key atrule">default</span><span class="token punctuation">:</span> <span class="token number">200</span>
  <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token number">200</span>
  <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token number">100</span>
  <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token number">100</span>
  <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token number">100</span></code></pre>
<p>より良い制御のため、常にfront matterで手動要約を提供：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">"カスタムプラグインでHexoの多言語コンテンツ管理をマスター。"</span></code></pre>
<h3 id="カテゴリー翻訳">カテゴリー翻訳</h3>
<p>カテゴリーキーは英語のまま、表示名を翻訳：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">category_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">Development</span><span class="token punctuation">:</span>
    <span class="token key atrule">en</span><span class="token punctuation">:</span> <span class="token string">"Development"</span>
    <span class="token key atrule">zh-TW</span><span class="token punctuation">:</span> <span class="token string">"開發"</span>
    <span class="token key atrule">zh-CN</span><span class="token punctuation">:</span> <span class="token string">"开发"</span>
    <span class="token key atrule">ja</span><span class="token punctuation">:</span> <span class="token string">"開発"</span></code></pre>
<h3 id="タグ">タグ</h3>
<p><strong>コンテンツ言語に関係なく、常に英語タグを使用</strong>：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Hexo
  <span class="token punctuation">-</span> i18n
  <span class="token punctuation">-</span> Static Site</code></pre>
<p>これにより、言語間でタグページの一貫性が確保されます。</p>
<h2 id="追加のパフォーマンスヒント">追加のパフォーマンスヒント</h2>
<h3 id="開発中のプラグイン無効化">開発中のプラグイン無効化</h3>
<p>多くのi18nプラグインは、開発を高速化するためにローカルプレビュー中に無効化できます：</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># _config.yml</span>
<span class="token key atrule">i18n_archive_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># プレビュー用に無効化</span>
  
<span class="token key atrule">i18n_category_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># プレビュー用に無効化</span>
  
<span class="token key atrule">i18n_tag_generator</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># プレビュー用に無効化</span>
  
<span class="token key atrule">sitemap_i18n</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># プレビュー用に無効化</span>
  
<span class="token key atrule">canonical_multilang</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># プレビュー用に無効化</span></code></pre>
<p><strong>デプロイ前に有効化</strong>：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># デプロイ前にすべてのプラグインのenableをtrueに設定</span>
hexo clean <span class="token operator">&amp;&amp;</span> hexo generate</code></pre>
<p><strong>利点</strong>：</p>
<ul>
<li>より高速なローカルビルド（秒単位 vs 分単位）</li>
<li>コンテンツ作成中のより速い反復</li>
<li>本番環境で必要な場合のみ完全な機能</li>
</ul>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>💡 開発ワークフロー</p><div class="admonition-content"><p>日常作業では<code>_config.yml</code>でプラグインを無効のままにします。CI/CDパイプラインまたは手動デプロイ前にのみ有効化します。</p>
</div></div>
<h2 id="トラブルシューティング">トラブルシューティング</h2>
<h3 id="間違った言語のコンテンツが表示される">間違った言語のコンテンツが表示される</h3>
<p><strong>原因</strong>：フラグメントキャッシュが言語固有のキーを使用していない</p>
<p><strong>解決策</strong>：キャッシュキーに<code>page.lang</code>が含まれていることを確認：</p>
<pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">fragment_cache</span><span class="token punctuation">(</span><span class="token string">'component-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>lang <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'common/component'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre>
<h3 id="言語セレクターが404を表示">言語セレクターが404を表示</h3>
<p><strong>原因</strong>：フラグメントキャッシュによるサーバー側パス検出</p>
<p><strong>解決策</strong>：クライアント側URL生成を実装（上記参照）</p>
<h3 id="ビルドパフォーマンスの低下">ビルドパフォーマンスの低下</h3>
<p><strong>原因</strong>：キャッシュが無効または<code>relative_link: true</code></p>
<p><strong>解決策</strong>：</p>
<ol>
<li><code>relative_link: false</code>を設定</li>
<li>キャッシュをクリア：<code>hexo clean</code></li>
<li>再生成：<code>hexo generate</code></li>
</ol>
<h3 id="翻訳が表示されない">翻訳が表示されない</h3>
<p><strong>原因</strong>：<code>lang</code>メタデータの欠落または不正なpermalink</p>
<p><strong>解決策</strong>：front matterに以下が含まれていることを確認：</p>
<ul>
<li><code>lang: ja</code>（または適切な言語コード）</li>
<li><code>permalink: /ja/YYYY/MM/slug/</code></li>
</ul>
<h2 id="まとめ">まとめ</h2>
<p>多言語Hexoブログの構築にはカスタムプラグインと慎重な最適化が必要ですが、結果は高速でSEOフレンドリーなサイトとなり、グローバルなオーディエンスにサービスを提供します。重要な洞察：</p>
<ul>
<li><strong>関心の分離</strong>：投稿は集中化、ページはディレクトリベース</li>
<li><strong>積極的なキャッシュ</strong>：言語ごとのフラグメントキャッシュでビルド時間を60%削減</li>
<li><strong>クライアント側の強化</strong>：JavaScriptがキャッシュを破壊せずに動的要素を処理</li>
<li><strong>一貫した構造</strong>：英語を信頼できる情報源とし、翻訳は確立されたパターンに従う</li>
</ul>
<p>この実装は、4言語にわたる400+ページのブログをサポートし、優れたパフォーマンスとSEOを維持しながら2分以内にビルドします。</p>
<p>静的サイト生成の未来は多言語であり、適切なアーキテクチャがあれば、Hexoは世界クラスの結果を提供できます。</p>
<!-- commentbox plugin begins -->
    <div class="commentbox"></div>
    <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
    <script>commentBox('5765834504929280-proj')</script>
    <!-- commentbox plugin ends -->
    
        </div>
        
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/ja/2025/10/Enabling-i18n-in-Hexo/" data-id="6be8bf80" class="article-share-link"><i class="fa fa-share"></i>シェア</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "Hexoで多言語対応を実現：完全ガイド",
        "image": "https://neo01.com/assets/hexo/thumbnail.png",
        "keywords": "Hexo Static Site i18n",
        "genre": "Development",
        "datePublished": "2025-10-30",
        "dateCreated": "2025-10-30",
        "dateModified": "2025-10-30",
        "url": "https://neo01.com//ja/2025/10/Enabling-i18n-in-Hexo/",
        "description": "カスタムプラグイン、URL戦略、フラグメントキャッシュによるパフォーマンス最適化で、Hexoの多言語コンテンツ管理をマスターしましょう。",
        "wordCount": 3642
    }
</script-->

</article>

                        </div>
                    </section>
                    
<aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>フォロー:</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">

        
            
                
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">リンク</h3>
    <div class="widget">
        <ul><li><a href="/ja/ai">AI プレイグラウンド</a></li><li><a href="/ja/tools">ツール</a></li><li><a href="/ja/games">ゲーム</a></li><li><a href="/ja/pages/useful-information">役立つ情報</a></li><li><a href="/ja/pages/Hexo-Blogging-Cheatsheet">Hexo ブログチートシート</a></li></ul>
    </div>
</div>

                
            
                
                
                
            
                
                    <div class="widget-wrap">
        <h3 class="widget-title">最新</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/ja/2025/10/Enabling-i18n-in-Hexo/" class="thumbnail">
        <span style="background-image:url(/assets/hexo/thumbnail.png)" alt="Hexoで多言語対応を実現：完全ガイド" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">開発</a></p>
                            <p class="item-title"><a href="/ja/2025/10/Enabling-i18n-in-Hexo/" class="title">Hexoで多言語対応を実現：完全ガイド</a></p>
                            <p class="item-date"><time datetime="2025-10-29T16:00:00.000Z" itemprop="datePublished">2025-10-30</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/ja/2025/10/How-I-Use-AI-to-Learn/" class="thumbnail">
        <span style="background-image:url(/assets/learning/thumbnail_80.png)" alt="AIを使った学習法：反復的知識構築による個人的な旅" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">AI</a></p>
                            <p class="item-title"><a href="/ja/2025/10/How-I-Use-AI-to-Learn/" class="title">AIを使った学習法：反復的知識構築による個人的な旅</a></p>
                            <p class="item-date"><time datetime="2025-10-18T16:00:00.000Z" itemprop="datePublished">2025-10-19</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/ja/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="thumbnail">
        <span style="background-image:url(/2025/10/Tools-Games-And-Browser-Built-In-AI/thumbnail.jpeg)" alt="ツール、ゲーム、そしてブラウザ内蔵AIプレイグラウンド" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">AI</a></p>
                            <p class="item-title"><a href="/ja/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="title">ツール、ゲーム、そしてブラウザ内蔵AIプレイグラウンド</a></p>
                            <p class="item-date"><time datetime="2025-10-01T16:00:00.000Z" itemprop="datePublished">2025-10-02</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/ja/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="thumbnail">
        <span style="background-image:url(/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/thumbnail.jpeg)" alt="エージェントコーディングの台頭：AI駆動のソフトウェアエンジニアリング" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">AI</a></p>
                            <p class="item-title"><a href="/ja/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="title">エージェントコーディングの台頭：AI駆動のソフトウェアエンジニアリング</a></p>
                            <p class="item-date"><time datetime="2025-09-19T16:00:00.000Z" itemprop="datePublished">2025-09-20</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/ja/2025/08/Understanding_Ephemeral_Ports_Part2/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="エフェメラルポートを理解する パート2：サーバーアプリケーションが動的ポートを避けるべき理由" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" style="cursor: default; pointer-events: none;">開発</a></p>
                            <p class="item-title"><a href="/ja/2025/08/Understanding_Ephemeral_Ports_Part2/" class="title">エフェメラルポートを理解する パート2：サーバーアプリケーションが動的ポートを避けるべき理由</a></p>
                            <p class="item-date"><time datetime="2025-08-30T16:00:00.000Z" itemprop="datePublished">2025-08-31</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

                
            
                
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">アーカイブ</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2025/">2025</a>
                    <span class="archive-list-count">73</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2023/">2023</a>
                    <span class="archive-list-count">16</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2022/">2022</a>
                    <span class="archive-list-count">18</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/ja/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


                
            
        

    </div>
</aside>


                </div>
            </div>
        </div>
        
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>

            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#817904f7</div>
                <img src="/qr/qr-306d847c951ccf163e7dc253f6a16c40.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#817904f7">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>© 2025 Neo Alienson. 全著作権所有.
                  <a href="/ja/terms-and-conditions">利用規約</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




        
    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

<script>CookieConsent.run({"palette":{"popup":{"background":"#000"},"button":{"background":"#f1d600"}},"guiOptions":{"consentModal":{"layout":"box","position":"bottom right","equalWeightButtons":true,"flipButtons":false},"preferencesModal":{"layout":"box","position":"right","equalWeightButtons":false,"flipButtons":false}},"categories":{"necessary":{"readOnly":true},"functionality":{},"analytics":{}},"language":{"default":"en","autoDetect":"browser","translations":{"en":{"consentModal":{"title":"Hello traveler, it's cookie time!","description":"🍪 This site uses cookies to serve you the best experience—no crumbs left behind! Want to know what cookies really are? Check out this easy-to-understand cookie explanation. And for the legal nitty-gritty, here’s our website cookie policy to keep you in the loop! 🚀\n","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","showPreferencesBtn":"Manage preferences","footer":"<a href=\"#link\">Privacy Policy</a>\n<a href=\"/terms-and-conditions/\">Terms and conditions</a>\n"},"preferencesModal":{"title":"Consent Preferences Center","acceptAllBtn":"Accept all","acceptNecessaryBtn":"Reject all","savePreferencesBtn":"Save preferences","closeIconLabel":"Close modal","serviceCounterLabel":"Service|Services","sections":[{"title":"Cookie Usage","description":"We use cookies to make your visit smoother, faster, and tailored just for you. Cookies help us remember your preferences, improve site performance, and deliver personalized content while keeping things secure and user-friendly.\n"},{"title":"Strictly Necessary Cookies <span class=\"pm__badge\">Always Enabled</span>","description":"These cookies are essential for the website to function properly. They enable core features like security, page navigation, and access to secure areas. Without these, the site cannot operate correctly.\n","linkedCategory":"necessary"},{"title":"Functionality Cookies","description":"Functionality cookies remember your choices to provide a more personalized experience. For example, they save your language preference or login details so you don’t have to keep entering them each time.\n","linkedCategory":"functionality"},{"title":"Analytics Cookies","description":"Analytics cookies help us understand how visitors interact with our site by collecting information anonymously. This insight allows us to improve functionality, fix issues, and make the website better for you.\n","linkedCategory":"analytics"},{"title":"More information","description":"Please refer to our <a href='/pages/cookie-policy'>cookie policy</a> for full details on how we use cookies and your options to manage them.\n"}]}}}}})</script></body></html>