<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start --><!-- Google tag (gtag.js) begins-->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DZR3TQYCY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3DZR3TQYCY');
    </script>
    <!-- Google tag (gtag.js) ends-->
    <!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <!-- security headers starts -->
    <!-- meta http-equiv="content-security-policy" content="script-src 'sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=' 'sha256-lJjk3/dvd+wXqRFjV7T5L/nXJXr5NjUjmsKSPEe+ass=';" -->
    <!-- security headers ends -->
    <!-- favicon starts -->    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <!-- favicon ends -->
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" href="/atom.xml" title="Decoding Digital Anomalies" type="application/atom+xml">
    

    

    

    

    

    

    

    
    
        


    
    
        


    



    
    <title>Setting Up a Private Certificate Authority at Home | Decoding Digital Anomalies</title>
    
    <meta name="keywords" content="Cybersecurity,Homelab,PKI">
    
    
    <meta name="description" content="Tired of browser warnings on your homelab services? Learn how to set up your own Certificate Authority to issue trusted SSL certificates for internal services.">
<meta property="og:type" content="article">
<meta property="og:title" content="Setting Up a Private Certificate Authority at Home">
<meta property="og:url" content="https://neo01.com/2024/03/Private-CA-at-Home/index.html">
<meta property="og:site_name" content="Decoding Digital Anomalies">
<meta property="og:description" content="Tired of browser warnings on your homelab services? Learn how to set up your own Certificate Authority to issue trusted SSL certificates for internal services.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://neo01.com/2024/03/Private-CA-at-Home/thumbnail.png">
<meta property="article:published_time" content="2024-03-14T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-22T09:22:58.812Z">
<meta property="article:author" content="Neo Alienson">
<meta property="article:tag" content="Cybersecurity">
<meta property="article:tag" content="Homelab">
<meta property="article:tag" content="PKI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://neo01.com/2024/03/Private-CA-at-Home/thumbnail.png">
    
    <!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/bundle.css"><script type="text/javascript" src="/js/bundle_first.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.0">  <link rel="canonical" href="https://neo01.com/2024/03/Private-CA-at-Home/">
  <link rel="alternate" hreflang="en" data-canonical="true" href="https://neo01.com/2024/03/Private-CA-at-Home/">
  <link rel="alternate" hreflang="zh-TW" href="https://neo01.com/zh-TW/2024/03/Private-CA-at-Home/">
  <link rel="alternate" hreflang="zh-CN" href="https://neo01.com/zh-CN/2024/03/Private-CA-at-Home/">
  <link rel="alternate" hreflang="ja" href="https://neo01.com/ja/2024/03/Private-CA-at-Home/">
<style id="admonition-styles">.admonition {
  margin: 1em 0;
  padding: 0rem;
  border-left: 0.3rem solid;
  border-radius: 0.4rem;
  background-color: #f9f9f9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  page-break-inside: avoid;
}

.admonition-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  padding: 0rem 1rem 0.1rem 0.75rem;
  font-size: 1.05em;
  background-color: rgba(0, 0, 0, 0.03);
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  margin: 0 !important;
}

.admonition-icon {
  font-size: 1.2em;
  margin-right: 0.6rem;
  opacity: 0.85;
  margin-top: 0.1rem;
}

/* ÂÜÖÂÆπÂå∫Âüü margin */
.admonition > *:not(.admonition-title) {
  margin: 0.6rem 1rem 0.6rem 1rem;
}

/* NOTE Á±ªÂûã */
.admonition.anote {
  border-color: #448aff;
}
.admonition.anote > .admonition-title {
  background-color: #448aff1a;
  color: #2962ff;
}

/* INFO / TODO Á±ªÂûã */
.admonition.info,
.admonition.todo {
  border-color: #00b8d4;
}
.admonition.info > .admonition-title,
.admonition.todo > .admonition-title {
  background-color: rgba(0, 184, 212, 0.1);
  color: #007c91;
}

/* Ë≠¶ÂëäÁ±ª */
.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-color: #ff9100;
}
.admonition.warning > .admonition-title,
.admonition.attention > .admonition-title,
.admonition.caution > .admonition-title {
  background-color: rgba(255, 145, 0, 0.1);
  color: #c66900;
}

/* ÈîôËØØÁ±ª */
.admonition.failure,
.admonition.missing,
.admonition.fail,
.admonition.error,
.admonition.danger,
.admonition.bug {
  border-color: #ff5252;
}
.admonition.failure > .admonition-title,
.admonition.missing > .admonition-title,
.admonition.fail > .admonition-title,
.admonition.error > .admonition-title,
.admonition.danger > .admonition-title,
.admonition.bug > .admonition-title {
  background-color: rgba(255, 82, 82, 0.1);
  color: #b71c1c;
}

/* TIP Á±ªÂûã */
.admonition.tip {
  border-color: #00bfa5;
}
.admonition.tip > .admonition-title {
  background-color: #00bfa51a;
  color: #00796b;
}

/* SUCCESS Á±ªÂûã */
.admonition.success {
  border-color: #00c853;
}
.admonition.success > .admonition-title {
  background-color: #00c8531a;
  color: #2e7d32;
}

/* QUESTION Á±ªÂûã */
.admonition.question {
  border-color: #64dd17;
}
.admonition.question > .admonition-title {
  background-color: #64dd171a;
  color: #558b2f;
}

/* EXAMPLE Á±ªÂûã */
.admonition.example {
  border-color: #7c4dff;
}
.admonition.example > .admonition-title {
  background-color: #7c4dff1a;
  color: #512da8;
}

/* QUOTE Á±ªÂûã */
.admonition.quote {
  border-color: #9e9e9e;
}
.admonition.quote > .admonition-title {
  background-color: #9e9e9e1a;
  color: #424242;
}

/*ÈªëÊöóÊ®°Âºè*/
/* Â§úÈó¥Ê®°ÂºèÂü∫Á°ÄÊ†∑Âºè */
[data-theme="dark"] .admonition {
  background-color: #1e1e1e;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .admonition-title {
  background-color: rgba(255, 255, 255, 0.05);
}

/* anote */
[data-theme="dark"] .admonition.anote {
  border-color: #82b1ff;
}
[data-theme="dark"] .admonition.anote > .admonition-title {
  background-color: #82b1ff1a;
  color: #bbdefb;
}

/* tip */
[data-theme="dark"] .admonition.tip {
  border-color: #64ffda;
}
[data-theme="dark"] .admonition.tip > .admonition-title {
  background-color: #64ffda1a;
  color: #1de9b6;
}

/* success */
[data-theme="dark"] .admonition.success {
  border-color: #69f0ae;
}
[data-theme="dark"] .admonition.success > .admonition-title {
  background-color: #69f0ae1a;
  color: #00e676;
}

/* question */
[data-theme="dark"] .admonition.question {
  border-color: #b2ff59;
}
[data-theme="dark"] .admonition.question > .admonition-title {
  background-color: #b2ff591a;
  color: #aeea00;
}

/* example */
[data-theme="dark"] .admonition.example {
  border-color: #b388ff;
}
[data-theme="dark"] .admonition.example > .admonition-title {
  background-color: #b388ff1a;
  color: #b39ddb;
}

/* quote */
[data-theme="dark"] .admonition.quote {
  border-color: #bdbdbd;
}
[data-theme="dark"] .admonition.quote > .admonition-title {
  background-color: #bdbdbd1a;
  color: #eeeeee;
}

/* warning / attention / caution */
[data-theme="dark"] .admonition.warning,
[data-theme="dark"] .admonition.attention,
[data-theme="dark"] .admonition.caution {
  border-color: #ffb300;
}
[data-theme="dark"] .admonition.warning > .admonition-title,
[data-theme="dark"] .admonition.attention > .admonition-title,
[data-theme="dark"] .admonition.caution > .admonition-title {
  background-color: #ffb3001a;
  color: #ffe082;
}

/* error / fail / failure / bug / danger / missing */
[data-theme="dark"] .admonition.error,
[data-theme="dark"] .admonition.fail,
[data-theme="dark"] .admonition.failure,
[data-theme="dark"] .admonition.bug,
[data-theme="dark"] .admonition.missing,
[data-theme="dark"] .admonition.danger {
  border-color: #ef5350;
}
[data-theme="dark"] .admonition.error > .admonition-title,
[data-theme="dark"] .admonition.fail > .admonition-title,
[data-theme="dark"] .admonition.failure > .admonition-title,
[data-theme="dark"] .admonition.bug > .admonition-title,
[data-theme="dark"] .admonition.missing > .admonition-title,
[data-theme="dark"] .admonition.danger > .admonition-title {
  background-color: #ef53501a;
  color: #ff8a80;
}</style><script id="mermaid-scripts" src="/cache/mermaid.min.local.js"></script>
<script>mermaid.initialize({theme: 'default'});</script></head>

<body>
    <div id="wrap">
        
        
<header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <div class="logo"></div>
                    </h1>

                        <h2 class="subtitle-wrap">
                            <p class="title">Decoding Digital Anomalies</p>
                          <p class="subtitle">Sometimes the feature is the bug in the digital rabbit hole, and vice versa</p>
                        </h2>




                    <div id="lang-selector">
                        <span class="lang-icon">üåê</span>
                        
                            <a href="#" class="lang-link" data-lang="zh-TW">ÁπÅÈ´î‰∏≠Êñá</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</a>
<span class="lang-sep">|</span>                            <a href="#" class="lang-link" data-lang="ja">Êó•Êú¨Ë™û</a>
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            var currentLang = 'en';
                            var currentPath = window.location.pathname;
                            var basePath;
                            
                            if (currentLang === 'en') {
                                basePath = currentPath;
                            } else {
                                basePath = currentPath.replace(new RegExp('^/' + currentLang + '/'), '/');
                            }
                            
                            document.querySelectorAll('.lang-link').forEach(function(link) {
                                var targetLang = link.getAttribute('data-lang');
                                var targetPath;
                                if (targetLang === 'en') {
                                    targetPath = basePath;
                                } else {
                                    targetPath = '/' + targetLang + basePath;
                                }
                                link.href = targetPath;
                            });
                        });
                        </script>
                    </div>


                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                                                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/">AI</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AI/Art-Gallery/">Art Gallery</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Architecture/">Architecture</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Cybersecurity/">Cybersecurity</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Development/">Development</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Misc/">Misc</a></li></ul>
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about-me">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" id="search-form-input" placeholder="Search">
        <button type="submit" title="Search" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" id="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script integrity="sha256-B5nfCL2Dym3Ba4YJFI7wB3f4vtClbrYJZ32A5erBEdg=">
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        LANG: 'en',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>




</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Cybersecurity/">Cybersecurity</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2024/03/Private-CA-at-Home" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner responsive-content">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Setting Up a Private Certificate Authority at Home
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
        
          Created <time datetime="2024-03-14T16:00:00.000Z" itemprop="datePublished">2024-03-15</time>
          &nbsp;<i class="fa fa-calendar"></i>
          Updated <time datetime="2025-10-22T09:22:58.812Z" itemprop="datePublished">2025-10-22</time>
        
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Cybersecurity/">Cybersecurity</a> <a class="tag-link" href="/tags/Homelab/">Homelab</a> <a class="tag-link" href="/tags/PKI/">PKI</a>
    </div>

            </div>
        
        
        
        <div class="article-entry" itemprop="articleBody">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-You-Need-a-Private-CA"><span class="toc-text">Why You Need a Private CA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Understanding-the-Basics"><span class="toc-text">Understanding the Basics</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-Up-Your-Private-CA"><span class="toc-text">Setting Up Your Private CA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installing-Your-CA-Certificate"><span class="toc-text">Installing Your CA Certificate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuring-Services"><span class="toc-text">Configuring Services</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Certificate-Management"><span class="toc-text">Certificate Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-Best-Practices"><span class="toc-text">Security Best Practices</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Common-Issues-and-Solutions"><span class="toc-text">Common Issues and Solutions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Advanced-Automated-Certificate-Management"><span class="toc-text">Advanced: Automated Certificate Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Comparison-Private-CA-vs-Let%E2%80%99s-Encrypt"><span class="toc-text">Comparison: Private CA vs Let‚Äôs Encrypt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Resources"><span class="toc-text">Resources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol>
            <p><img src="banner.png" alt=""></p>
<p>You‚Äôve set up a beautiful homelab with multiple services‚ÄîNextcloud, Home Assistant, Plex, maybe a NAS. Everything works great, except for one annoying thing: every time you access these services via HTTPS, your browser screams ‚ÄúYour connection is not private!‚Äù</p>
<p>Sure, you could click ‚ÄúAdvanced‚Äù and ‚ÄúProceed anyway‚Äù every single time. But what if I told you there‚Äôs a better way? Welcome to the world of private Certificate Authorities.</p>
<h2 id="Why-You-Need-a-Private-CA">Why You Need a Private CA</h2>
<p><strong>The Problem:</strong></p>
<p>When you access <code>https://192.168.1.100</code> or <code>https://homeserver.local</code>, your browser doesn‚Äôt trust the connection because:</p>
<ul>
<li>Self-signed certificates aren‚Äôt trusted by default</li>
<li>Public CAs (Let‚Äôs Encrypt, DigiCert) won‚Äôt issue certificates for private IP addresses or <code>.local</code> domains</li>
<li>Clicking through security warnings defeats the purpose of HTTPS</li>
</ul>
<p><strong>The Solution:</strong></p>
<p>Create your own Certificate Authority (CA) that:</p>
<ul>
<li>Issues certificates for your internal services</li>
<li>Gets trusted by all your devices once installed</li>
<li>Works offline without external dependencies</li>
<li>Gives you full control over certificate lifecycle</li>
</ul>
<h2 id="Understanding-the-Basics">Understanding the Basics</h2>
<h3 id="What-is-a-Certificate-Authority">What is a Certificate Authority?</h3>
<p>A CA is an entity that issues digital certificates. When your browser trusts a CA, it automatically trusts any certificate signed by that CA.</p>
<p><strong>The Trust Chain:</strong></p>
<div class="mermaid">flowchart TD
    A["üèõÔ∏è Root CA<br>(Your Private CA)"] --&gt; B["üìú Intermediate CA<br>(Optional)"]
    B --&gt; C["üîí Server Certificate<br>(homeserver.local)"]
    B --&gt; D["üîí Server Certificate<br>(nas.local)"]
    B --&gt; E["üîí Server Certificate<br>(192.168.1.100)"]
    
    F["üíª Your Devices"] -.-&gt;|"Trust"| A
    F --&gt;|"Automatically trust"| C
    F --&gt;|"Automatically trust"| D
    F --&gt;|"Automatically trust"| E
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e9
    style D fill:#e8f5e9
    style E fill:#e8f5e9
    style F fill:#fff3e0</div>
<h3 id="Root-CA-vs-Intermediate-CA">Root CA vs Intermediate CA</h3>
<ul>
<li><strong>Root CA:</strong> The top-level authority. Keep this offline and secure.</li>
<li><strong>Intermediate CA:</strong> Signs actual certificates. Can be revoked without affecting the root.</li>
<li><strong>Server Certificates:</strong> What your services use for HTTPS.</li>
</ul>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>üí° Best Practice</p><div class="admonition-content"><p>Use a two-tier hierarchy: Root CA ‚Üí Intermediate CA ‚Üí Server Certificates. This way, if your intermediate CA is compromised, you can revoke it without re-trusting the root on all devices.</p>
</div></div>
<h2 id="Setting-Up-Your-Private-CA">Setting Up Your Private CA</h2>
<h3 id="Method-1-Using-OpenSSL-Manual-Control">Method 1: Using OpenSSL (Manual Control)</h3>
<p><strong>Step 1: Create Root CA</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Generate root CA private key (keep this VERY secure!)</span>
openssl genrsa <span class="token parameter variable">-aes256</span> <span class="token parameter variable">-out</span> root-ca.key <span class="token number">4096</span>

<span class="token comment"># Create root CA certificate (valid for 10 years)</span>
openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-nodes</span> <span class="token parameter variable">-key</span> root-ca.key <span class="token parameter variable">-sha256</span> <span class="token parameter variable">-days</span> <span class="token number">3650</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-out</span> root-ca.crt <span class="token punctuation">\</span>
  <span class="token parameter variable">-subj</span> <span class="token string">"/C=US/ST=State/L=City/O=Home Lab/CN=Home Lab Root CA"</span></code></pre>
<p><strong>Step 2: Create Intermediate CA</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Generate intermediate CA private key</span>
openssl genrsa <span class="token parameter variable">-aes256</span> <span class="token parameter variable">-out</span> intermediate-ca.key <span class="token number">4096</span>

<span class="token comment"># Create certificate signing request (CSR)</span>
openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> intermediate-ca.key <span class="token parameter variable">-out</span> intermediate-ca.csr <span class="token punctuation">\</span>
  <span class="token parameter variable">-subj</span> <span class="token string">"/C=US/ST=State/L=City/O=Home Lab/CN=Home Lab Intermediate CA"</span>

<span class="token comment"># Sign intermediate CA with root CA</span>
openssl x509 <span class="token parameter variable">-req</span> <span class="token parameter variable">-in</span> intermediate-ca.csr <span class="token parameter variable">-CA</span> root-ca.crt <span class="token parameter variable">-CAkey</span> root-ca.key <span class="token punctuation">\</span>
  <span class="token parameter variable">-CAcreateserial</span> <span class="token parameter variable">-out</span> intermediate-ca.crt <span class="token parameter variable">-days</span> <span class="token number">1825</span> <span class="token parameter variable">-sha256</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-extfile</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token builtin class-name">echo</span> <span class="token string">"basicConstraints=CA:TRUE"</span><span class="token punctuation">)</span></code></pre>
<p><strong>Step 3: Issue Server Certificate</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Generate server private key</span>
openssl genrsa <span class="token parameter variable">-out</span> homeserver.key <span class="token number">2048</span>

<span class="token comment"># Create CSR for your server</span>
openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> homeserver.key <span class="token parameter variable">-out</span> homeserver.csr <span class="token punctuation">\</span>
  <span class="token parameter variable">-subj</span> <span class="token string">"/C=US/ST=State/L=City/O=Home Lab/CN=homeserver.local"</span>

<span class="token comment"># Create SAN (Subject Alternative Name) config</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> san.cnf <span class="token operator">&lt;&lt;</span><span class="token string">EOF
[req]
distinguished_name = req_distinguished_name
req_extensions = v3_req

[req_distinguished_name]

[v3_req]
subjectAltName = @alt_names

[alt_names]
DNS.1 = homeserver.local
DNS.2 = homeserver
IP.1 = 192.168.1.100
EOF</span>

<span class="token comment"># Sign server certificate with intermediate CA</span>
openssl x509 <span class="token parameter variable">-req</span> <span class="token parameter variable">-in</span> homeserver.csr <span class="token parameter variable">-CA</span> intermediate-ca.crt <span class="token punctuation">\</span>
  <span class="token parameter variable">-CAkey</span> intermediate-ca.key <span class="token parameter variable">-CAcreateserial</span> <span class="token parameter variable">-out</span> homeserver.crt <span class="token punctuation">\</span>
  <span class="token parameter variable">-days</span> <span class="token number">365</span> <span class="token parameter variable">-sha256</span> <span class="token parameter variable">-extfile</span> san.cnf <span class="token parameter variable">-extensions</span> v3_req</code></pre>
<h3 id="Method-2-Using-easy-rsa-Simplified">Method 2: Using easy-rsa (Simplified)</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Install easy-rsa</span>
<span class="token function">git</span> clone https://github.com/OpenVPN/easy-rsa.git
<span class="token builtin class-name">cd</span> easy-rsa/easyrsa3

<span class="token comment"># Initialize PKI</span>
./easyrsa init-pki

<span class="token comment"># Build CA</span>
./easyrsa build-ca

<span class="token comment"># Generate server certificate</span>
./easyrsa gen-req homeserver nopass
./easyrsa sign-req server homeserver</code></pre>
<h3 id="Method-3-Using-step-ca-Modern-Approach-Recommended">Method 3: Using step-ca (Modern Approach - Recommended)</h3>
<p><a target="_blank" rel="noopener" href="https://smallstep.com/docs/step-ca">step-ca</a> is a modern, automated CA that simplifies certificate management. Think of it as ‚ÄúLet‚Äôs Encrypt for your homelab.‚Äù</p>
<p><strong>Why step-ca is Better:</strong></p>
<ul>
<li><strong>Automated certificate management</strong> with ACME protocol support</li>
<li><strong>Built-in certificate renewal</strong> - no manual scripts needed</li>
<li><strong>OAuth/OIDC integration</strong> for SSH certificates</li>
<li><strong>Simple CLI</strong> - no complex OpenSSL commands</li>
<li><strong>Web-based workflows</strong> for certificate requests</li>
<li><strong>Short-lived certificates</strong> by default (better security)</li>
<li><strong>Remote management</strong> capabilities</li>
</ul>
<p><strong>Installation:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># macOS</span>
brew <span class="token function">install</span> step

<span class="token comment"># Ubuntu/Debian</span>
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://packages.smallstep.com/keys/apt/repo-signing-key.gpg <span class="token parameter variable">-o</span> /etc/apt/trusted.gpg.d/smallstep.asc
<span class="token builtin class-name">echo</span> <span class="token string">'deb [signed-by=/etc/apt/trusted.gpg.d/smallstep.asc] https://packages.smallstep.com/stable/debian debs main'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/smallstep.list
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> step-cli step-ca

<span class="token comment"># RHEL/Fedora</span>
<span class="token function">sudo</span> dnf <span class="token function">install</span> step-cli step-ca

<span class="token comment"># Windows (Winget)</span>
winget <span class="token function">install</span> Smallstep.step-ca

<span class="token comment"># Docker</span>
<span class="token function">docker</span> pull smallstep/step-ca</code></pre>
<p><strong>Initialize Your CA:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Interactive setup</span>
step ca init

<span class="token comment"># You'll be prompted for:</span>
<span class="token comment"># - PKI name (e.g., "Home Lab")</span>
<span class="token comment"># - DNS names (e.g., "ca.homelab.local")</span>
<span class="token comment"># - Listen address (e.g., "127.0.0.1:8443")</span>
<span class="token comment"># - First provisioner email (e.g., "admin@homelab.local")</span>
<span class="token comment"># - Password for CA keys</span>

<span class="token comment"># Example output:</span>
‚úî What would you like to name your new PKI? Home Lab
‚úî What DNS names or IP addresses would you like to <span class="token function">add</span> to your new CA? ca.homelab.local
‚úî What address will your new CA listen at? <span class="token number">127.0</span>.0.1:8443
‚úî What would you like to name the first provisioner? admin@homelab.local
‚úî What <span class="token keyword">do</span> you want your password to be? ********

‚úî Root certificate: /home/user/.step/certs/root_ca.crt
‚úî Root fingerprint: 702a094e239c9eec6f0dcd0a5f65e595bf7ed6614012825c5fe3d1ae1b2fd6ee</code></pre>
<p><strong>Advanced Init Options:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># With ACME support (for automatic certificate management)</span>
step ca init <span class="token parameter variable">--acme</span>

<span class="token comment"># With SSH certificate support</span>
step ca init <span class="token parameter variable">--ssh</span>

<span class="token comment"># For Kubernetes deployment</span>
step ca init <span class="token parameter variable">--helm</span>

<span class="token comment"># With remote management enabled</span>
step ca init --remote-management</code></pre>
<p><strong>Start the CA Server:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Start CA</span>
step-ca <span class="token variable"><span class="token variable">$(</span>step path<span class="token variable">)</span></span>/config/ca.json

<span class="token comment"># Or run as systemd service</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> step-ca
<span class="token function">sudo</span> systemctl start step-ca</code></pre>
<p><strong>Issue Your First Certificate:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Simple certificate issuance</span>
step ca certificate homeserver.local homeserver.crt homeserver.key

<span class="token comment"># You'll be prompted for the provisioner password</span>
‚úî Key ID: rQxROEr7Kx9TNjSQBTETtsu3GKmuW9zm02dMXZ8GUEk
‚úî Please enter the password to decrypt the provisioner key: ********
‚úî CA: https://ca.homelab.local:8443/1.0/sign
‚úî Certificate: homeserver.crt
‚úî Private Key: homeserver.key

<span class="token comment"># With Subject Alternative Names (SANs)</span>
step ca certificate homeserver.local homeserver.crt homeserver.key <span class="token punctuation">\</span>
  <span class="token parameter variable">--san</span> homeserver <span class="token punctuation">\</span>
  <span class="token parameter variable">--san</span> <span class="token number">192.168</span>.1.100

<span class="token comment"># With custom validity period</span>
step ca certificate homeserver.local homeserver.crt homeserver.key <span class="token punctuation">\</span>
  --not-after 8760h  <span class="token comment"># 1 year</span></code></pre>
<p><strong>Trust Your CA on Client Machines:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Bootstrap trust (downloads root CA and configures step)</span>
step ca bootstrap --ca-url https://ca.homelab.local:8443 <span class="token punctuation">\</span>
  <span class="token parameter variable">--fingerprint</span> 702a094e239c9eec6f0dcd0a5f65e595bf7ed6614012825c5fe3d1ae1b2fd6ee

<span class="token comment"># Install root CA into system trust store</span>
step certificate <span class="token function">install</span> <span class="token variable"><span class="token variable">$(</span>step path<span class="token variable">)</span></span>/certs/root_ca.crt</code></pre>
<p><strong>Automatic Certificate Renewal:</strong></p>
<p>step-ca makes renewal trivial:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Renew certificate (before expiration)</span>
step ca renew homeserver.crt homeserver.key
‚úî Would you like to overwrite homeserver.crt <span class="token punctuation">[</span>y/n<span class="token punctuation">]</span>: y
Your certificate has been saved <span class="token keyword">in</span> homeserver.crt.

<span class="token comment"># Automatic renewal daemon (renews at 2/3 of certificate lifetime)</span>
step ca renew homeserver.crt homeserver.key <span class="token parameter variable">--daemon</span>

<span class="token comment"># Force renewal</span>
step ca renew homeserver.crt homeserver.key <span class="token parameter variable">--force</span></code></pre>
<div class="admonition warning"><p class="admonition-title"><span class="mdi mdi-alert-outline admonition-icon"></span>‚è∞ Renewal Timing</p><div class="admonition-content"><p>Once a certificate expires, the CA will not renew it. Set up automated renewals to run at around two-thirds of a certificate's lifetime. The <code>--daemon</code> flag handles this automatically.</p>
</div></div>
<p><strong>Adjust Certificate Lifetimes:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 5-minute certificate (for sensitive access)</span>
step ca certificate localhost localhost.crt localhost.key --not-after<span class="token operator">=</span>5m

<span class="token comment"># 90-day certificate (for servers)</span>
step ca certificate homeserver.local homeserver.crt homeserver.key --not-after<span class="token operator">=</span>2160h

<span class="token comment"># Certificate valid starting 5 minutes from now</span>
step ca certificate localhost localhost.crt localhost.key --not-before<span class="token operator">=</span>5m --not-after<span class="token operator">=</span>240h</code></pre>
<p>To change global defaults, edit <code>$(step path)/config/ca.json</code>:</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"authority"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"claims"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"minTLSCertDuration"</span><span class="token operator">:</span> <span class="token string">"5m"</span><span class="token punctuation">,</span>
    <span class="token property">"maxTLSCertDuration"</span><span class="token operator">:</span> <span class="token string">"2160h"</span><span class="token punctuation">,</span>
    <span class="token property">"defaultTLSCertDuration"</span><span class="token operator">:</span> <span class="token string">"24h"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>Advanced: Single-Use Tokens (For Containers/VMs):</strong></p>
<p>Generate a short-lived token for delegated certificate issuance:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Generate token (expires in 5 minutes)</span>
<span class="token assign-left variable">TOKEN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>step ca token homeserver.local<span class="token variable">)</span></span>
‚úî Provisioner: admin@homelab.local <span class="token punctuation">(</span>JWK<span class="token punctuation">)</span>
‚úî Please enter the password to decrypt the provisioner key: ********

<span class="token comment"># In container/VM: Create CSR</span>
step certificate create <span class="token parameter variable">--csr</span> homeserver.local homeserver.csr homeserver.key

<span class="token comment"># In container/VM: Get certificate using token</span>
step ca sign <span class="token parameter variable">--token</span> <span class="token variable">$TOKEN</span> homeserver.csr homeserver.crt
‚úî CA: https://ca.homelab.local:8443
‚úî Certificate: homeserver.crt</code></pre>
<p>This is perfect for:</p>
<ul>
<li>Docker containers that need certificates at startup</li>
<li>VM provisioning workflows</li>
<li>CI/CD pipelines</li>
<li>Delegating certificate issuance without sharing CA credentials</li>
</ul>
<p><strong>ACME Integration (Like Let‚Äôs Encrypt):</strong></p>
<p>ACME (Automated Certificate Management Environment) is the protocol Let‚Äôs Encrypt uses. step-ca supports ACME for fully automated certificate issuance and renewal.</p>
<p><strong>Enable ACME:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Add ACME provisioner (if not done during init)</span>
step ca provisioner <span class="token function">add</span> acme <span class="token parameter variable">--type</span> ACME

<span class="token comment"># Restart step-ca to apply changes</span>
<span class="token function">sudo</span> systemctl restart step-ca</code></pre>
<p><strong>ACME Challenge Types:</strong></p>
<table>
<thead>
<tr>
<th>Challenge</th>
<th>Port</th>
<th>Use Case</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>http-01</strong></td>
<td>80</td>
<td>General purpose, web servers</td>
<td>Easy</td>
</tr>
<tr>
<td><strong>dns-01</strong></td>
<td>53</td>
<td>Wildcard certs, firewalled servers</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>tls-alpn-01</strong></td>
<td>443</td>
<td>TLS-only environments</td>
<td>Medium</td>
</tr>
</tbody>
</table>
<p><strong>Using step as ACME Client:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># HTTP-01 challenge (starts web server on port 80)</span>
step ca certificate <span class="token parameter variable">--provisioner</span> acme neo01.com example.crt example.key

‚úî Provisioner: acme <span class="token punctuation">(</span>ACME<span class="token punctuation">)</span>
Using Standalone Mode HTTP challenge to validate neo01.com <span class="token punctuation">..</span> done<span class="token operator">!</span>
Waiting <span class="token keyword">for</span> Order to be <span class="token string">'ready'</span> <span class="token keyword">for</span> finalization <span class="token punctuation">..</span> done<span class="token operator">!</span>
Finalizing Order <span class="token punctuation">..</span> done<span class="token operator">!</span>
‚úî Certificate: example.crt
‚úî Private Key: example.key</code></pre>
<p><strong>Using certbot:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># HTTP-01 challenge</span>
certbot certonly <span class="token parameter variable">--standalone</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--server</span> https://ca.homelab.local:8443/acme/acme/directory <span class="token punctuation">\</span>
  <span class="token parameter variable">-d</span> homeserver.local <span class="token punctuation">\</span>
  --register-unsafely-without-email

<span class="token comment"># DNS-01 challenge (for wildcard certificates)</span>
certbot certonly <span class="token parameter variable">--manual</span> --preferred-challenges dns <span class="token punctuation">\</span>
  <span class="token parameter variable">--server</span> https://ca.homelab.local:8443/acme/acme/directory <span class="token punctuation">\</span>
  <span class="token parameter variable">-d</span> <span class="token string">'*.homelab.local'</span>

<span class="token comment"># Automatic renewal</span>
certbot renew <span class="token parameter variable">--server</span> https://ca.homelab.local:8443/acme/acme/directory</code></pre>
<p><strong>Using <a target="_blank" rel="noopener" href="http://acme.sh">acme.sh</a>:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># HTTP-01 challenge</span>
acme.sh <span class="token parameter variable">--issue</span> <span class="token parameter variable">--standalone</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--server</span> https://ca.homelab.local:8443/acme/acme/directory <span class="token punctuation">\</span>
  <span class="token parameter variable">-d</span> homeserver.local

<span class="token comment"># DNS-01 with Cloudflare</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Token</span><span class="token operator">=</span><span class="token string">"your-cloudflare-api-token"</span>
acme.sh <span class="token parameter variable">--issue</span> <span class="token parameter variable">--dns</span> dns_cf <span class="token punctuation">\</span>
  <span class="token parameter variable">--server</span> https://ca.homelab.local:8443/acme/acme/directory <span class="token punctuation">\</span>
  <span class="token parameter variable">-d</span> homeserver.local

<span class="token comment"># Automatic renewal (runs daily)</span>
acme.sh <span class="token parameter variable">--cron</span></code></pre>
<p><strong>ACME Flow Diagram:</strong></p>
<div class="mermaid">sequenceDiagram
    participant Client as ACME Client
    participant CA as step-ca
    participant Web as Web Server
    
    Client-&gt;&gt;CA: 1. Create account &amp; order certificate
    CA-&gt;&gt;Client: 2. Return challenges (http-01, dns-01, tls-alpn-01)
    Client-&gt;&gt;Web: 3. Place challenge response at /.well-known/acme-challenge/
    Client-&gt;&gt;CA: 4. Ready for validation
    CA-&gt;&gt;Web: 5. Verify challenge response
    CA-&gt;&gt;Client: 6. Challenge validated
    Client-&gt;&gt;CA: 7. Submit CSR
    CA-&gt;&gt;Client: 8. Issue certificate
    
    Note over Client,CA: Certificate issued automatically!</div>
<p><strong>Why ACME is Better:</strong></p>
<ul>
<li><strong>Zero human interaction</strong> - Fully automated certificate lifecycle</li>
<li><strong>Automatic renewal</strong> - No expired certificates</li>
<li><strong>Industry standard</strong> - Works with any ACME client</li>
<li><strong>Proven at scale</strong> - Powers Let‚Äôs Encrypt (billions of certificates)</li>
<li><strong>Built-in validation</strong> - Proves domain/IP ownership automatically</li>
</ul>
<p><strong>Integration with Traefik:</strong></p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># traefik.yml</span>
<span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
  <span class="token key atrule">websecure</span><span class="token punctuation">:</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token string">":443"</span>

<span class="token key atrule">certificatesResolvers</span><span class="token punctuation">:</span>
  <span class="token key atrule">homelab</span><span class="token punctuation">:</span>
    <span class="token key atrule">acme</span><span class="token punctuation">:</span>
      <span class="token key atrule">caServer</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//ca.homelab.local<span class="token punctuation">:</span>8443/acme/acme/directory
      <span class="token key atrule">storage</span><span class="token punctuation">:</span> /acme.json
      <span class="token key atrule">tlsChallenge</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment"># docker-compose.yml</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">whoami</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> traefik/whoami
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"traefik.http.routers.whoami.rule=Host(`whoami.homelab.local`)"</span>
      <span class="token punctuation">-</span> <span class="token string">"traefik.http.routers.whoami.tls.certresolver=homelab"</span></code></pre>
<p><strong>Docker Compose Setup:</strong></p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">step-ca</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> smallstep/step<span class="token punctuation">-</span>ca
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8443:8443"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> step<span class="token punctuation">-</span>ca<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/home/step
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> DOCKER_STEPCA_INIT_NAME=Home Lab
      <span class="token punctuation">-</span> DOCKER_STEPCA_INIT_DNS_NAMES=ca.homelab.local
      <span class="token punctuation">-</span> DOCKER_STEPCA_INIT_PROVISIONER_NAME=admin@homelab.local
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  step<span class="token punctuation">-</span>ca<span class="token punctuation">-</span>data<span class="token punctuation">:</span></code></pre>
<p><strong>Comparison: OpenSSL vs step-ca</strong></p>
<table>
<thead>
<tr>
<th>Task</th>
<th>OpenSSL</th>
<th>step-ca</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Create CA</strong></td>
<td>Multiple commands, config files</td>
<td><code>step ca init</code></td>
</tr>
<tr>
<td><strong>Issue certificate</strong></td>
<td>5+ commands with config</td>
<td><code>step ca certificate</code></td>
</tr>
<tr>
<td><strong>Renewal</strong></td>
<td>Manual script</td>
<td><code>step ca renew --daemon</code></td>
</tr>
<tr>
<td><strong>ACME support</strong></td>
<td>Not built-in</td>
<td>Built-in</td>
</tr>
<tr>
<td><strong>Learning curve</strong></td>
<td>Steep</td>
<td>Gentle</td>
</tr>
<tr>
<td><strong>Automation</strong></td>
<td>DIY</td>
<td>Built-in</td>
</tr>
<tr>
<td><strong>SSH certificates</strong></td>
<td>Complex</td>
<td><code>step ssh</code> commands</td>
</tr>
</tbody>
</table>
<div class="admonition tip"><p class="admonition-title"><span class="mdi mdi-lightbulb-on-outline admonition-icon"></span>üí° When to Use step-ca</p><div class="admonition-content"><p>Use step-ca if you:</p>
<ul>
<li>Want automated certificate management</li>
<li>Need ACME protocol support</li>
<li>Want to integrate with modern tools (Traefik, Kubernetes)</li>
<li>Prefer simple CLI over complex OpenSSL commands</li>
<li>Need SSH certificate management</li>
<li>Want built-in renewal automation</li>
</ul>
<p>Stick with OpenSSL if you:</p>
<ul>
<li>Need maximum control over every detail</li>
<li>Have existing OpenSSL-based workflows</li>
<li>Work in air-gapped environments without step-ca binaries</li>
<li>Require specific certificate extensions not supported by step-ca</li>
</ul>
</div></div>
<h2 id="Installing-Your-CA-Certificate">Installing Your CA Certificate</h2>
<h3 id="Windows">Windows</h3>
<ol>
<li>Double-click <code>root-ca.crt</code></li>
<li>Click ‚ÄúInstall Certificate‚Äù</li>
<li>Select ‚ÄúLocal Machine‚Äù</li>
<li>Choose ‚ÄúPlace all certificates in the following store‚Äù</li>
<li>Select ‚ÄúTrusted Root Certification Authorities‚Äù</li>
<li>Click ‚ÄúFinish‚Äù</li>
</ol>
<h3 id="macOS">macOS</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> security add-trusted-cert <span class="token parameter variable">-d</span> <span class="token parameter variable">-r</span> trustRoot <span class="token parameter variable">-k</span> /Library/Keychains/System.keychain root-ca.crt</code></pre>
<h3 id="Linux-Ubuntu-Debian">Linux (Ubuntu/Debian)</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> root-ca.crt /usr/local/share/ca-certificates/homelab-root-ca.crt
<span class="token function">sudo</span> update-ca-certificates</code></pre>
<h3 id="iOS-iPadOS">iOS/iPadOS</h3>
<ol>
<li>Email <code>root-ca.crt</code> to yourself or host it on a web server</li>
<li>Open the file on your device</li>
<li>Go to Settings ‚Üí General ‚Üí VPN &amp; Device Management</li>
<li>Install the profile</li>
<li>Go to Settings ‚Üí General ‚Üí About ‚Üí Certificate Trust Settings</li>
<li>Enable full trust for the certificate</li>
</ol>
<h3 id="Android">Android</h3>
<ol>
<li>Copy <code>root-ca.crt</code> to your device</li>
<li>Settings ‚Üí Security ‚Üí Encryption &amp; credentials ‚Üí Install a certificate</li>
<li>Select ‚ÄúCA certificate‚Äù</li>
<li>Browse and select your certificate</li>
</ol>
<h2 id="Configuring-Services">Configuring Services</h2>
<h3 id="Nginx">Nginx</h3>
<pre class="language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">443</span> ssl</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> homeserver.local</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">ssl_certificate</span> /path/to/homeserver.crt</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_certificate_key</span> /path/to/homeserver.key</span><span class="token punctuation">;</span>
    
    <span class="token comment"># Optional: Include intermediate CA</span>
    <span class="token comment"># ssl_certificate should contain: server cert + intermediate cert</span>
    
    <span class="token directive"><span class="token keyword">ssl_protocols</span> TLSv1.2 TLSv1.3</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_ciphers</span> HIGH:!aNULL:!MD5</span><span class="token punctuation">;</span>
    
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_pass</span> http://localhost:8080</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="Apache">Apache</h3>
<pre class="language-apache" data-language="apache"><code class="language-apache">&lt;VirtualHost *:443&gt;
    ServerName homeserver.local
    
    SSLEngine on
    SSLCertificateFile /path/to/homeserver.crt
    SSLCertificateKeyFile /path/to/homeserver.key
    SSLCertificateChainFile /path/to/intermediate-ca.crt
    
    ProxyPass / http://localhost:8080/
    ProxyPassReverse / http://localhost:8080/
&lt;/VirtualHost&gt;</code></pre>
<h3 id="Docker-Compose">Docker Compose</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>alpine
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"443:443"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf
      <span class="token punctuation">-</span> ./homeserver.crt<span class="token punctuation">:</span>/etc/nginx/ssl/cert.crt
      <span class="token punctuation">-</span> ./homeserver.key<span class="token punctuation">:</span>/etc/nginx/ssl/cert.key</code></pre>
<h2 id="Certificate-Management">Certificate Management</h2>
<h3 id="Certificate-Lifecycle">Certificate Lifecycle</h3>
<div class="mermaid">flowchart TD
    A["üìù Create Certificate"] --&gt; B["üöÄ Deploy to Server"]
    B --&gt; C["üëÅÔ∏è Monitor Expiration"]
    C --&gt; D{"‚è∞ Approaching Expiration?"}
    D --&gt;|"No"| C
    D --&gt;|"Yes (at 2/3 lifetime)"| E["üîÑ Renew Certificate"]
    E --&gt; F["üöÄ Redeploy to Server"]
    F --&gt; C
    
    style A fill:#e3f2fd
    style B fill:#e8f5e9
    style C fill:#fff3e0
    style D fill:#fff9c4
    style E fill:#f3e5f5
    style F fill:#e8f5e9</div>
<h3 id="Renewal-Script">Renewal Script</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># renew-cert.sh</span>

<span class="token assign-left variable">DOMAIN</span><span class="token operator">=</span><span class="token string">"homeserver.local"</span>
<span class="token assign-left variable">CERT_DIR</span><span class="token operator">=</span><span class="token string">"/etc/ssl/homelab"</span>

<span class="token comment"># Generate new key and CSR</span>
openssl genrsa <span class="token parameter variable">-out</span> <span class="token variable">${CERT_DIR}</span>/<span class="token variable">${DOMAIN}</span>.key <span class="token number">2048</span>
openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> <span class="token variable">${CERT_DIR}</span>/<span class="token variable">${DOMAIN}</span>.key <span class="token punctuation">\</span>
  <span class="token parameter variable">-out</span> <span class="token variable">${CERT_DIR}</span>/<span class="token variable">${DOMAIN}</span>.csr <span class="token punctuation">\</span>
  <span class="token parameter variable">-subj</span> <span class="token string">"/CN=<span class="token variable">${DOMAIN}</span>"</span>

<span class="token comment"># Sign with intermediate CA</span>
openssl x509 <span class="token parameter variable">-req</span> <span class="token parameter variable">-in</span> <span class="token variable">${CERT_DIR}</span>/<span class="token variable">${DOMAIN}</span>.csr <span class="token punctuation">\</span>
  <span class="token parameter variable">-CA</span> <span class="token variable">${CERT_DIR}</span>/intermediate-ca.crt <span class="token punctuation">\</span>
  <span class="token parameter variable">-CAkey</span> <span class="token variable">${CERT_DIR}</span>/intermediate-ca.key <span class="token punctuation">\</span>
  <span class="token parameter variable">-CAcreateserial</span> <span class="token parameter variable">-out</span> <span class="token variable">${CERT_DIR}</span>/<span class="token variable">${DOMAIN}</span>.crt <span class="token punctuation">\</span>
  <span class="token parameter variable">-days</span> <span class="token number">365</span> <span class="token parameter variable">-sha256</span>

<span class="token comment"># Reload nginx</span>
systemctl reload nginx

<span class="token builtin class-name">echo</span> <span class="token string">"Certificate renewed for <span class="token variable">${DOMAIN}</span>"</span></code></pre>
<h3 id="Automation-with-Cron">Automation with Cron</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Add to crontab: renew 30 days before expiration</span>
<span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> * * /path/to/renew-cert.sh</code></pre>
<h2 id="Security-Best-Practices">Security Best Practices</h2>
<div class="admonition danger"><p class="admonition-title"><span class="mdi mdi-alert-circle-outline admonition-icon"></span>‚ö†Ô∏è Critical Security Measures</p><div class="admonition-content"><p><strong>Protect Your Root CA Private Key:</strong></p>
<ul>
<li>Store offline on encrypted USB drive</li>
<li>Never expose to network</li>
<li>Use strong passphrase (AES-256)</li>
<li>Keep multiple encrypted backups</li>
<li>Consider hardware security module (HSM) for production</li>
</ul>
</div></div>
<p><strong>Key Security Measures:</strong></p>
<ol>
<li>
<p><strong>Separate Root and Intermediate CAs</strong></p>
<ul>
<li>Root CA: Offline, only for signing intermediate CAs</li>
<li>Intermediate CA: Online, signs server certificates</li>
</ul>
</li>
<li>
<p><strong>Use Strong Key Sizes</strong></p>
<ul>
<li>Root CA: 4096-bit RSA or EC P-384</li>
<li>Intermediate CA: 4096-bit RSA or EC P-384</li>
<li>Server certificates: 2048-bit RSA minimum</li>
</ul>
</li>
<li>
<p><strong>Set Appropriate Validity Periods</strong></p>
<ul>
<li>Root CA: 10-20 years</li>
<li>Intermediate CA: 5 years</li>
<li>Server certificates: 1 year (easier to rotate)</li>
</ul>
</li>
<li>
<p><strong>Implement Certificate Revocation</strong></p>
<ul>
<li>Maintain Certificate Revocation List (CRL)</li>
<li>Or use Online Certificate Status Protocol (OCSP)</li>
</ul>
</li>
<li>
<p><strong>Audit and Monitor</strong></p>
<ul>
<li>Log all certificate issuance</li>
<li>Monitor for unauthorized certificates</li>
<li>Regular security audits</li>
</ul>
</li>
</ol>
<h2 id="Common-Issues-and-Solutions">Common Issues and Solutions</h2>
<h3 id="Issue-Browser-Still-Shows-Warning">Issue: Browser Still Shows Warning</h3>
<p><strong>Causes:</strong></p>
<ul>
<li>CA certificate not installed correctly</li>
<li>Certificate doesn‚Äôt include correct SAN (Subject Alternative Name)</li>
<li>Accessing via IP but certificate only has DNS name</li>
</ul>
<p><strong>Solution:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Check certificate SANs</span>
openssl x509 <span class="token parameter variable">-in</span> homeserver.crt <span class="token parameter variable">-text</span> <span class="token parameter variable">-noout</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-A1</span> <span class="token string">"Subject Alternative Name"</span>

<span class="token comment"># Ensure certificate includes all access methods</span>
DNS.1 <span class="token operator">=</span> homeserver.local
DNS.2 <span class="token operator">=</span> homeserver
IP.1 <span class="token operator">=</span> <span class="token number">192.168</span>.1.100</code></pre>
<h3 id="Issue-Certificate-Chain-Incomplete">Issue: Certificate Chain Incomplete</h3>
<p><strong>Solution:</strong><br>
Create certificate bundle:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> homeserver.crt intermediate-ca.crt <span class="token operator">&gt;</span> homeserver-bundle.crt</code></pre>
<p>Use bundle in server configuration.</p>
<h3 id="Issue-Private-Key-Permissions">Issue: Private Key Permissions</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Set correct permissions</span>
<span class="token function">chmod</span> <span class="token number">600</span> homeserver.key
<span class="token function">chown</span> root:root homeserver.key</code></pre>
<h2 id="Advanced-Automated-Certificate-Management">Advanced: Automated Certificate Management</h2>
<h3 id="SSH-Certificates-with-step-ca">SSH Certificates with step-ca</h3>
<p>If you initialized with <code>--ssh</code>, step-ca can also issue SSH certificates for password-less authentication.</p>
<p><strong>Setup SSH User Authentication:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># On SSH server: Trust the user CA</span>
step <span class="token function">ssh</span> config <span class="token parameter variable">--roots</span> <span class="token operator">&gt;</span> /etc/ssh/ssh_user_ca.pub

<span class="token builtin class-name">echo</span> <span class="token string">'TrustedUserCAKeys /etc/ssh/ssh_user_ca.pub'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/ssh/sshd_config
<span class="token function">sudo</span> systemctl restart sshd

<span class="token comment"># On client: Get SSH user certificate</span>
step <span class="token function">ssh</span> certificate alice@homelab.local id_ecdsa
‚úî Provisioner: admin@homelab.local <span class="token punctuation">(</span>JWK<span class="token punctuation">)</span>
‚úî Please enter the password to decrypt the provisioner key: ********
‚úî CA: https://ca.homelab.local:8443
‚úî Private Key: id_ecdsa
‚úî Certificate: id_ecdsa-cert.pub
‚úî SSH Agent: <span class="token function">yes</span>

<span class="token comment"># Inspect certificate</span>
<span class="token function">cat</span> id_ecdsa-cert.pub <span class="token operator">|</span> step <span class="token function">ssh</span> inspect</code></pre>
<p><strong>Setup SSH Host Authentication:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># On SSH server: Get host certificate</span>
<span class="token builtin class-name">cd</span> /etc/ssh
<span class="token function">sudo</span> step <span class="token function">ssh</span> certificate <span class="token parameter variable">--host</span> <span class="token parameter variable">--sign</span> server.homelab.local ssh_host_ecdsa_key.pub

<span class="token comment"># Configure SSHD to use certificate</span>
<span class="token builtin class-name">echo</span> <span class="token string">'HostCertificate /etc/ssh/ssh_host_ecdsa_key-cert.pub'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/ssh/sshd_config
<span class="token function">sudo</span> systemctl restart sshd

<span class="token comment"># On clients: Trust the host CA</span>
step <span class="token function">ssh</span> config <span class="token parameter variable">--host</span> <span class="token parameter variable">--roots</span> <span class="token operator">&gt;&gt;</span> ~/.ssh/known_hosts
<span class="token comment"># Prepend with: @cert-authority *</span></code></pre>
<p><strong>Automate SSH Host Certificate Renewal:</strong></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Create weekly renewal cron</span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/cron.weekly/renew-ssh-cert</span>
#!/bin/sh
export STEPPATH=/root/.step
cd /etc/ssh &amp;&amp; step ssh renew ssh_host_ecdsa_key-cert.pub ssh_host_ecdsa_key --force
exit 0
EOF</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">755</span> /etc/cron.weekly/renew-ssh-cert</code></pre>
<h3 id="Using-step-ca-with-nginx-proxy-manager">Using step-ca with nginx-proxy-manager</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1. Get certificate from step-ca</span>
step ca certificate npm.homelab.local npm.crt npm.key

<span class="token comment"># 2. In nginx-proxy-manager UI:</span>
<span class="token comment">#    - SSL Certificates ‚Üí Add SSL Certificate ‚Üí Custom</span>
<span class="token comment">#    - Upload npm.crt and npm.key</span>
<span class="token comment">#    - Set up automatic renewal with step ca renew --daemon</span></code></pre>
<h3 id="Using-step-ca-with-Home-Assistant">Using step-ca with Home Assistant</h3>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># configuration.yaml</span>
<span class="token key atrule">http</span><span class="token punctuation">:</span>
  <span class="token key atrule">ssl_certificate</span><span class="token punctuation">:</span> /ssl/homeassistant.crt
  <span class="token key atrule">ssl_key</span><span class="token punctuation">:</span> /ssl/homeassistant.key

<span class="token comment"># Get certificate</span>
<span class="token comment"># step ca certificate homeassistant.local /ssl/homeassistant.crt /ssl/homeassistant.key</span></code></pre>
<h3 id="Monitoring-and-Management">Monitoring and Management</h3>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Check certificate expiration</span>
step certificate inspect homeserver.crt <span class="token parameter variable">--short</span>
X.509v3 TLS Certificate <span class="token punctuation">(</span>ECDSA P-256<span class="token punctuation">)</span> <span class="token punctuation">[</span>Serial: <span class="token number">7720</span><span class="token punctuation">..</span>.1576<span class="token punctuation">]</span>
  Subject:     homeserver.local
  Issuer:      Home Lab Intermediate CA
  Valid from:  <span class="token number">2025</span>-05-15T00:59:37Z
          to:  <span class="token number">2025</span>-05-16T01:00:37Z

<span class="token comment"># Revoke a certificate (passive revocation - blocks renewal)</span>
step ca revoke <span class="token parameter variable">--cert</span> homeserver.crt <span class="token parameter variable">--key</span> homeserver.key
‚úî CA: https://ca.homelab.local:8443
Certificate with Serial Number <span class="token number">30671613121311574910895916201205874495</span> has been revoked.

<span class="token comment"># List provisioners</span>
step ca provisioner list</code></pre>
<h2 id="Comparison-Private-CA-vs-Let‚Äôs-Encrypt">Comparison: Private CA vs Let‚Äôs Encrypt</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Private CA</th>
<th>Let‚Äôs Encrypt</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Cost</strong></td>
<td>Free</td>
<td>Free</td>
</tr>
<tr>
<td><strong>Internal IPs</strong></td>
<td>‚úÖ Yes</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong><code>.local</code> domains</strong></td>
<td>‚úÖ Yes</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>Offline operation</strong></td>
<td>‚úÖ Yes</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>Auto-renewal</strong></td>
<td>Manual/Custom</td>
<td>‚úÖ Built-in</td>
</tr>
<tr>
<td><strong>Public trust</strong></td>
<td>‚ùå No</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td><strong>Setup complexity</strong></td>
<td>Medium</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Maintenance</strong></td>
<td>Manual</td>
<td>Automated</td>
</tr>
</tbody>
</table>
<p><strong>When to use Private CA:</strong></p>
<ul>
<li>Internal services only</li>
<li>Private IP addresses</li>
<li><code>.local</code> or custom TLDs</li>
<li>Air-gapped networks</li>
<li>Full control needed</li>
</ul>
<p><strong>When to use Let‚Äôs Encrypt:</strong></p>
<ul>
<li>Public-facing services</li>
<li>Public domain names</li>
<li>Want automatic renewal</li>
<li>Don‚Äôt want to manage CA infrastructure</li>
</ul>
<h2 id="Resources">Resources</h2>
<ul>
<li><strong><a target="_blank" rel="noopener" href="https://www.openssl.org/docs/">OpenSSL Documentation</a>:</strong> Complete OpenSSL reference</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/OpenVPN/easy-rsa">easy-rsa</a>:</strong> Simplified CA management</li>
<li><strong><a target="_blank" rel="noopener" href="https://smallstep.com/docs/step-ca">step-ca</a>:</strong> Modern CA with ACME support</li>
<li><strong><a target="_blank" rel="noopener" href="https://pki-tutorial.readthedocs.io/">PKI Tutorial</a>:</strong> Comprehensive PKI guide</li>
</ul>
<h2 id="Conclusion">Conclusion</h2>
<p>Setting up a private CA might seem daunting at first, but once configured, it eliminates those annoying browser warnings and provides proper encryption for your homelab services. The initial time investment pays off with a more professional and secure home network.</p>
<p><strong>Key Takeaways:</strong></p>
<ul>
<li>Private CAs enable trusted HTTPS for internal services</li>
<li><strong>step-ca is recommended</strong> for modern, automated certificate management</li>
<li>Two-tier hierarchy (Root + Intermediate) provides better security</li>
<li>Install root CA certificate on all your devices once</li>
<li>Automate certificate renewal to avoid expiration issues (step-ca makes this easy)</li>
<li>Keep root CA private key offline and secure</li>
<li>SSH certificates eliminate password authentication and improve security</li>
</ul>
<p><strong>Quick Start Recommendation:</strong></p>
<p>For most homelabs, use step-ca:</p>
<ol>
<li><code>step ca init --acme --ssh</code> (one command setup)</li>
<li><code>step certificate install $(step path)/certs/root_ca.crt</code> (trust on all devices)</li>
<li><code>step ca certificate service.local service.crt service.key</code> (get certificates)</li>
<li><code>step ca renew service.crt service.key --daemon</code> (automatic renewal)</li>
</ol>
<p>Start small with a single service, get comfortable with the process, then expand to your entire homelab. Your future self will thank you when you‚Äôre not clicking through security warnings anymore! üîí</p>

        </div>
        
        <footer class="article-footer">
            
    <a data-url="https://neo01.com/2024/03/Private-CA-at-Home/" data-id="28803402" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url').replace("http://","https://"),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <!--script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Neo Alienson"
        },
        "headline": "Setting Up a Private Certificate Authority at Home",
        "image": "https://neo01.comthumbnail.png",
        "keywords": "Cybersecurity Homelab PKI",
        "genre": "Cybersecurity",
        "datePublished": "2024-03-15",
        "dateCreated": "2024-03-15",
        "dateModified": "2025-10-22",
        "url": "https://neo01.com/2024/03/Private-CA-at-Home/",
        "description": "Tired of browser warnings on your homelab services? Learn how to set up your own Certificate Authority to issue trusted SSL certificates for internal services.",
        "wordCount": 4218
    }
</script-->

</article>

                        </div>
                    </section>
                    
<aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
                <li>
                    <a class="social-tooltip" title="stack-exchange" href="https://stackexchange.com/users/2122053/neo?tab=accounts" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-exchange"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="https://stackoverflow.com/users/1885105/neo" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-stack-overflow"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/neoalienson" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-github"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/neo01" target="_blank" rel="noopener">
                        <i class="icon fa-brands fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>
    <div class="widgets-container">

        
            
                
                <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
        <ul><li><a href="/ai">AI Playground</a></li><li><a href="/tools">Tools</a></li><li><a href="/games">Games</a></li><li><a href="/pages/useful-information">Useful Information</a></li><li><a href="/pages/Hexo-Blogging-Cheatsheet">Hexo Blogging Cheatsheet</a></li></ul>
    </div>
</div>

                
            
                
                
                
            
                
                    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/How-I-Use-AI-to-Learn/" class="thumbnail">
        <span style="background-image:url(/assets/learning/thumbnail_80.png)" alt="How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/How-I-Use-AI-to-Learn/" class="title">How I Use AI to Learn: A Personal Journey Through Iterative Knowledge Building</a></p>
                            <p class="item-date"><time datetime="2025-10-18T16:00:00.000Z" itemprop="datePublished">2025-10-19</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="thumbnail">
        <span style="background-image:url(/2025/10/Tools-Games-And-Browser-Built-In-AI/thumbnail.jpeg)" alt="Tools, Games and Browser Built-in AI Playground" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/10/Tools-Games-And-Browser-Built-In-AI/" class="title">Tools, Games and Browser Built-in AI Playground</a></p>
                            <p class="item-date"><time datetime="2025-10-01T16:00:00.000Z" itemprop="datePublished">2025-10-02</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="thumbnail">
        <span style="background-image:url(/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/thumbnail.jpeg)" alt="The Rise of Agentic Coding: AI-Powered Software Engineering" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/AI/">AI</a></p>
                            <p class="item-title"><a href="/2025/09/The_Rise_of_Agentic_Coding_AI_Powered_Software_Engineering/" class="title">The Rise of Agentic Coding: AI-Powered Software Engineering</a></p>
                            <p class="item-date"><time datetime="2025-09-19T16:00:00.000Z" itemprop="datePublished">2025-09-20</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part2/" class="title">Understanding Ephemeral Ports Part 2: Why Server Applications Should Avoid Dynamic Ports</a></p>
                            <p class="item-date"><time datetime="2025-08-30T16:00:00.000Z" itemprop="datePublished">2025-08-31</time></p>
                        </div>
                    </li>
                    <li>
                        <div class="item-thumbnail">
                            <a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="thumbnail">
        <span style="background-image:url(/assets/ports/thumbnail.png)" alt="Understanding Ephemeral Ports: The Invisible Workers of Network Communication" class="thumbnail-image"></span>
</a>
                        </div>
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Development/">Development</a></p>
                            <p class="item-title"><a href="/2025/08/Understanding_Ephemeral_Ports_Part1/" class="title">Understanding Ephemeral Ports: The Invisible Workers of Network Communication</a></p>
                            <p class="item-date"><time datetime="2025-08-29T16:00:00.000Z" itemprop="datePublished">2025-08-30</time></p>
                        </div>
                    </li>
            </ul>
        </div>
    </div>

                
            
                
                
    
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list">
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2025/">2025</a>
                    <span class="archive-list-count">72</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2024/">2024</a>
                    <span class="archive-list-count">25</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2023/">2023</a>
                    <span class="archive-list-count">15</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2022/">2022</a>
                    <span class="archive-list-count">17</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2021/">2021</a>
                    <span class="archive-list-count">14</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2020/">2020</a>
                    <span class="archive-list-count">13</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2019/">2019</a>
                    <span class="archive-list-count">12</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2018/">2018</a>
                    <span class="archive-list-count">2</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2017/">2017</a>
                    <span class="archive-list-count">5</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2016/">2016</a>
                    <span class="archive-list-count">4</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2015/">2015</a>
                    <span class="archive-list-count">6</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2014/">2014</a>
                    <span class="archive-list-count">7</span>
                </li>
            
                <li class="archive-list-item">
                    <a class="archive-list-link" href="/archives/2013/">2013</a>
                    <span class="archive-list-count">2</span>
                </li>
            
            </ul>
        </div>
    </div>


                
            
        

    </div>
</aside>


                </div>
            </div>
        </div>
        
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>

            <div class="qrcode-share-wrapper">
                <div class="qrcode-text">https://neo01.com/l#5e32cc54</div>
                <img src="/qr/qr-0e6709f0b3ac612bb7277c9187f0f049.svg" width="200" height="200" alt="QR Code for https://neo01.com/l#5e32cc54">
            </div>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" title="Homepage" class="logo"></a>
                </h1>
                
                <p>¬© 2025 Neo Alienson. All rights reserved.
                  <a href="/terms-and-conditions">Terms and Conditions</a></p>
                
            </div>
            <div class="footer-plugins">
              


            </div>
        </div>
    </div>
</footer>

        
        
    
        


        


        


        


        


        


        


        


        


    



<!-- Custom Scripts -->




        
    </div>
<!-- hexo injector body_end start --><script type="text/javascript" src="/js/bundle_last.js"></script><!-- hexo injector body_end end -->

</body></html>